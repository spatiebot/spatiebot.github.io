{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,IwCAY,ESGA,ECMA,EAuBA,EAuBA,EAKA,EA6BA,EAKA,EAuBA,EAQA,EAKA,EAKA,EA+CA,EAMA,EO5LA,EYAA,E,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,I,E,E,S,E,E,S,E,E,S,E,E,SpEiCR,EAAQ,AAnBZ,SAAS,EAAe,CAAa,EACnC,IAAI,EAAU,IAAI,EAAM,GACpB,EAAW,EAAK,EAAM,SAAS,CAAC,OAAO,CAAE,GAa7C,OAVA,EAAA,MAAA,CAAa,EAAU,EAAM,SAAS,CAAE,GAGxC,EAAA,MAAA,CAAa,EAAU,GAGvB,EAAS,MAAM,CAAG,SAAgB,CAAc,EAC9C,OAAO,EAAe,EAAY,EAAe,GACnD,EAEO,CACT,E,E,SAMA,CAAA,EAAM,KAAK,CAAG,EAGd,EAAM,MAAM,CAAZ,EAAA,SACA,EAAM,WAAW,CAAjB,EAAA,SACA,EAAM,QAAQ,CAAd,EAAA,SACA,EAAM,OAAO,CAAG,AAAhB,EAAA,SAAA,OAAA,CAGA,EAAM,GAAG,CAAG,SAAa,CAAQ,EAC/B,OAAO,QAAQ,GAAG,CAAC,EACrB,EACA,EAAM,MAAM,CAAZ,EAAA,SAGA,EAAM,YAAY,CAAlB,EAAA,SAEA,EAAA,OAAA,CAAiB,EAGjB,EAAA,OAAA,CAAe,OAAO,CAAG,C,G,E,Q,S,C,C,C,E,I,E,E,SClDrB,EAAW,OAAO,SAAS,CAAC,QAAQ,CAQxC,SAAS,EAAQ,CAAG,EAClB,OAAO,MAAM,OAAO,CAAC,EACvB,CAQA,SAAS,EAAY,CAAG,EACtB,OAAO,AAAe,KAAA,IAAR,CAChB,CAmBA,SAAS,EAAc,CAAG,EACxB,MAAO,AAAuB,yBAAvB,EAAS,IAAI,CAAC,EACvB,CAsDA,SAAS,EAAS,CAAG,EACnB,OAAO,A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AC,CAAC,EAAM,EAAK,GAAM,CAAA,CAAE,CAAC,EAAK,CAAE,CAAK,CAAA,ICZ9D,IAAA,I,CAAK,E,C,E,C,E,0B,C,E,C,6B,C,C,E,mB,C,E,C,sB,C,C,E,U,C,E,C,a,C,C,E,a,C,E,C,gB,C,C,E,yC,C,E,C,4C,C,C,E,c,C,E,C,iB,C,C,E,a,C,E,C,gB,C,C,E,kB,C,E,C,qB,C,C,E,kB,C,E,C,qB,C,C,E,c,C,G,C,iB,C,C,E,iB,C,G,C,oB,C,C,E,gC,C,G,C,mC,C,C,E,0C,C,G,C,6C,C,C,E,mB,C,G,C,sB,C,C,E,a,C,G,C,gB,C,C,E,oB,C,G,C,uB,C,C,E,e,C,I,C,kBAAA,GAuBA,I,CAAA,E,C,E,C,E,K,C,E,C,Q,C,C,E,I,C,E,C,OAAA,GAuBA,I,CAAA,E,C,E,C,E,M,C,E,C,S,C,C,E,G,C,E,C,MAAA,GAKA,I,CAAA,E,C,E,C,E,M,C,E,C,S,C,C,E,gB,C,E,C,mB,C,C,E,e,C,E,C,kB,C,C,E,c,C,E,C,iB,C,C,E,e,C,E,C,kB,C,C,E,qB,C,E,C,wB,C,C,E,e,C,E,C,kB,C,C,E,O,C,E,C,U,C,C,E,M,C,E,C,S,C,C,E,O,C,E,C,U,C,C,E,Q,C,I,C,WAAA,GA6BA,I,CAAA,E,C,E,C,E,M,C,E,C,S,C,C,E,O,C,E,C,UAAA,GAKA,IAGT,CAHS,E,C,EAGT,CAAA,EAAA,KAAA,CAAA,EAAA,CAAA,QAKA,CAAA,CAAA,EAAA,QAAA,CAAA,EAAA,CAAA,WARS,GAuBA,I,CAAA,E,C,E,C,E,G,C,E,C,M,C,C,E,G,C,E,C,MAAA,GAQA,I,CAAA,E,C,E,C,E,M,C,E,C,S,C,C,E,O,C,E,C,UAAA,GAKA,I,CAAA,E,C,E,C,E,I,C,E,C,O,C,C,E,G,C,E,C,MAAA,GAKA,IAGT,CAHS,E,C,EAGT,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,SAKA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,UARS,GA+CA,I,CAAA,E,C,E,C,E,G,C,E,C,M,C,C,E,G,C,E,C,M,C,C,E,G,C,E,C,MAAA,GAYoB,OAAO,MAAM,CAC3C,CAAC,KACE,OAAO,OAA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YAAY,CAAG,WAAW,KAC3B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,EAAM,GAAG,CAAE,CAAC,EAAM,KAAK,EACvD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAG,IACzC,EAAG,EAAM,QAAQ,EAEV,IAAI,CAAC,YAAY,EAExB,AAAI,IAAI,CAAC,cAAc,CACZ,MAEX,IAAI,CAAC,cAAc,CAAG,WAAW,KAC7B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,EAAM,GAAG,CAAE,CAAC,EAAM,KAAK,EACvD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,cAAc,CAAG,IAC3C,EAAG,EAAM,QAAQ,EAEV,IAAI,CAAC,cAAc,CAEtC,CAEJ,C0B3HO,IAAK,I,CAAA,E,C,E,C,E,wB,C,E,C,2B,C,C,E,0B,C,E,C,6B,C,C,E,iB,C,E,C,oB,C,C,E,a,C,E,C,gB,C,C,E,S,C,E,C,Y,C,C,E,gB,C,E,C,mB,C,C,E,gB,C,E,C,mB,C,C,E,S,C,E,C,Y,C,C,E,a,C,E,C,gB,C,C,E,W,C,E,C,c,C,C,E,S,C,G,C,Y,C,C,E,W,C,G,C,c,C,C,E,Q,C,G,C,W,C,C,E,K,C,G,C,Q,C,C,E,a,C,G,C,gB,C,C,E,iB,C,G,C,oB,C,C,E,W,C,G,C,c,C,C,E,Q,C,G,C,W,C,C,E,c,C,G,C,iB,C,C,E,Y,C,G,C,e,C,C,E,a,C,G,C,gB,C,C,E,Y,C,G,C,e,C,C,E,kB,C,G,C,qB,C,C,E,W,C,G,C,c,C,C,E,U,C,G,C,a,C,C,E,a,C,G,C,gB,C,C,E,Y,C,G,C,e,C,C,E,Y,C,G,C,e,C,C,E,U,C,G,C,a,C,C,E,c,C,G,C,iB,C,C,E,Y,C,G,C,e,C,C,E,c,C,G,C,iB,C,C,E,a,C,G,C,gB,C,C,E,sB,C,G,C,yB,C,C,E,e,C,G,C,kB,C,C,E,c,C,G,C,iB,C,C,E,kB,C,G,C,qB,C,C,E,mB,C,G,C,sB,C,C,E,oB,C,G,C,uB,C,C,E,a,C,G,C,gB,C,C,E,Y,C,G,C,e,C,C,E,c,C,G,C,iB,C,C,E,W,C,G,C,c,C,C,E,c,C,G,C,iB,C,C,E,Y,C,G,C,e,C,C,E,oB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AI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,GAAG,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,KAAM,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,OAAQ,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,KAAM,MAAO,GAAG,CAAE,CAAC,KAAM,KAAM,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,KAAM,KAAM,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,KAAM,MAAO,GAAG,CAAE,CAAC,KAAM,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,GAAG,CAAE,CAAC,KAAM,MAAO,GAAG,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IAAI,CAAE,CAAC,MAAO,MAAO,IA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","sources":["<anon>","node_modules/axios/lib/axios.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/helpers/bind.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/defaults.js","node_modules/process/browser.js","node_modules/axios/lib/helpers/normalizeHeaderName.js","node_modules/axios/lib/core/enhanceError.js","node_modules/axios/lib/adapters/xhr.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/core/createError.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/core/buildFullPath.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/cancel/Cancel.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/core/mergeConfig.js","node_modules/axios/lib/helpers/validator.js","node_modules/axios/lib/env/data.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/helpers/isAxiosError.js","src/browser-app.ts","src/botting/bot-state.ts","src/ab-protocol/src/lib.ts","src/ab-protocol/src/types/packets-client.ts","src/ab-protocol/src/types/packets-server.ts","src/ab-protocol/src/support/errors.ts","src/ab-protocol/src/packets/index.ts","src/ab-protocol/src/packets/client.ts","src/ab-protocol/src/packets/server.ts","src/ab-protocol/src/schemas/client.ts","src/ab-protocol/src/types/data.ts","src/ab-protocol/src/schemas/server.ts","src/ab-protocol/src/marshaling/index.ts","src/ab-protocol/src/support/utils.ts","src/ab-protocol/src/marshaling/client.ts","src/ab-protocol/src/marshaling/server.ts","src/ab-protocol/src/unmarshaling/index.ts","src/ab-protocol/src/unmarshaling/client.ts","src/ab-protocol/src/unmarshaling/server.ts","src/ab-protocol/src/types/client.ts","src/ab-protocol/src/types/server.ts","src/ab-protocol/src/types/flags.ts","src/ab-protocol/src/decoding/index.ts","src/ab-protocol/src/encoding/index.ts","src/helpers/stopwatch.ts","src/browser-impl/browser-context.ts","src/app-context/eventqueue-processor.ts","src/events/constants.ts","src/app-context/handler-collections.ts","src/handlers/chat-send-handler.ts","src/handlers/keyboard-message-handler.ts","src/handlers/maintenance/missile-maintenance-handler.ts","src/ab-assets/map-constants.ts","src/ab-assets/missile-constants.ts","src/handlers/maintenance/player-maintenance-handler.ts","src/ab-assets/ships-constants.ts","src/ab-assets/upgrade-constants.ts","src/helpers/periodic-logger.ts","src/handlers/server-message-handler.ts","src/ab-assets/chat-constants.ts","src/handlers/server-messages/crate-new-handler.ts","src/models/mob.ts","src/models/pos.ts","src/handlers/server-messages/flag-update-handler.ts","src/handlers/server-messages/leave-horizon-handler.ts","src/handlers/server-messages/login-handler.ts","src/helpers/decoder.ts","src/models/player.ts","src/models/power-ups.ts","src/models/upgrades.ts","src/handlers/server-messages/mini-map-handler.ts","src/handlers/server-messages/missile-update-handler.ts","src/handlers/server-messages/mob-despawn-handler.ts","src/handlers/server-messages/mountain-hit-handler.ts","src/handlers/server-messages/player-boost-handler.ts","src/handlers/server-messages/player-bounce-handler.ts","src/handlers/server-messages/player-change-flag-handler.ts","src/handlers/server-messages/player-fire-handler.ts","src/handlers/server-messages/player-hit-handler.ts","src/handlers/server-messages/player-killed-handler.ts","src/handlers/server-messages/player-leave-handler.ts","src/handlers/server-messages/player-level-handler.ts","src/handlers/server-messages/player-new-handler.ts","src/handlers/server-messages/player-powerup-handler.ts","src/handlers/server-messages/player-repel-handler.ts","src/handlers/server-messages/player-respawn-handler.ts","src/handlers/server-messages/player-spectate-handler.ts","src/handlers/server-messages/player-stealth-handler.ts","src/handlers/server-messages/player-switch-type-handler.ts","src/handlers/server-messages/player-update-handler.ts","src/handlers/server-messages/player-upgrade-handler.ts","src/handlers/server-messages/score-board-handler.ts","src/handlers/server-messages/score-detailed-handler.ts","src/handlers/server-messages/score-update-handler.ts","src/handlers/server-messages/server-announcement-handler.ts","src/handlers/server-messages/server-command-reply-handler.ts","src/handlers/server-messages/server-custom-handler.ts","src/handlers/server-messages/server-error-handler.ts","src/handlers/server-messages/teams-handler.ts","src/app-context/settings.ts","src/app-context/state.ts","src/models/ctf-team.ts","src/app-context/timer-manager.ts","src/connectivity/connection.ts","src/connectivity/keyStateCache.ts","src/events/event-queue.ts","src/events/event-message.ts","src/handlers/browser-visibility-handler.ts","src/handlers/flag-cookie-handler.ts","node_modules/js-cookie/dist/js.cookie.js","src/handlers/render/chat-render-handler.ts","src/handlers/render/ctf-game-over-render-handler.ts","src/handlers/render/each-second-render-handler.ts","src/handlers/render/explosion-visualization-handler.ts","src/models/explosion-visual.ts","src/handlers/render/game-render-handler.ts","src/handlers/render/golifart-visualization-handler.ts","src/models/golifart-visual.ts","src/handlers/render/kill-visualization-handler.ts","src/models/kill-visual.ts","src/handlers/render/missile-chemtrail-handler.ts","src/models/cloud-visual.ts","src/models/cloud-visual-spec.ts","src/handlers/render/server-announcement-render-handler.ts","src/handlers/render/shake-and-show-message-on-kill-handler.ts","src/handlers/render/shake-on-hit-handler.ts","src/browser-impl/browser-initialization.ts","src/browser-impl/browser-logger.ts","src/browser-impl/browser-websocket-factory.ts","src/browser-impl/renderers/renderer.ts","src/browser-impl/clipped-view.ts","src/browser-impl/renderers/background-renderer.ts","src/browser-impl/renderers/debug-info-renderer.ts","src/browser-impl/renderers/effects-renderer.ts","src/browser-impl/renderers/flag-renderer.ts","src/ab-assets/ctf-constants.ts","src/browser-impl/renderers/minimap-renderer.ts","src/browser-impl/renderers/missiles-renderer.ts","src/browser-impl/renderers/path-renderer.ts","src/browser-impl/renderers/playerlist-renderer.ts","src/browser-impl/renderers/players-renderer.ts","src/browser-impl/renderers/stats-renderer.ts","src/browser-impl/renderers/upcrates-renderer.ts","src/browser-impl/renderers/walls-renderer.ts","src/ab-assets/walls.ts","src/browser-impl/user-input/aircraft-selection.ts","src/browser-impl/user-input/apply-upgrades.ts","src/browser-impl/user-input/chat-input.ts","src/browser-impl/user-input/keyboard-and-mouse-input.ts","src/browser-impl/user-input/player-dropdownmenu.ts","src/handlers/stay-active-handler.ts","src/browser-impl/user-input/drop-flag.ts","src/browser-impl/user-input/auto-fire.ts","src/handlers/auto-fire-handler.ts","src/browser-impl/user-input/spectate.ts","src/browser-impl/user-input/switch-sides.ts","src/handlers/bot/bot-heartbeat-handler.ts","src/botting/face-location-executor.ts","src/helpers/rotation.ts","src/botting/goto-location-executor.ts","src/helpers/delta.ts","src/helpers/prediction.ts","src/browser-impl/user-input/autopilot-to-flag.ts","src/handlers/auto-boost-handler.ts","src/browser-impl/landing-page.ts","src/helpers/games-repository.ts","node_modules/axios/index.js","src/models/game-endpoint.ts","src/models/server-region.ts","src/models/server-region-info.ts","src/helpers/styles-repository.ts","src/browser-impl/thirdparty-login.ts"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"7we3r\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $jJbMR = parcelRequire(\"jJbMR\");\n\nvar $ewFRw = parcelRequire(\"ewFRw\");\n\nvar $lk5EI = parcelRequire(\"lk5EI\");\n\nvar $lJY4v = parcelRequire(\"lJY4v\");\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */ function $57966c7e0affc4cb$var$createInstance(defaultConfig) {\n    var context = new $ewFRw(defaultConfig);\n    var instance = $jJbMR($ewFRw.prototype.request, context);\n    // Copy axios.prototype to instance\n    $gKvUL.extend(instance, $ewFRw.prototype, context);\n    // Copy context to instance\n    $gKvUL.extend(instance, context);\n    // Factory for creating new instances\n    instance.create = function create(instanceConfig) {\n        return $57966c7e0affc4cb$var$createInstance($lk5EI(defaultConfig, instanceConfig));\n    };\n    return instance;\n}\n// Create the default instance to be exported\nvar $57966c7e0affc4cb$var$axios = $57966c7e0affc4cb$var$createInstance($lJY4v);\n// Expose Axios class to allow class inheritance\n$57966c7e0affc4cb$var$axios.Axios = $ewFRw;\n\n// Expose Cancel & CancelToken\n$57966c7e0affc4cb$var$axios.Cancel = (parcelRequire(\"4Tkeq\"));\n\n$57966c7e0affc4cb$var$axios.CancelToken = (parcelRequire(\"lAKPy\"));\n\n$57966c7e0affc4cb$var$axios.isCancel = (parcelRequire(\"7L4QX\"));\n\n$57966c7e0affc4cb$var$axios.VERSION = (parcelRequire(\"35BUy\")).version;\n// Expose all/spread\n$57966c7e0affc4cb$var$axios.all = function all(promises) {\n    return Promise.all(promises);\n};\n\n$57966c7e0affc4cb$var$axios.spread = (parcelRequire(\"JEeti\"));\n\n// Expose isAxiosError\n$57966c7e0affc4cb$var$axios.isAxiosError = (parcelRequire(\"dxy9O\"));\nmodule.exports = $57966c7e0affc4cb$var$axios;\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = $57966c7e0affc4cb$var$axios;\n\n});\nparcelRegister(\"gKvUL\", function(module, exports) {\n'use strict';\n\nvar $jJbMR = parcelRequire(\"jJbMR\");\n// utils is a library of generic helper functions non-specific to axios\nvar $c319b2c832c2914a$var$toString = Object.prototype.toString;\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */ function $c319b2c832c2914a$var$isArray(val) {\n    return Array.isArray(val);\n}\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */ function $c319b2c832c2914a$var$isUndefined(val) {\n    return typeof val === 'undefined';\n}\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */ function $c319b2c832c2914a$var$isBuffer(val) {\n    return val !== null && !$c319b2c832c2914a$var$isUndefined(val) && val.constructor !== null && !$c319b2c832c2914a$var$isUndefined(val.constructor) && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */ function $c319b2c832c2914a$var$isArrayBuffer(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object ArrayBuffer]';\n}\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */ function $c319b2c832c2914a$var$isFormData(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object FormData]';\n}\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */ function $c319b2c832c2914a$var$isArrayBufferView(val) {\n    var result;\n    if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) result = ArrayBuffer.isView(val);\n    else result = val && val.buffer && $c319b2c832c2914a$var$isArrayBuffer(val.buffer);\n    return result;\n}\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */ function $c319b2c832c2914a$var$isString(val) {\n    return typeof val === 'string';\n}\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */ function $c319b2c832c2914a$var$isNumber(val) {\n    return typeof val === 'number';\n}\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */ function $c319b2c832c2914a$var$isObject(val) {\n    return val !== null && typeof val === 'object';\n}\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */ function $c319b2c832c2914a$var$isPlainObject(val) {\n    if ($c319b2c832c2914a$var$toString.call(val) !== '[object Object]') return false;\n    var prototype = Object.getPrototypeOf(val);\n    return prototype === null || prototype === Object.prototype;\n}\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */ function $c319b2c832c2914a$var$isDate(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object Date]';\n}\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */ function $c319b2c832c2914a$var$isFile(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object File]';\n}\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */ function $c319b2c832c2914a$var$isBlob(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object Blob]';\n}\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */ function $c319b2c832c2914a$var$isFunction(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object Function]';\n}\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */ function $c319b2c832c2914a$var$isStream(val) {\n    return $c319b2c832c2914a$var$isObject(val) && $c319b2c832c2914a$var$isFunction(val.pipe);\n}\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */ function $c319b2c832c2914a$var$isURLSearchParams(val) {\n    return $c319b2c832c2914a$var$toString.call(val) === '[object URLSearchParams]';\n}\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */ function $c319b2c832c2914a$var$trim(str) {\n    return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */ function $c319b2c832c2914a$var$isStandardBrowserEnv() {\n    if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' || navigator.product === 'NativeScript' || navigator.product === 'NS')) return false;\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */ function $c319b2c832c2914a$var$forEach(obj, fn) {\n    // Don't bother if no value provided\n    if (obj === null || typeof obj === 'undefined') return;\n    // Force an array if not already something iterable\n    if (typeof obj !== 'object') /*eslint no-param-reassign:0*/ obj = [\n        obj\n    ];\n    if ($c319b2c832c2914a$var$isArray(obj)) // Iterate over array values\n    for(var i = 0, l = obj.length; i < l; i++)fn.call(null, obj[i], i, obj);\n    else {\n        // Iterate over object keys\n        for(var key in obj)if (Object.prototype.hasOwnProperty.call(obj, key)) fn.call(null, obj[key], key, obj);\n    }\n}\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */ function $c319b2c832c2914a$var$merge() {\n    var result = {};\n    function assignValue(val, key) {\n        if ($c319b2c832c2914a$var$isPlainObject(result[key]) && $c319b2c832c2914a$var$isPlainObject(val)) result[key] = $c319b2c832c2914a$var$merge(result[key], val);\n        else if ($c319b2c832c2914a$var$isPlainObject(val)) result[key] = $c319b2c832c2914a$var$merge({}, val);\n        else if ($c319b2c832c2914a$var$isArray(val)) result[key] = val.slice();\n        else result[key] = val;\n    }\n    for(var i = 0, l = arguments.length; i < l; i++)$c319b2c832c2914a$var$forEach(arguments[i], assignValue);\n    return result;\n}\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */ function $c319b2c832c2914a$var$extend(a, b, thisArg) {\n    $c319b2c832c2914a$var$forEach(b, function assignValue(val, key) {\n        if (thisArg && typeof val === 'function') a[key] = $jJbMR(val, thisArg);\n        else a[key] = val;\n    });\n    return a;\n}\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */ function $c319b2c832c2914a$var$stripBOM(content) {\n    if (content.charCodeAt(0) === 0xFEFF) content = content.slice(1);\n    return content;\n}\nmodule.exports = {\n    isArray: $c319b2c832c2914a$var$isArray,\n    isArrayBuffer: $c319b2c832c2914a$var$isArrayBuffer,\n    isBuffer: $c319b2c832c2914a$var$isBuffer,\n    isFormData: $c319b2c832c2914a$var$isFormData,\n    isArrayBufferView: $c319b2c832c2914a$var$isArrayBufferView,\n    isString: $c319b2c832c2914a$var$isString,\n    isNumber: $c319b2c832c2914a$var$isNumber,\n    isObject: $c319b2c832c2914a$var$isObject,\n    isPlainObject: $c319b2c832c2914a$var$isPlainObject,\n    isUndefined: $c319b2c832c2914a$var$isUndefined,\n    isDate: $c319b2c832c2914a$var$isDate,\n    isFile: $c319b2c832c2914a$var$isFile,\n    isBlob: $c319b2c832c2914a$var$isBlob,\n    isFunction: $c319b2c832c2914a$var$isFunction,\n    isStream: $c319b2c832c2914a$var$isStream,\n    isURLSearchParams: $c319b2c832c2914a$var$isURLSearchParams,\n    isStandardBrowserEnv: $c319b2c832c2914a$var$isStandardBrowserEnv,\n    forEach: $c319b2c832c2914a$var$forEach,\n    merge: $c319b2c832c2914a$var$merge,\n    extend: $c319b2c832c2914a$var$extend,\n    trim: $c319b2c832c2914a$var$trim,\n    stripBOM: $c319b2c832c2914a$var$stripBOM\n};\n\n});\nparcelRegister(\"jJbMR\", function(module, exports) {\n'use strict';\nmodule.exports = function bind(fn, thisArg) {\n    return function wrap() {\n        var args = new Array(arguments.length);\n        for(var i = 0; i < args.length; i++)args[i] = arguments[i];\n        return fn.apply(thisArg, args);\n    };\n};\n\n});\n\n\nparcelRegister(\"ewFRw\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $cbIsf = parcelRequire(\"cbIsf\");\n\nvar $83RYu = parcelRequire(\"83RYu\");\n\nvar $dlZEJ = parcelRequire(\"dlZEJ\");\n\nvar $lk5EI = parcelRequire(\"lk5EI\");\n\nvar $bv3QM = parcelRequire(\"bv3QM\");\nvar $a93486d2307f31c3$var$validators = $bv3QM.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */ function $a93486d2307f31c3$var$Axios(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n        request: new $83RYu(),\n        response: new $83RYu()\n    };\n}\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */ $a93486d2307f31c3$var$Axios.prototype.request = function request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/ // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n        config = config || {};\n        config.url = configOrUrl;\n    } else config = configOrUrl || {};\n    if (!config.url) throw new Error('Provided config url is not valid');\n    config = $lk5EI(this.defaults, config);\n    // Set config.method\n    if (config.method) config.method = config.method.toLowerCase();\n    else if (this.defaults.method) config.method = this.defaults.method.toLowerCase();\n    else config.method = 'get';\n    var transitional = config.transitional;\n    if (transitional !== undefined) $bv3QM.assertOptions(transitional, {\n        silentJSONParsing: $a93486d2307f31c3$var$validators.transitional($a93486d2307f31c3$var$validators.boolean),\n        forcedJSONParsing: $a93486d2307f31c3$var$validators.transitional($a93486d2307f31c3$var$validators.boolean),\n        clarifyTimeoutError: $a93486d2307f31c3$var$validators.transitional($a93486d2307f31c3$var$validators.boolean)\n    }, false);\n    // filter out skipped interceptors\n    var requestInterceptorChain = [];\n    var synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n        if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) return;\n        synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n        requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n    var responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n        responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n    var promise;\n    if (!synchronousRequestInterceptors) {\n        var chain = [\n            $dlZEJ,\n            undefined\n        ];\n        Array.prototype.unshift.apply(chain, requestInterceptorChain);\n        chain = chain.concat(responseInterceptorChain);\n        promise = Promise.resolve(config);\n        while(chain.length)promise = promise.then(chain.shift(), chain.shift());\n        return promise;\n    }\n    var newConfig = config;\n    while(requestInterceptorChain.length){\n        var onFulfilled = requestInterceptorChain.shift();\n        var onRejected = requestInterceptorChain.shift();\n        try {\n            newConfig = onFulfilled(newConfig);\n        } catch (error) {\n            onRejected(error);\n            break;\n        }\n    }\n    try {\n        promise = $dlZEJ(newConfig);\n    } catch (error) {\n        return Promise.reject(error);\n    }\n    while(responseInterceptorChain.length)promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n    return promise;\n};\n$a93486d2307f31c3$var$Axios.prototype.getUri = function getUri(config) {\n    if (!config.url) throw new Error('Provided config url is not valid');\n    config = $lk5EI(this.defaults, config);\n    return $cbIsf(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n// Provide aliases for supported request methods\n$gKvUL.forEach([\n    'delete',\n    'get',\n    'head',\n    'options'\n], function forEachMethodNoData(method) {\n    /*eslint func-names:0*/ $a93486d2307f31c3$var$Axios.prototype[method] = function(url, config) {\n        return this.request($lk5EI(config || {}, {\n            method: method,\n            url: url,\n            data: (config || {}).data\n        }));\n    };\n});\n$gKvUL.forEach([\n    'post',\n    'put',\n    'patch'\n], function forEachMethodWithData(method) {\n    /*eslint func-names:0*/ $a93486d2307f31c3$var$Axios.prototype[method] = function(url, data, config) {\n        return this.request($lk5EI(config || {}, {\n            method: method,\n            url: url,\n            data: data\n        }));\n    };\n});\nmodule.exports = $a93486d2307f31c3$var$Axios;\n\n});\nparcelRegister(\"cbIsf\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\nfunction $8df8fedf1c1e4428$var$encode(val) {\n    return encodeURIComponent(val).replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n}\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */ module.exports = function buildURL(url, params, paramsSerializer) {\n    /*eslint no-param-reassign:0*/ if (!params) return url;\n    var serializedParams;\n    if (paramsSerializer) serializedParams = paramsSerializer(params);\n    else if ($gKvUL.isURLSearchParams(params)) serializedParams = params.toString();\n    else {\n        var parts = [];\n        $gKvUL.forEach(params, function serialize(val, key) {\n            if (val === null || typeof val === 'undefined') return;\n            if ($gKvUL.isArray(val)) key = key + '[]';\n            else val = [\n                val\n            ];\n            $gKvUL.forEach(val, function parseValue(v) {\n                if ($gKvUL.isDate(v)) v = v.toISOString();\n                else if ($gKvUL.isObject(v)) v = JSON.stringify(v);\n                parts.push($8df8fedf1c1e4428$var$encode(key) + '=' + $8df8fedf1c1e4428$var$encode(v));\n            });\n        });\n        serializedParams = parts.join('&');\n    }\n    if (serializedParams) {\n        var hashmarkIndex = url.indexOf('#');\n        if (hashmarkIndex !== -1) url = url.slice(0, hashmarkIndex);\n        url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n    }\n    return url;\n};\n\n});\n\nparcelRegister(\"83RYu\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\nfunction $5de878cd737ef277$var$InterceptorManager() {\n    this.handlers = [];\n}\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */ $5de878cd737ef277$var$InterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n    this.handlers.push({\n        fulfilled: fulfilled,\n        rejected: rejected,\n        synchronous: options ? options.synchronous : false,\n        runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n};\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */ $5de878cd737ef277$var$InterceptorManager.prototype.eject = function eject(id) {\n    if (this.handlers[id]) this.handlers[id] = null;\n};\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */ $5de878cd737ef277$var$InterceptorManager.prototype.forEach = function forEach(fn) {\n    $gKvUL.forEach(this.handlers, function forEachHandler(h) {\n        if (h !== null) fn(h);\n    });\n};\nmodule.exports = $5de878cd737ef277$var$InterceptorManager;\n\n});\n\nparcelRegister(\"dlZEJ\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $7YJ0v = parcelRequire(\"7YJ0v\");\n\nvar $7L4QX = parcelRequire(\"7L4QX\");\n\nvar $lJY4v = parcelRequire(\"lJY4v\");\n\nvar $4Tkeq = parcelRequire(\"4Tkeq\");\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */ function $9b8d10189805ccc0$var$throwIfCancellationRequested(config) {\n    if (config.cancelToken) config.cancelToken.throwIfRequested();\n    if (config.signal && config.signal.aborted) throw new $4Tkeq('canceled');\n}\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */ module.exports = function dispatchRequest(config) {\n    $9b8d10189805ccc0$var$throwIfCancellationRequested(config);\n    // Ensure headers exist\n    config.headers = config.headers || {};\n    // Transform request data\n    config.data = $7YJ0v.call(config, config.data, config.headers, config.transformRequest);\n    // Flatten headers\n    config.headers = $gKvUL.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers);\n    $gKvUL.forEach([\n        'delete',\n        'get',\n        'head',\n        'post',\n        'put',\n        'patch',\n        'common'\n    ], function cleanHeaderConfig(method) {\n        delete config.headers[method];\n    });\n    var adapter = config.adapter || $lJY4v.adapter;\n    return adapter(config).then(function onAdapterResolution(response) {\n        $9b8d10189805ccc0$var$throwIfCancellationRequested(config);\n        // Transform response data\n        response.data = $7YJ0v.call(config, response.data, response.headers, config.transformResponse);\n        return response;\n    }, function onAdapterRejection(reason) {\n        if (!$7L4QX(reason)) {\n            $9b8d10189805ccc0$var$throwIfCancellationRequested(config);\n            // Transform response data\n            if (reason && reason.response) reason.response.data = $7YJ0v.call(config, reason.response.data, reason.response.headers, config.transformResponse);\n        }\n        return Promise.reject(reason);\n    });\n};\n\n});\nparcelRegister(\"7YJ0v\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $lJY4v = parcelRequire(\"lJY4v\");\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */ module.exports = function transformData(data, headers, fns) {\n    var context = this || $lJY4v;\n    /*eslint no-param-reassign:0*/ $gKvUL.forEach(fns, function transform(fn) {\n        data = fn.call(context, data, headers);\n    });\n    return data;\n};\n\n});\nparcelRegister(\"lJY4v\", function(module, exports) {\n\nvar $hPtJY = parcelRequire(\"hPtJY\");\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $kiL6T = parcelRequire(\"kiL6T\");\n\nvar $8v8A7 = parcelRequire(\"8v8A7\");\nvar $fd3c65eeb28abd71$var$DEFAULT_CONTENT_TYPE = {\n    'Content-Type': 'application/x-www-form-urlencoded'\n};\nfunction $fd3c65eeb28abd71$var$setContentTypeIfUnset(headers, value) {\n    if (!$gKvUL.isUndefined(headers) && $gKvUL.isUndefined(headers['Content-Type'])) headers['Content-Type'] = value;\n}\n\n\nfunction $fd3c65eeb28abd71$var$getDefaultAdapter() {\n    var adapter;\n    if (typeof XMLHttpRequest !== 'undefined') // For browsers use XHR adapter\n    adapter = (parcelRequire(\"at5cb\"));\n    else if (typeof $hPtJY !== 'undefined' && Object.prototype.toString.call($hPtJY) === '[object process]') // For node use HTTP adapter\n    adapter = (parcelRequire(\"at5cb\"));\n    return adapter;\n}\nfunction $fd3c65eeb28abd71$var$stringifySafely(rawValue, parser, encoder) {\n    if ($gKvUL.isString(rawValue)) try {\n        (parser || JSON.parse)(rawValue);\n        return $gKvUL.trim(rawValue);\n    } catch (e) {\n        if (e.name !== 'SyntaxError') throw e;\n    }\n    return (encoder || JSON.stringify)(rawValue);\n}\nvar $fd3c65eeb28abd71$var$defaults = {\n    transitional: {\n        silentJSONParsing: true,\n        forcedJSONParsing: true,\n        clarifyTimeoutError: false\n    },\n    adapter: $fd3c65eeb28abd71$var$getDefaultAdapter(),\n    transformRequest: [\n        function transformRequest(data, headers) {\n            $kiL6T(headers, 'Accept');\n            $kiL6T(headers, 'Content-Type');\n            if ($gKvUL.isFormData(data) || $gKvUL.isArrayBuffer(data) || $gKvUL.isBuffer(data) || $gKvUL.isStream(data) || $gKvUL.isFile(data) || $gKvUL.isBlob(data)) return data;\n            if ($gKvUL.isArrayBufferView(data)) return data.buffer;\n            if ($gKvUL.isURLSearchParams(data)) {\n                $fd3c65eeb28abd71$var$setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n                return data.toString();\n            }\n            if ($gKvUL.isObject(data) || headers && headers['Content-Type'] === 'application/json') {\n                $fd3c65eeb28abd71$var$setContentTypeIfUnset(headers, 'application/json');\n                return $fd3c65eeb28abd71$var$stringifySafely(data);\n            }\n            return data;\n        }\n    ],\n    transformResponse: [\n        function transformResponse(data) {\n            var transitional = this.transitional || $fd3c65eeb28abd71$var$defaults.transitional;\n            var silentJSONParsing = transitional && transitional.silentJSONParsing;\n            var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n            var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n            if (strictJSONParsing || forcedJSONParsing && $gKvUL.isString(data) && data.length) try {\n                return JSON.parse(data);\n            } catch (e) {\n                if (strictJSONParsing) {\n                    if (e.name === 'SyntaxError') throw $8v8A7(e, this, 'E_JSON_PARSE');\n                    throw e;\n                }\n            }\n            return data;\n        }\n    ],\n    /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */ timeout: 0,\n    xsrfCookieName: 'XSRF-TOKEN',\n    xsrfHeaderName: 'X-XSRF-TOKEN',\n    maxContentLength: -1,\n    maxBodyLength: -1,\n    validateStatus: function validateStatus(status) {\n        return status >= 200 && status < 300;\n    },\n    headers: {\n        common: {\n            'Accept': 'application/json, text/plain, */*'\n        }\n    }\n};\n$gKvUL.forEach([\n    'delete',\n    'get',\n    'head'\n], function forEachMethodNoData(method) {\n    $fd3c65eeb28abd71$var$defaults.headers[method] = {};\n});\n$gKvUL.forEach([\n    'post',\n    'put',\n    'patch'\n], function forEachMethodWithData(method) {\n    $fd3c65eeb28abd71$var$defaults.headers[method] = $gKvUL.merge($fd3c65eeb28abd71$var$DEFAULT_CONTENT_TYPE);\n});\nmodule.exports = $fd3c65eeb28abd71$var$defaults;\n\n});\nparcelRegister(\"hPtJY\", function(module, exports) {\n// shim for using process in browser\nvar $cfae44f0dfdf62c0$var$process = module.exports = {};\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nvar $cfae44f0dfdf62c0$var$cachedSetTimeout;\nvar $cfae44f0dfdf62c0$var$cachedClearTimeout;\nfunction $cfae44f0dfdf62c0$var$defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction $cfae44f0dfdf62c0$var$defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined');\n}\n(function() {\n    try {\n        if (typeof setTimeout === 'function') $cfae44f0dfdf62c0$var$cachedSetTimeout = setTimeout;\n        else $cfae44f0dfdf62c0$var$cachedSetTimeout = $cfae44f0dfdf62c0$var$defaultSetTimout;\n    } catch (e) {\n        $cfae44f0dfdf62c0$var$cachedSetTimeout = $cfae44f0dfdf62c0$var$defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') $cfae44f0dfdf62c0$var$cachedClearTimeout = clearTimeout;\n        else $cfae44f0dfdf62c0$var$cachedClearTimeout = $cfae44f0dfdf62c0$var$defaultClearTimeout;\n    } catch (e) {\n        $cfae44f0dfdf62c0$var$cachedClearTimeout = $cfae44f0dfdf62c0$var$defaultClearTimeout;\n    }\n})();\nfunction $cfae44f0dfdf62c0$var$runTimeout(fun) {\n    if ($cfae44f0dfdf62c0$var$cachedSetTimeout === setTimeout) //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n    // if setTimeout wasn't available but was latter defined\n    if (($cfae44f0dfdf62c0$var$cachedSetTimeout === $cfae44f0dfdf62c0$var$defaultSetTimout || !$cfae44f0dfdf62c0$var$cachedSetTimeout) && setTimeout) {\n        $cfae44f0dfdf62c0$var$cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $cfae44f0dfdf62c0$var$cachedSetTimeout(fun, 0);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return $cfae44f0dfdf62c0$var$cachedSetTimeout.call(null, fun, 0);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return $cfae44f0dfdf62c0$var$cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction $cfae44f0dfdf62c0$var$runClearTimeout(marker) {\n    if ($cfae44f0dfdf62c0$var$cachedClearTimeout === clearTimeout) //normal enviroments in sane situations\n    return clearTimeout(marker);\n    // if clearTimeout wasn't available but was latter defined\n    if (($cfae44f0dfdf62c0$var$cachedClearTimeout === $cfae44f0dfdf62c0$var$defaultClearTimeout || !$cfae44f0dfdf62c0$var$cachedClearTimeout) && clearTimeout) {\n        $cfae44f0dfdf62c0$var$cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return $cfae44f0dfdf62c0$var$cachedClearTimeout(marker);\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return $cfae44f0dfdf62c0$var$cachedClearTimeout.call(null, marker);\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return $cfae44f0dfdf62c0$var$cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nvar $cfae44f0dfdf62c0$var$queue = [];\nvar $cfae44f0dfdf62c0$var$draining = false;\nvar $cfae44f0dfdf62c0$var$currentQueue;\nvar $cfae44f0dfdf62c0$var$queueIndex = -1;\nfunction $cfae44f0dfdf62c0$var$cleanUpNextTick() {\n    if (!$cfae44f0dfdf62c0$var$draining || !$cfae44f0dfdf62c0$var$currentQueue) return;\n    $cfae44f0dfdf62c0$var$draining = false;\n    if ($cfae44f0dfdf62c0$var$currentQueue.length) $cfae44f0dfdf62c0$var$queue = $cfae44f0dfdf62c0$var$currentQueue.concat($cfae44f0dfdf62c0$var$queue);\n    else $cfae44f0dfdf62c0$var$queueIndex = -1;\n    if ($cfae44f0dfdf62c0$var$queue.length) $cfae44f0dfdf62c0$var$drainQueue();\n}\nfunction $cfae44f0dfdf62c0$var$drainQueue() {\n    if ($cfae44f0dfdf62c0$var$draining) return;\n    var timeout = $cfae44f0dfdf62c0$var$runTimeout($cfae44f0dfdf62c0$var$cleanUpNextTick);\n    $cfae44f0dfdf62c0$var$draining = true;\n    var len = $cfae44f0dfdf62c0$var$queue.length;\n    while(len){\n        $cfae44f0dfdf62c0$var$currentQueue = $cfae44f0dfdf62c0$var$queue;\n        $cfae44f0dfdf62c0$var$queue = [];\n        while(++$cfae44f0dfdf62c0$var$queueIndex < len)if ($cfae44f0dfdf62c0$var$currentQueue) $cfae44f0dfdf62c0$var$currentQueue[$cfae44f0dfdf62c0$var$queueIndex].run();\n        $cfae44f0dfdf62c0$var$queueIndex = -1;\n        len = $cfae44f0dfdf62c0$var$queue.length;\n    }\n    $cfae44f0dfdf62c0$var$currentQueue = null;\n    $cfae44f0dfdf62c0$var$draining = false;\n    $cfae44f0dfdf62c0$var$runClearTimeout(timeout);\n}\n$cfae44f0dfdf62c0$var$process.nextTick = function(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) for(var i = 1; i < arguments.length; i++)args[i - 1] = arguments[i];\n    $cfae44f0dfdf62c0$var$queue.push(new $cfae44f0dfdf62c0$var$Item(fun, args));\n    if ($cfae44f0dfdf62c0$var$queue.length === 1 && !$cfae44f0dfdf62c0$var$draining) $cfae44f0dfdf62c0$var$runTimeout($cfae44f0dfdf62c0$var$drainQueue);\n};\n// v8 likes predictible objects\nfunction $cfae44f0dfdf62c0$var$Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\n$cfae44f0dfdf62c0$var$Item.prototype.run = function() {\n    this.fun.apply(null, this.array);\n};\n$cfae44f0dfdf62c0$var$process.title = 'browser';\n$cfae44f0dfdf62c0$var$process.browser = true;\n$cfae44f0dfdf62c0$var$process.env = {};\n$cfae44f0dfdf62c0$var$process.argv = [];\n$cfae44f0dfdf62c0$var$process.version = ''; // empty string to avoid regexp issues\n$cfae44f0dfdf62c0$var$process.versions = {};\nfunction $cfae44f0dfdf62c0$var$noop() {}\n$cfae44f0dfdf62c0$var$process.on = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.addListener = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.once = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.off = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.removeListener = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.removeAllListeners = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.emit = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.prependListener = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.prependOnceListener = $cfae44f0dfdf62c0$var$noop;\n$cfae44f0dfdf62c0$var$process.listeners = function(name) {\n    return [];\n};\n$cfae44f0dfdf62c0$var$process.binding = function(name) {\n    throw new Error('process.binding is not supported');\n};\n$cfae44f0dfdf62c0$var$process.cwd = function() {\n    return '/';\n};\n$cfae44f0dfdf62c0$var$process.chdir = function(dir) {\n    throw new Error('process.chdir is not supported');\n};\n$cfae44f0dfdf62c0$var$process.umask = function() {\n    return 0;\n};\n\n});\n\nparcelRegister(\"kiL6T\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n    $gKvUL.forEach(headers, function processHeader(value, name) {\n        if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n            headers[normalizedName] = value;\n            delete headers[name];\n        }\n    });\n};\n\n});\n\nparcelRegister(\"8v8A7\", function(module, exports) {\n'use strict';\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */ module.exports = function enhanceError(error, config, code, request, response) {\n    error.config = config;\n    if (code) error.code = code;\n    error.request = request;\n    error.response = response;\n    error.isAxiosError = true;\n    error.toJSON = function toJSON() {\n        return {\n            // Standard\n            message: this.message,\n            name: this.name,\n            // Microsoft\n            description: this.description,\n            number: this.number,\n            // Mozilla\n            fileName: this.fileName,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            stack: this.stack,\n            // Axios\n            config: this.config,\n            code: this.code,\n            status: this.response && this.response.status ? this.response.status : null\n        };\n    };\n    return error;\n};\n\n});\n\nparcelRegister(\"at5cb\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n\nvar $kk0E9 = parcelRequire(\"kk0E9\");\n\nvar $8JRzs = parcelRequire(\"8JRzs\");\n\nvar $cbIsf = parcelRequire(\"cbIsf\");\n\nvar $7GD7a = parcelRequire(\"7GD7a\");\n\nvar $lDriZ = parcelRequire(\"lDriZ\");\n\nvar $889er = parcelRequire(\"889er\");\n\nvar $kjF3e = parcelRequire(\"kjF3e\");\n\nvar $lJY4v = parcelRequire(\"lJY4v\");\n\nvar $4Tkeq = parcelRequire(\"4Tkeq\");\nmodule.exports = function xhrAdapter(config) {\n    return new Promise(function dispatchXhrRequest(resolve, reject) {\n        var requestData = config.data;\n        var requestHeaders = config.headers;\n        var responseType = config.responseType;\n        var onCanceled;\n        function done() {\n            if (config.cancelToken) config.cancelToken.unsubscribe(onCanceled);\n            if (config.signal) config.signal.removeEventListener('abort', onCanceled);\n        }\n        if ($gKvUL.isFormData(requestData)) delete requestHeaders['Content-Type']; // Let the browser set it\n        var request = new XMLHttpRequest();\n        // HTTP basic authentication\n        if (config.auth) {\n            var username = config.auth.username || '';\n            var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n            requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n        }\n        var fullPath = $7GD7a(config.baseURL, config.url);\n        request.open(config.method.toUpperCase(), $cbIsf(fullPath, config.params, config.paramsSerializer), true);\n        // Set the request timeout in MS\n        request.timeout = config.timeout;\n        function onloadend() {\n            if (!request) return;\n            // Prepare the response\n            var responseHeaders = 'getAllResponseHeaders' in request ? $lDriZ(request.getAllResponseHeaders()) : null;\n            var responseData = !responseType || responseType === 'text' || responseType === 'json' ? request.responseText : request.response;\n            var response = {\n                data: responseData,\n                status: request.status,\n                statusText: request.statusText,\n                headers: responseHeaders,\n                config: config,\n                request: request\n            };\n            $kk0E9(function _resolve(value) {\n                resolve(value);\n                done();\n            }, function _reject(err) {\n                reject(err);\n                done();\n            }, response);\n            // Clean up request\n            request = null;\n        }\n        if ('onloadend' in request) // Use onloadend if available\n        request.onloadend = onloadend;\n        else // Listen for ready state to emulate onloadend\n        request.onreadystatechange = function handleLoad() {\n            if (!request || request.readyState !== 4) return;\n            // The request errored out and we didn't get a response, this will be\n            // handled by onerror instead\n            // With one exception: request that using file: protocol, most browsers\n            // will return status as 0 even though it's a successful request\n            if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) return;\n            // readystate handler is calling before onerror or ontimeout handlers,\n            // so we should call onloadend on the next 'tick'\n            setTimeout(onloadend);\n        };\n        // Handle browser request cancellation (as opposed to a manual cancellation)\n        request.onabort = function handleAbort() {\n            if (!request) return;\n            reject($kjF3e('Request aborted', config, 'ECONNABORTED', request));\n            // Clean up request\n            request = null;\n        };\n        // Handle low level network errors\n        request.onerror = function handleError() {\n            // Real errors are hidden from us by the browser\n            // onerror should only fire if it's a network error\n            reject($kjF3e('Network Error', config, null, request));\n            // Clean up request\n            request = null;\n        };\n        // Handle timeout\n        request.ontimeout = function handleTimeout() {\n            var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n            var transitional = config.transitional || $lJY4v.transitional;\n            if (config.timeoutErrorMessage) timeoutErrorMessage = config.timeoutErrorMessage;\n            reject($kjF3e(timeoutErrorMessage, config, transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED', request));\n            // Clean up request\n            request = null;\n        };\n        // Add xsrf header\n        // This is only done if running in a standard browser environment.\n        // Specifically not if we're in a web worker, or react-native.\n        if ($gKvUL.isStandardBrowserEnv()) {\n            // Add xsrf header\n            var xsrfValue = (config.withCredentials || $889er(fullPath)) && config.xsrfCookieName ? $8JRzs.read(config.xsrfCookieName) : undefined;\n            if (xsrfValue) requestHeaders[config.xsrfHeaderName] = xsrfValue;\n        }\n        // Add headers to the request\n        if ('setRequestHeader' in request) $gKvUL.forEach(requestHeaders, function setRequestHeader(val, key) {\n            if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') // Remove Content-Type if data is undefined\n            delete requestHeaders[key];\n            else // Otherwise add header to the request\n            request.setRequestHeader(key, val);\n        });\n        // Add withCredentials to request if needed\n        if (!$gKvUL.isUndefined(config.withCredentials)) request.withCredentials = !!config.withCredentials;\n        // Add responseType to request if needed\n        if (responseType && responseType !== 'json') request.responseType = config.responseType;\n        // Handle progress if needed\n        if (typeof config.onDownloadProgress === 'function') request.addEventListener('progress', config.onDownloadProgress);\n        // Not all browsers support upload events\n        if (typeof config.onUploadProgress === 'function' && request.upload) request.upload.addEventListener('progress', config.onUploadProgress);\n        if (config.cancelToken || config.signal) {\n            // Handle cancellation\n            // eslint-disable-next-line func-names\n            onCanceled = function(cancel) {\n                if (!request) return;\n                reject(!cancel || cancel && cancel.type ? new $4Tkeq('canceled') : cancel);\n                request.abort();\n                request = null;\n            };\n            config.cancelToken && config.cancelToken.subscribe(onCanceled);\n            if (config.signal) config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n        }\n        if (!requestData) requestData = null;\n        // Send the request\n        request.send(requestData);\n    });\n};\n\n});\nparcelRegister(\"kk0E9\", function(module, exports) {\n'use strict';\n\nvar $kjF3e = parcelRequire(\"kjF3e\");\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */ module.exports = function settle(resolve, reject, response) {\n    var validateStatus = response.config.validateStatus;\n    if (!response.status || !validateStatus || validateStatus(response.status)) resolve(response);\n    else reject($kjF3e('Request failed with status code ' + response.status, response.config, null, response.request, response));\n};\n\n});\nparcelRegister(\"kjF3e\", function(module, exports) {\n'use strict';\n\nvar $8v8A7 = parcelRequire(\"8v8A7\");\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */ module.exports = function createError(message, config, code, request, response) {\n    var error = new Error(message);\n    return $8v8A7(error, config, code, request, response);\n};\n\n});\n\n\nparcelRegister(\"8JRzs\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\nmodule.exports = $gKvUL.isStandardBrowserEnv() ? // Standard browser envs support document.cookie\nfunction standardBrowserEnv() {\n    return {\n        write: function write(name, value, expires, path, domain, secure) {\n            var cookie = [];\n            cookie.push(name + '=' + encodeURIComponent(value));\n            if ($gKvUL.isNumber(expires)) cookie.push('expires=' + new Date(expires).toGMTString());\n            if ($gKvUL.isString(path)) cookie.push('path=' + path);\n            if ($gKvUL.isString(domain)) cookie.push('domain=' + domain);\n            if (secure === true) cookie.push('secure');\n            document.cookie = cookie.join('; ');\n        },\n        read: function read(name) {\n            var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n            return match ? decodeURIComponent(match[3]) : null;\n        },\n        remove: function remove(name) {\n            this.write(name, '', Date.now() - 86400000);\n        }\n    };\n}() : // Non standard browser env (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n    return {\n        write: function write() {},\n        read: function read() {\n            return null;\n        },\n        remove: function remove() {}\n    };\n}();\n\n});\n\nparcelRegister(\"7GD7a\", function(module, exports) {\n'use strict';\n\nvar $ckHwb = parcelRequire(\"ckHwb\");\n\nvar $fE4ul = parcelRequire(\"fE4ul\");\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */ module.exports = function buildFullPath(baseURL, requestedURL) {\n    if (baseURL && !$ckHwb(requestedURL)) return $fE4ul(baseURL, requestedURL);\n    return requestedURL;\n};\n\n});\nparcelRegister(\"ckHwb\", function(module, exports) {\n'use strict';\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */ module.exports = function isAbsoluteURL(url) {\n    // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n    // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n    // by any combination of letters, digits, plus, period, or hyphen.\n    return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n\n});\n\nparcelRegister(\"fE4ul\", function(module, exports) {\n'use strict';\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */ module.exports = function combineURLs(baseURL, relativeURL) {\n    return relativeURL ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '') : baseURL;\n};\n\n});\n\n\nparcelRegister(\"lDriZ\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar $fc026bbf9ee156f1$var$ignoreDuplicateOf = [\n    'age',\n    'authorization',\n    'content-length',\n    'content-type',\n    'etag',\n    'expires',\n    'from',\n    'host',\n    'if-modified-since',\n    'if-unmodified-since',\n    'last-modified',\n    'location',\n    'max-forwards',\n    'proxy-authorization',\n    'referer',\n    'retry-after',\n    'user-agent'\n];\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */ module.exports = function parseHeaders(headers) {\n    var parsed = {};\n    var key;\n    var val;\n    var i;\n    if (!headers) return parsed;\n    $gKvUL.forEach(headers.split('\\n'), function parser(line) {\n        i = line.indexOf(':');\n        key = $gKvUL.trim(line.substr(0, i)).toLowerCase();\n        val = $gKvUL.trim(line.substr(i + 1));\n        if (key) {\n            if (parsed[key] && $fc026bbf9ee156f1$var$ignoreDuplicateOf.indexOf(key) >= 0) return;\n            if (key === 'set-cookie') parsed[key] = (parsed[key] ? parsed[key] : []).concat([\n                val\n            ]);\n            else parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n        }\n    });\n    return parsed;\n};\n\n});\n\nparcelRegister(\"889er\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\nmodule.exports = $gKvUL.isStandardBrowserEnv() ? // Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\nfunction standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */ function resolveURL(url) {\n        var href = url;\n        if (msie) {\n            // IE needs attribute set twice to normalize properties\n            urlParsingNode.setAttribute('href', href);\n            href = urlParsingNode.href;\n        }\n        urlParsingNode.setAttribute('href', href);\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n            href: urlParsingNode.href,\n            protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n            host: urlParsingNode.host,\n            search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n            hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n            hostname: urlParsingNode.hostname,\n            port: urlParsingNode.port,\n            pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname\n        };\n    }\n    originURL = resolveURL(window.location.href);\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */ return function isURLSameOrigin(requestURL) {\n        var parsed = $gKvUL.isString(requestURL) ? resolveURL(requestURL) : requestURL;\n        return parsed.protocol === originURL.protocol && parsed.host === originURL.host;\n    };\n}() : // Non standard browser envs (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n        return true;\n    };\n}();\n\n});\n\nparcelRegister(\"4Tkeq\", function(module, exports) {\n'use strict';\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */ function $38fbfe0afbd5bf1e$var$Cancel(message) {\n    this.message = message;\n}\n$38fbfe0afbd5bf1e$var$Cancel.prototype.toString = function toString() {\n    return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n$38fbfe0afbd5bf1e$var$Cancel.prototype.__CANCEL__ = true;\nmodule.exports = $38fbfe0afbd5bf1e$var$Cancel;\n\n});\n\n\n\n\nparcelRegister(\"7L4QX\", function(module, exports) {\n'use strict';\nmodule.exports = function isCancel(value) {\n    return !!(value && value.__CANCEL__);\n};\n\n});\n\n\nparcelRegister(\"lk5EI\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */ module.exports = function mergeConfig(config1, config2) {\n    // eslint-disable-next-line no-param-reassign\n    config2 = config2 || {};\n    var config = {};\n    function getMergedValue(target, source) {\n        if ($gKvUL.isPlainObject(target) && $gKvUL.isPlainObject(source)) return $gKvUL.merge(target, source);\n        else if ($gKvUL.isPlainObject(source)) return $gKvUL.merge({}, source);\n        else if ($gKvUL.isArray(source)) return source.slice();\n        return source;\n    }\n    // eslint-disable-next-line consistent-return\n    function mergeDeepProperties(prop) {\n        if (!$gKvUL.isUndefined(config2[prop])) return getMergedValue(config1[prop], config2[prop]);\n        else if (!$gKvUL.isUndefined(config1[prop])) return getMergedValue(undefined, config1[prop]);\n    }\n    // eslint-disable-next-line consistent-return\n    function valueFromConfig2(prop) {\n        if (!$gKvUL.isUndefined(config2[prop])) return getMergedValue(undefined, config2[prop]);\n    }\n    // eslint-disable-next-line consistent-return\n    function defaultToConfig2(prop) {\n        if (!$gKvUL.isUndefined(config2[prop])) return getMergedValue(undefined, config2[prop]);\n        else if (!$gKvUL.isUndefined(config1[prop])) return getMergedValue(undefined, config1[prop]);\n    }\n    // eslint-disable-next-line consistent-return\n    function mergeDirectKeys(prop) {\n        if (prop in config2) return getMergedValue(config1[prop], config2[prop]);\n        else if (prop in config1) return getMergedValue(undefined, config1[prop]);\n    }\n    var mergeMap = {\n        'url': valueFromConfig2,\n        'method': valueFromConfig2,\n        'data': valueFromConfig2,\n        'baseURL': defaultToConfig2,\n        'transformRequest': defaultToConfig2,\n        'transformResponse': defaultToConfig2,\n        'paramsSerializer': defaultToConfig2,\n        'timeout': defaultToConfig2,\n        'timeoutMessage': defaultToConfig2,\n        'withCredentials': defaultToConfig2,\n        'adapter': defaultToConfig2,\n        'responseType': defaultToConfig2,\n        'xsrfCookieName': defaultToConfig2,\n        'xsrfHeaderName': defaultToConfig2,\n        'onUploadProgress': defaultToConfig2,\n        'onDownloadProgress': defaultToConfig2,\n        'decompress': defaultToConfig2,\n        'maxContentLength': defaultToConfig2,\n        'maxBodyLength': defaultToConfig2,\n        'transport': defaultToConfig2,\n        'httpAgent': defaultToConfig2,\n        'httpsAgent': defaultToConfig2,\n        'cancelToken': defaultToConfig2,\n        'socketPath': defaultToConfig2,\n        'responseEncoding': defaultToConfig2,\n        'validateStatus': mergeDirectKeys\n    };\n    $gKvUL.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n        var merge = mergeMap[prop] || mergeDeepProperties;\n        var configValue = merge(prop);\n        $gKvUL.isUndefined(configValue) && merge !== mergeDirectKeys || (config[prop] = configValue);\n    });\n    return config;\n};\n\n});\n\nparcelRegister(\"bv3QM\", function(module, exports) {\n'use strict';\n\nvar $35BUy = parcelRequire(\"35BUy\");\nvar $85f59389941e7907$require$VERSION = $35BUy.version;\nvar $85f59389941e7907$var$validators = {};\n// eslint-disable-next-line func-names\n[\n    'object',\n    'boolean',\n    'number',\n    'function',\n    'string',\n    'symbol'\n].forEach(function(type, i) {\n    $85f59389941e7907$var$validators[type] = function validator(thing) {\n        return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n    };\n});\nvar $85f59389941e7907$var$deprecatedWarnings = {};\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */ $85f59389941e7907$var$validators.transitional = function transitional(validator, version, message) {\n    function formatMessage(opt, desc) {\n        return '[Axios v' + $85f59389941e7907$require$VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n    }\n    // eslint-disable-next-line func-names\n    return function(value, opt, opts) {\n        if (validator === false) throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n        if (version && !$85f59389941e7907$var$deprecatedWarnings[opt]) {\n            $85f59389941e7907$var$deprecatedWarnings[opt] = true;\n            // eslint-disable-next-line no-console\n            console.warn(formatMessage(opt, ' has been deprecated since v' + version + ' and will be removed in the near future'));\n        }\n        return validator ? validator(value, opt, opts) : true;\n    };\n};\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */ function $85f59389941e7907$var$assertOptions(options, schema, allowUnknown) {\n    if (typeof options !== 'object') throw new TypeError('options must be an object');\n    var keys = Object.keys(options);\n    var i = keys.length;\n    while(i-- > 0){\n        var opt = keys[i];\n        var validator = schema[opt];\n        if (validator) {\n            var value = options[opt];\n            var result = value === undefined || validator(value, opt, options);\n            if (result !== true) throw new TypeError('option ' + opt + ' must be ' + result);\n            continue;\n        }\n        if (allowUnknown !== true) throw Error('Unknown option ' + opt);\n    }\n}\nmodule.exports = {\n    assertOptions: $85f59389941e7907$var$assertOptions,\n    validators: $85f59389941e7907$var$validators\n};\n\n});\nparcelRegister(\"35BUy\", function(module, exports) {\nmodule.exports = {\n    \"version\": \"0.25.0\"\n};\n\n});\n\n\n\nparcelRegister(\"lAKPy\", function(module, exports) {\n'use strict';\n\nvar $4Tkeq = parcelRequire(\"4Tkeq\");\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */ function $fb81495929d8a282$var$CancelToken(executor) {\n    if (typeof executor !== 'function') throw new TypeError('executor must be a function.');\n    var resolvePromise;\n    this.promise = new Promise(function promiseExecutor(resolve) {\n        resolvePromise = resolve;\n    });\n    var token = this;\n    // eslint-disable-next-line func-names\n    this.promise.then(function(cancel) {\n        if (!token._listeners) return;\n        var i;\n        var l = token._listeners.length;\n        for(i = 0; i < l; i++)token._listeners[i](cancel);\n        token._listeners = null;\n    });\n    // eslint-disable-next-line func-names\n    this.promise.then = function(onfulfilled) {\n        var _resolve;\n        // eslint-disable-next-line func-names\n        var promise = new Promise(function(resolve) {\n            token.subscribe(resolve);\n            _resolve = resolve;\n        }).then(onfulfilled);\n        promise.cancel = function reject() {\n            token.unsubscribe(_resolve);\n        };\n        return promise;\n    };\n    executor(function cancel(message) {\n        if (token.reason) // Cancellation has already been requested\n        return;\n        token.reason = new $4Tkeq(message);\n        resolvePromise(token.reason);\n    });\n}\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */ $fb81495929d8a282$var$CancelToken.prototype.throwIfRequested = function throwIfRequested() {\n    if (this.reason) throw this.reason;\n};\n/**\n * Subscribe to the cancel signal\n */ $fb81495929d8a282$var$CancelToken.prototype.subscribe = function subscribe(listener) {\n    if (this.reason) {\n        listener(this.reason);\n        return;\n    }\n    if (this._listeners) this._listeners.push(listener);\n    else this._listeners = [\n        listener\n    ];\n};\n/**\n * Unsubscribe from the cancel signal\n */ $fb81495929d8a282$var$CancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n    if (!this._listeners) return;\n    var index = this._listeners.indexOf(listener);\n    if (index !== -1) this._listeners.splice(index, 1);\n};\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */ $fb81495929d8a282$var$CancelToken.source = function source() {\n    var cancel;\n    var token = new $fb81495929d8a282$var$CancelToken(function executor(c) {\n        cancel = c;\n    });\n    return {\n        token: token,\n        cancel: cancel\n    };\n};\nmodule.exports = $fb81495929d8a282$var$CancelToken;\n\n});\n\nparcelRegister(\"JEeti\", function(module, exports) {\n'use strict';\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */ module.exports = function spread(callback) {\n    return function wrap(arr) {\n        return callback.apply(null, arr);\n    };\n};\n\n});\n\nparcelRegister(\"dxy9O\", function(module, exports) {\n'use strict';\n\nvar $gKvUL = parcelRequire(\"gKvUL\");\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */ module.exports = function isAxiosError(payload) {\n    return $gKvUL.isObject(payload) && payload.isAxiosError === true;\n};\n\n});\n\n\n\n\n\n\n/* eslint-disable max-classes-per-file */ class $e097e23fe9578079$export$49cb77d19e897fe6 {\n    constructor(message = ''){\n        this.name = this.constructor.name;\n        this.message = message;\n    }\n}\nclass $e097e23fe9578079$export$bd6a5472535ccab5 extends $e097e23fe9578079$export$49cb77d19e897fe6 {\n}\nclass $e097e23fe9578079$export$e16542dee1cf1467 extends $e097e23fe9578079$export$49cb77d19e897fe6 {\n}\n\n\n\n\nvar $18e45e7867169046$export$2e2bcd8739ae039 = {\n    LOGIN: 0,\n    BACKUP: 1,\n    HORIZON: 2,\n    ACK: 5,\n    PONG: 6,\n    KEY: 10,\n    COMMAND: 11,\n    SCOREDETAILED: 12,\n    CHAT: 20,\n    WHISPER: 21,\n    SAY: 22,\n    TEAMCHAT: 23,\n    VOTEMUTE: 24,\n    LOCALPING: 255\n};\n\n\nvar $1c411432bfef9709$export$2e2bcd8739ae039 = {\n    LOGIN: 0,\n    BACKUP: 1,\n    PING: 5,\n    PING_RESULT: 6,\n    ACK: 7,\n    ERROR: 8,\n    COMMAND_REPLY: 9,\n    PLAYER_NEW: 10,\n    PLAYER_LEAVE: 11,\n    PLAYER_UPDATE: 12,\n    PLAYER_FIRE: 13,\n    PLAYER_HIT: 14,\n    PLAYER_RESPAWN: 15,\n    PLAYER_FLAG: 16,\n    PLAYER_KILL: 17,\n    PLAYER_UPGRADE: 18,\n    PLAYER_TYPE: 19,\n    PLAYER_POWERUP: 20,\n    PLAYER_LEVEL: 21,\n    PLAYER_RETEAM: 22,\n    GAME_FLAG: 30,\n    GAME_SPECTATE: 31,\n    GAME_PLAYERSALIVE: 32,\n    GAME_FIREWALL: 33,\n    EVENT_REPEL: 40,\n    EVENT_BOOST: 41,\n    EVENT_BOUNCE: 42,\n    EVENT_STEALTH: 43,\n    EVENT_LEAVEHORIZON: 44,\n    MOB_UPDATE: 60,\n    MOB_UPDATE_STATIONARY: 61,\n    MOB_DESPAWN: 62,\n    MOB_DESPAWN_COORDS: 63,\n    CHAT_PUBLIC: 70,\n    CHAT_TEAM: 71,\n    CHAT_SAY: 72,\n    CHAT_WHISPER: 73,\n    CHAT_VOTEMUTEPASSED: 78,\n    CHAT_VOTEMUTED: 79,\n    SCORE_UPDATE: 80,\n    SCORE_BOARD: 81,\n    SCORE_DETAILED: 82,\n    SCORE_DETAILED_CTF: 83,\n    SCORE_DETAILED_BTR: 84,\n    SERVER_MESSAGE: 90,\n    SERVER_CUSTOM: 91\n};\n\n\n/* eslint-disable @typescript-eslint/no-empty-interface */ \nvar $77aedac665eeb9f9$export$68317eef4cf08696 = /*#__PURE__*/ function(DATA_TYPES) {\n    DATA_TYPES[DATA_TYPES[\"text\"] = 1] = \"text\";\n    DATA_TYPES[DATA_TYPES[\"textbig\"] = 2] = \"textbig\";\n    DATA_TYPES[DATA_TYPES[\"arraysmall\"] = 4] = \"arraysmall\";\n    DATA_TYPES[DATA_TYPES[\"array\"] = 3] = \"array\";\n    DATA_TYPES[DATA_TYPES[\"uint8\"] = 5] = \"uint8\";\n    DATA_TYPES[DATA_TYPES[\"uint16\"] = 6] = \"uint16\";\n    DATA_TYPES[DATA_TYPES[\"uint24\"] = 7] = \"uint24\";\n    DATA_TYPES[DATA_TYPES[\"uint32\"] = 8] = \"uint32\";\n    DATA_TYPES[DATA_TYPES[\"float32\"] = 9] = \"float32\";\n    DATA_TYPES[DATA_TYPES[\"float64\"] = 10] = \"float64\";\n    DATA_TYPES[DATA_TYPES[\"boolean\"] = 11] = \"boolean\";\n    DATA_TYPES[DATA_TYPES[\"speed\"] = 12] = \"speed\";\n    DATA_TYPES[DATA_TYPES[\"accel\"] = 13] = \"accel\";\n    DATA_TYPES[DATA_TYPES[\"coordx\"] = 14] = \"coordx\";\n    DATA_TYPES[DATA_TYPES[\"coordy\"] = 15] = \"coordy\";\n    DATA_TYPES[DATA_TYPES[\"coord24\"] = 16] = \"coord24\";\n    DATA_TYPES[DATA_TYPES[\"rotation\"] = 17] = \"rotation\";\n    DATA_TYPES[DATA_TYPES[\"healthenergy\"] = 18] = \"healthenergy\";\n    DATA_TYPES[DATA_TYPES[\"regen\"] = 19] = \"regen\";\n    return DATA_TYPES;\n}({});\nconst $77aedac665eeb9f9$var$MAX_UINT8 = 255;\nconst $77aedac665eeb9f9$var$MAX_UINT16 = 65535;\nconst $77aedac665eeb9f9$var$CHAR_BITS = 8;\nconst $77aedac665eeb9f9$export$fe2576e2220e22c4 = {\n    [1]: 8 + $77aedac665eeb9f9$var$MAX_UINT8 * $77aedac665eeb9f9$var$CHAR_BITS,\n    [2]: 16 + $77aedac665eeb9f9$var$MAX_UINT16 * $77aedac665eeb9f9$var$CHAR_BITS,\n    [4]: 8,\n    [3]: 16,\n    [5]: 8,\n    [6]: 16,\n    [7]: 24,\n    [8]: 32,\n    [9]: 64,\n    [10]: 64,\n    [11]: 8,\n    [12]: 16,\n    [13]: 16,\n    [14]: 16,\n    [15]: 16,\n    [16]: 24,\n    [17]: 16,\n    [18]: 8,\n    [19]: 16\n};\n\n\nvar $93253a2a814802d6$export$2e2bcd8739ae039 = {\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOGIN]: [\n        [\n            'protocol',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'name',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'session',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'horizonX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'horizonY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'flag',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).BACKUP]: [\n        [\n            'token',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).HORIZON]: [\n        [\n            'horizonX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'horizonY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).ACK]: [],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).PONG]: [\n        [\n            'num',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).KEY]: [\n        [\n            'seq',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'key',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'state',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).COMMAND]: [\n        [\n            'com',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'data',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SCOREDETAILED]: [],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).CHAT]: [\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).WHISPER]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SAY]: [\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).TEAMCHAT]: [\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).VOTEMUTE]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOCALPING]: [\n        [\n            'auth',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ]\n};\n\n\n/* eslint-disable @typescript-eslint/no-empty-interface */ \n\nvar $31f2d7946cdadaba$export$2e2bcd8739ae039 = {\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).LOGIN]: [\n        [\n            'success',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'team',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'token',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'room',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'players',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'status',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'level',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'name',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n                ],\n                [\n                    'type',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'team',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'posX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n                ],\n                [\n                    'posY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n                ],\n                [\n                    'rot',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n                ],\n                [\n                    'flag',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'upgrades',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ]\n            ]\n        ],\n        [\n            'serverConfiguration',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig\n        ],\n        [\n            'bots',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).BACKUP]: [],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'num',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING_RESULT]: [\n        [\n            'ping',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'playerstotal',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'playersgame',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ACK]: [],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ERROR]: [\n        [\n            'error',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).COMMAND_REPLY]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_NEW]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'status',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'name',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'team',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'flag',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'upgrades',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'isBot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEAVE]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPDATE]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'keystate',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'upgrades',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'speedX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'speedY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FIRE]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'energy',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n        ],\n        [\n            'energyRegen',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n        ],\n        [\n            'projectiles',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'type',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'posX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n                ],\n                [\n                    'posY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n                ],\n                [\n                    'speedX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'speedY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'accelX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n                ],\n                [\n                    'accelY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n                ],\n                [\n                    'maxSpeed',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ]\n            ]\n        ]\n    ],\n    // [packet.PLAYER_SAY]: [['id', types.uint16], ['text', types.text]],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RESPAWN]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'upgrades',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FLAG]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'flag',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_HIT]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ],\n        [\n            'owner',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'players',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'health',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n                ],\n                [\n                    'healthRegen',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_KILL]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'killer',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPGRADE]: [\n        [\n            'upgrades',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'speed',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'defense',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'energy',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'missile',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_TYPE]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_POWERUP]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'duration',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEVEL]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'level',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RETEAM]: [\n        [\n            'players',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'team',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FLAG]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'flag',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'blueteam',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'redteam',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_SPECTATE]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_PLAYERSALIVE]: [\n        [\n            'players',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FIREWALL]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'status',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ],\n        [\n            'radius',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n        ],\n        [\n            'speed',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_REPEL]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'speedX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'speedY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'energy',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n        ],\n        [\n            'energyRegen',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n        ],\n        [\n            'players',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'keystate',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'posX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n                ],\n                [\n                    'posY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n                ],\n                [\n                    'rot',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n                ],\n                [\n                    'speedX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'speedY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'energy',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n                ],\n                [\n                    'energyRegen',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n                ],\n                [\n                    'playerHealth',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n                ],\n                [\n                    'playerHealthRegen',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n                ]\n            ]\n        ],\n        [\n            'mobs',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'type',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'posX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n                ],\n                [\n                    'posY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n                ],\n                [\n                    'speedX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'speedY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ],\n                [\n                    'accelX',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n                ],\n                [\n                    'accelY',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n                ],\n                [\n                    'maxSpeed',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOOST]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'boost',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'speedX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'speedY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'energy',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n        ],\n        [\n            'energyRegen',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOUNCE]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'keystate',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24\n        ],\n        [\n            'rot',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation\n        ],\n        [\n            'speedX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'speedY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_STEALTH]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'state',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n        ],\n        [\n            'energy',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy\n        ],\n        [\n            'energyRegen',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_LEAVEHORIZON]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE]: [\n        [\n            'clock',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ],\n        [\n            'speedX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'speedY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ],\n        [\n            'accelX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n        ],\n        [\n            'accelY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel\n        ],\n        [\n            'maxSpeed',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE_STATIONARY]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN_COORDS]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'posX',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx\n        ],\n        [\n            'posY',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_UPDATE]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'score',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'earnings',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'upgrades',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'totalkills',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'totaldeaths',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_BOARD]: [\n        [\n            'data',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'score',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n                ],\n                [\n                    'level',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ]\n            ]\n        ],\n        [\n            'rankings',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'x',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'y',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED]: [\n        [\n            'scores',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'level',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'score',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n                ],\n                [\n                    'kills',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'deaths',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'damage',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n                ],\n                [\n                    'ping',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_CTF]: [\n        [\n            'scores',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'level',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'captures',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'score',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n                ],\n                [\n                    'kills',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'deaths',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'damage',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n                ],\n                [\n                    'ping',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_BTR]: [\n        [\n            'scores',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).array,\n            [\n                [\n                    'id',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'level',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n                ],\n                [\n                    'alive',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean\n                ],\n                [\n                    'wins',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'score',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n                ],\n                [\n                    'kills',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'deaths',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ],\n                [\n                    'damage',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32\n                ],\n                [\n                    'ping',\n                    (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n                ]\n            ]\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_TEAM]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_PUBLIC]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_SAY]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_WHISPER]: [\n        [\n            'from',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'to',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).text\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTEPASSED]: [\n        [\n            'id',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTED]: [],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_MESSAGE]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'duration',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32\n        ],\n        [\n            'text',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig\n        ]\n    ],\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_CUSTOM]: [\n        [\n            'type',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8\n        ],\n        [\n            'data',\n            (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig\n        ]\n    ]\n};\n\n\n\n\n\n/* eslint-disable no-plusplus */ /* eslint-disable no-bitwise */ \n/**\r\n * Marshals a string to an Uint8Array.\r\n * https://gist.github.com/pascaldekloe/62546103a1576803dade9269ccf76330\r\n *\r\n * @param s\r\n */ const $8c40ee774dfe65ed$export$fcabffea81927cf1 = (s)=>{\n    let i = 0;\n    const bytes = new Uint8Array(s.length * 4);\n    for(let ci = 0; ci !== s.length; ci += 1){\n        let c = s.charCodeAt(ci);\n        if (c < 128) {\n            bytes[i++] = c;\n            continue;\n        }\n        if (c < 2048) bytes[i++] = c >> 6 | 192;\n        else {\n            if (c > 0xd7ff && c < 0xdc00) {\n                if (++ci >= s.length) throw new (0, $e097e23fe9578079$export$bd6a5472535ccab5)('UTF-8 encode: incomplete surrogate pair');\n                const c2 = s.charCodeAt(ci);\n                if (c2 < 0xdc00 || c2 > 0xdfff) throw new (0, $e097e23fe9578079$export$bd6a5472535ccab5)(`UTF-8 encode: second surrogate character 0x${c2.toString(16)} at index ${ci} out of range`);\n                c = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n                bytes[i++] = c >> 18 | 240;\n                bytes[i++] = c >> 12 & 63 | 128;\n            } else bytes[i++] = c >> 12 | 224;\n            bytes[i++] = c >> 6 & 63 | 128;\n        }\n        bytes[i++] = c & 63 | 128;\n    }\n    return bytes.subarray(0, i);\n};\n/**\r\n * Unmarshals a string from an Uint8Array.\r\n *\r\n * @param bytes\r\n */ const $8c40ee774dfe65ed$export$2a3384f9191ce613 = (bytes)=>{\n    let i = 0;\n    let s = '';\n    while(i < bytes.length){\n        let c = bytes[i++];\n        if (c > 127) {\n            if (c > 191 && c < 224) {\n                if (i >= bytes.length) throw new (0, $e097e23fe9578079$export$e16542dee1cf1467)('UTF-8 decode: incomplete 2-byte sequence');\n                c = (c & 31) << 6 | bytes[i++] & 63;\n            } else if (c > 223 && c < 240) {\n                if (i + 1 >= bytes.length) throw new (0, $e097e23fe9578079$export$e16542dee1cf1467)('UTF-8 decode: incomplete 3-byte sequence');\n                c = (c & 15) << 12 | (bytes[i++] & 63) << 6 | bytes[i++] & 63;\n            } else if (c > 239 && c < 248) {\n                if (i + 2 >= bytes.length) throw new (0, $e097e23fe9578079$export$e16542dee1cf1467)('UTF-8 decode: incomplete 4-byte sequence');\n                c = (c & 7) << 18 | (bytes[i++] & 63) << 12 | (bytes[i++] & 63) << 6 | bytes[i++] & 63;\n            } else throw new (0, $e097e23fe9578079$export$e16542dee1cf1467)(`UTF-8 decode: unknown multibyte start 0x${c.toString(16)} at index ${i - 1}`);\n        }\n        if (c <= 0xffff) s += String.fromCharCode(c);\n        else if (c <= 0x10ffff) {\n            c -= 0x10000;\n            s += String.fromCharCode(c >> 10 | 0xd800);\n            s += String.fromCharCode(c & 0x3ff | 0xdc00);\n        } else throw new (0, $e097e23fe9578079$export$e16542dee1cf1467)(`UTF-8 decode: code point 0x${c.toString(16)} exceeds UTF-16 reach`);\n    }\n    return s;\n};\n\n\n/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */ \n\nconst $d65546d13b8ceefe$var$staticAckPacket = (()=>{\n    const buffer = new ArrayBuffer(1);\n    const dataView = new DataView(buffer);\n    dataView.setUint8(0, 5);\n    return buffer;\n})();\nconst $d65546d13b8ceefe$var$staticScoredetailedPacket = (()=>{\n    const buffer = new ArrayBuffer(1);\n    const dataView = new DataView(buffer);\n    dataView.setUint8(0, 12);\n    return buffer;\n})();\nvar $d65546d13b8ceefe$export$2e2bcd8739ae039 = {\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOGIN]: (msg)=>{\n        // Root strings size calculation\n        const name = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.name);\n        const session = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.session);\n        const flag = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.flag);\n        const buffer = new ArrayBuffer(9 + name.length + session.length + flag.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // protocol, uint8\n        dataView.setUint8(offset, msg.protocol);\n        offset += 1;\n        // name, text\n        dataView.setUint8(offset, name.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < name.length; charOffset += 1)dataView.setUint8(offset + charOffset, name[charOffset]);\n        offset += name.length;\n        // session, text\n        dataView.setUint8(offset, session.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < session.length; charOffset += 1)dataView.setUint8(offset + charOffset, session[charOffset]);\n        offset += session.length;\n        // horizonX, uint16\n        dataView.setUint16(offset, msg.horizonX, true);\n        offset += 2;\n        // horizonY, uint16\n        dataView.setUint16(offset, msg.horizonY, true);\n        offset += 2;\n        // flag, text\n        dataView.setUint8(offset, flag.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < flag.length; charOffset += 1)dataView.setUint8(offset + charOffset, flag[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).BACKUP]: (msg)=>{\n        // Root strings size calculation\n        const token = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.token);\n        const buffer = new ArrayBuffer(2 + token.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // token, text\n        dataView.setUint8(offset, token.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < token.length; charOffset += 1)dataView.setUint8(offset + charOffset, token[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).HORIZON]: (msg)=>{\n        const buffer = new ArrayBuffer(5);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // horizonX, uint16\n        dataView.setUint16(offset, msg.horizonX, true);\n        offset += 2;\n        // horizonY, uint16\n        dataView.setUint16(offset, msg.horizonY, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).ACK]: ()=>$d65546d13b8ceefe$var$staticAckPacket,\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).PONG]: (msg)=>{\n        const buffer = new ArrayBuffer(5);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // num, uint32\n        dataView.setUint32(offset, msg.num, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).KEY]: (msg)=>{\n        const buffer = new ArrayBuffer(7);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // seq, uint32\n        dataView.setUint32(offset, msg.seq, true);\n        offset += 4;\n        // key, uint8\n        dataView.setUint8(offset, msg.key);\n        offset += 1;\n        // state, boolean\n        dataView.setUint8(offset, msg.state === false ? 0 : 1);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).COMMAND]: (msg)=>{\n        // Root strings size calculation\n        const com = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.com);\n        const data = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.data);\n        const buffer = new ArrayBuffer(3 + com.length + data.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // com, text\n        dataView.setUint8(offset, com.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < com.length; charOffset += 1)dataView.setUint8(offset + charOffset, com[charOffset]);\n        offset += com.length;\n        // data, text\n        dataView.setUint8(offset, data.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < data.length; charOffset += 1)dataView.setUint8(offset + charOffset, data[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SCOREDETAILED]: ()=>$d65546d13b8ceefe$var$staticScoredetailedPacket,\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).CHAT]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(2 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).WHISPER]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(4 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SAY]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(2 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).TEAMCHAT]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(2 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).VOTEMUTE]: (msg)=>{\n        const buffer = new ArrayBuffer(3);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOCALPING]: (msg)=>{\n        const buffer = new ArrayBuffer(5);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // auth, uint32\n        dataView.setUint32(offset, msg.auth, true);\n        offset += 4;\n        return buffer;\n    }\n};\n\n\n/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */ \n\nconst $065ec9a64641db80$var$staticBackupPacket = (()=>{\n    const buffer = new ArrayBuffer(1);\n    const dataView = new DataView(buffer);\n    dataView.setUint8(0, 1);\n    return buffer;\n})();\nconst $065ec9a64641db80$var$staticAckPacket = (()=>{\n    const buffer = new ArrayBuffer(1);\n    const dataView = new DataView(buffer);\n    dataView.setUint8(0, 7);\n    return buffer;\n})();\nconst $065ec9a64641db80$var$staticChatVotemutedPacket = (()=>{\n    const buffer = new ArrayBuffer(1);\n    const dataView = new DataView(buffer);\n    dataView.setUint8(0, 79);\n    return buffer;\n})();\nvar $065ec9a64641db80$export$2e2bcd8739ae039 = {\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).LOGIN]: (msg)=>{\n        // Arrays size calculation\n        const arrStrings = [];\n        let arrStringsOffset = 0;\n        let arraysSize = 0;\n        // Array \"players\" size calculation\n        for(let i = 0; i < msg.players.length; i += 1){\n            arraysSize += 17;\n            // String \"name\" size calculation\n            arrStrings[arrStringsOffset] = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.players[i].name);\n            arraysSize += arrStrings[arrStringsOffset].length;\n            arrStringsOffset += 1;\n        }\n        // Array \"bots\" size calculation\n        for(let i = 0; i < msg.bots.length; i += 1)arraysSize += 2;\n        // Root strings size calculation\n        const token = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.token);\n        const room = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.room);\n        const serverConfiguration = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.serverConfiguration);\n        const buffer = new ArrayBuffer(19 + token.length + room.length + serverConfiguration.length + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        arrStringsOffset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // success, boolean\n        dataView.setUint8(offset, msg.success === false ? 0 : 1);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // team, uint16\n        dataView.setUint16(offset, msg.team, true);\n        offset += 2;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // token, text\n        dataView.setUint8(offset, token.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < token.length; charOffset += 1)dataView.setUint8(offset + charOffset, token[charOffset]);\n        offset += token.length;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // room, text\n        dataView.setUint8(offset, room.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < room.length; charOffset += 1)dataView.setUint8(offset + charOffset, room[charOffset]);\n        offset += room.length;\n        // players, array\n        {\n            const { players: players } = msg;\n            dataView.setUint16(offset, players.length, true);\n            offset += 2;\n            for(let i = 0; i < players.length; i += 1){\n                // players[id], uint16\n                dataView.setUint16(offset, players[i].id, true);\n                offset += 2;\n                // players[status], uint8\n                dataView.setUint8(offset, players[i].status);\n                offset += 1;\n                // players[level], uint8\n                dataView.setUint8(offset, players[i].level);\n                offset += 1;\n                // players[name], text\n                dataView.setUint8(offset, arrStrings[arrStringsOffset].length);\n                offset += 1;\n                for(let charOffset = 0; charOffset < arrStrings[arrStringsOffset].length; charOffset += 1)dataView.setUint8(offset + charOffset, arrStrings[arrStringsOffset][charOffset]);\n                offset += arrStrings[arrStringsOffset].length;\n                arrStringsOffset += 1;\n                // players[type], uint8\n                dataView.setUint8(offset, players[i].type);\n                offset += 1;\n                // players[team], uint16\n                dataView.setUint16(offset, players[i].team, true);\n                offset += 2;\n                // players[posX], coordx\n                dataView.setUint16(offset, players[i].posX * 2 + 32768, true);\n                offset += 2;\n                // players[posY], coordy\n                dataView.setUint16(offset, players[i].posY * 4 + 32768, true);\n                offset += 2;\n                // players[rot], rotation\n                dataView.setUint16(offset, players[i].rot * 6553.6, true);\n                offset += 2;\n                // players[flag], uint16\n                dataView.setUint16(offset, players[i].flag, true);\n                offset += 2;\n                // players[upgrades], uint8\n                dataView.setUint8(offset, players[i].upgrades);\n                offset += 1;\n            }\n        }\n        // serverConfiguration, textbig\n        dataView.setUint16(offset, serverConfiguration.length, true);\n        offset += 2;\n        for(let charOffset = 0; charOffset < serverConfiguration.length; charOffset += 1)dataView.setUint8(offset + charOffset, serverConfiguration[charOffset]);\n        offset += serverConfiguration.length;\n        // bots, array\n        {\n            const { bots: bots } = msg;\n            dataView.setUint16(offset, bots.length, true);\n            offset += 2;\n            for(let i = 0; i < bots.length; i += 1){\n                // bots[id], uint16\n                dataView.setUint16(offset, bots[i].id, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).BACKUP]: ()=>$065ec9a64641db80$var$staticBackupPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING]: (msg)=>{\n        const buffer = new ArrayBuffer(9);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // num, uint32\n        dataView.setUint32(offset, msg.num, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING_RESULT]: (msg)=>{\n        const buffer = new ArrayBuffer(11);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // ping, uint16\n        dataView.setUint16(offset, msg.ping, true);\n        offset += 2;\n        // playerstotal, uint32\n        dataView.setUint32(offset, msg.playerstotal, true);\n        offset += 4;\n        // playersgame, uint32\n        dataView.setUint32(offset, msg.playersgame, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ACK]: ()=>$065ec9a64641db80$var$staticAckPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ERROR]: (msg)=>{\n        const buffer = new ArrayBuffer(2);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // error, uint8\n        dataView.setUint8(offset, msg.error);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).COMMAND_REPLY]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(4 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // text, textbig\n        dataView.setUint16(offset, text.length, true);\n        offset += 2;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_NEW]: (msg)=>{\n        // Root strings size calculation\n        const name = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.name);\n        const buffer = new ArrayBuffer(18 + name.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // status, uint8\n        dataView.setUint8(offset, msg.status);\n        offset += 1;\n        // name, text\n        dataView.setUint8(offset, name.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < name.length; charOffset += 1)dataView.setUint8(offset + charOffset, name[charOffset]);\n        offset += name.length;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // team, uint16\n        dataView.setUint16(offset, msg.team, true);\n        offset += 2;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // flag, uint16\n        dataView.setUint16(offset, msg.flag, true);\n        offset += 2;\n        // upgrades, uint8\n        dataView.setUint8(offset, msg.upgrades);\n        offset += 1;\n        // isBot, boolean\n        dataView.setUint8(offset, msg.isBot === false ? 0 : 1);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEAVE]: (msg)=>{\n        const buffer = new ArrayBuffer(3);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPDATE]: (msg)=>{\n        const buffer = new ArrayBuffer(21);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // keystate, uint8\n        dataView.setUint8(offset, msg.keystate);\n        offset += 1;\n        // upgrades, uint8\n        dataView.setUint8(offset, msg.upgrades);\n        offset += 1;\n        // posX, coord24\n        {\n            const value = msg.posX * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // posY, coord24\n        {\n            const value = msg.posY * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // speedX, speed\n        dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\n        offset += 2;\n        // speedY, speed\n        dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FIRE]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"projectiles\" size calculation\n        for(let i = 0; i < msg.projectiles.length; i += 1)arraysSize += 17;\n        const buffer = new ArrayBuffer(11 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // energy, healthenergy\n        dataView.setUint8(offset, msg.energy * 255);\n        offset += 1;\n        // energyRegen, regen\n        dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\n        offset += 2;\n        // projectiles, arraysmall\n        {\n            const { projectiles: projectiles } = msg;\n            dataView.setUint8(offset, projectiles.length);\n            offset += 1;\n            for(let i = 0; i < projectiles.length; i += 1){\n                // projectiles[id], uint16\n                dataView.setUint16(offset, projectiles[i].id, true);\n                offset += 2;\n                // projectiles[type], uint8\n                dataView.setUint8(offset, projectiles[i].type);\n                offset += 1;\n                // projectiles[posX], coordx\n                dataView.setUint16(offset, projectiles[i].posX * 2 + 32768, true);\n                offset += 2;\n                // projectiles[posY], coordy\n                dataView.setUint16(offset, projectiles[i].posY * 4 + 32768, true);\n                offset += 2;\n                // projectiles[speedX], speed\n                dataView.setUint16(offset, projectiles[i].speedX * 1638.4 + 32768, true);\n                offset += 2;\n                // projectiles[speedY], speed\n                dataView.setUint16(offset, projectiles[i].speedY * 1638.4 + 32768, true);\n                offset += 2;\n                // projectiles[accelX], accel\n                dataView.setUint16(offset, projectiles[i].accelX * 32768 + 32768, true);\n                offset += 2;\n                // projectiles[accelY], accel\n                dataView.setUint16(offset, projectiles[i].accelY * 32768 + 32768, true);\n                offset += 2;\n                // projectiles[maxSpeed], speed\n                dataView.setUint16(offset, projectiles[i].maxSpeed * 1638.4 + 32768, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_HIT]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"players\" size calculation\n        for(let i = 0; i < msg.players.length; i += 1)arraysSize += 5;\n        const buffer = new ArrayBuffer(11 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        // owner, uint16\n        dataView.setUint16(offset, msg.owner, true);\n        offset += 2;\n        // players, arraysmall\n        {\n            const { players: players } = msg;\n            dataView.setUint8(offset, players.length);\n            offset += 1;\n            for(let i = 0; i < players.length; i += 1){\n                // players[id], uint16\n                dataView.setUint16(offset, players[i].id, true);\n                offset += 2;\n                // players[health], healthenergy\n                dataView.setUint8(offset, players[i].health * 255);\n                offset += 1;\n                // players[healthRegen], regen\n                dataView.setUint16(offset, players[i].healthRegen * 1e6 + 32768, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RESPAWN]: (msg)=>{\n        const buffer = new ArrayBuffer(12);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // posX, coord24\n        {\n            const value = msg.posX * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // posY, coord24\n        {\n            const value = msg.posY * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // upgrades, uint8\n        dataView.setUint8(offset, msg.upgrades);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FLAG]: (msg)=>{\n        const buffer = new ArrayBuffer(5);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // flag, uint16\n        dataView.setUint16(offset, msg.flag, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_KILL]: (msg)=>{\n        const buffer = new ArrayBuffer(9);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // killer, uint16\n        dataView.setUint16(offset, msg.killer, true);\n        offset += 2;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPGRADE]: (msg)=>{\n        const buffer = new ArrayBuffer(8);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // upgrades, uint16\n        dataView.setUint16(offset, msg.upgrades, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // speed, uint8\n        dataView.setUint8(offset, msg.speed);\n        offset += 1;\n        // defense, uint8\n        dataView.setUint8(offset, msg.defense);\n        offset += 1;\n        // energy, uint8\n        dataView.setUint8(offset, msg.energy);\n        offset += 1;\n        // missile, uint8\n        dataView.setUint8(offset, msg.missile);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_TYPE]: (msg)=>{\n        const buffer = new ArrayBuffer(4);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_POWERUP]: (msg)=>{\n        const buffer = new ArrayBuffer(6);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // duration, uint32\n        dataView.setUint32(offset, msg.duration, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEVEL]: (msg)=>{\n        const buffer = new ArrayBuffer(5);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // level, uint8\n        dataView.setUint8(offset, msg.level);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RETEAM]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"players\" size calculation\n        for(let i = 0; i < msg.players.length; i += 1)arraysSize += 4;\n        const buffer = new ArrayBuffer(3 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // players, array\n        {\n            const { players: players } = msg;\n            dataView.setUint16(offset, players.length, true);\n            offset += 2;\n            for(let i = 0; i < players.length; i += 1){\n                // players[id], uint16\n                dataView.setUint16(offset, players[i].id, true);\n                offset += 2;\n                // players[team], uint16\n                dataView.setUint16(offset, players[i].team, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FLAG]: (msg)=>{\n        const buffer = new ArrayBuffer(13);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // flag, uint8\n        dataView.setUint8(offset, msg.flag);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // posX, coord24\n        {\n            const value = msg.posX * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // posY, coord24\n        {\n            const value = msg.posY * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // blueteam, uint8\n        dataView.setUint8(offset, msg.blueteam);\n        offset += 1;\n        // redteam, uint8\n        dataView.setUint8(offset, msg.redteam);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_SPECTATE]: (msg)=>{\n        const buffer = new ArrayBuffer(3);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_PLAYERSALIVE]: (msg)=>{\n        const buffer = new ArrayBuffer(3);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // players, uint16\n        dataView.setUint16(offset, msg.players, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FIREWALL]: (msg)=>{\n        const buffer = new ArrayBuffer(15);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // status, uint8\n        dataView.setUint8(offset, msg.status);\n        offset += 1;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        // radius, float32\n        dataView.setFloat32(offset, msg.radius, true);\n        offset += 4;\n        // speed, float32\n        dataView.setFloat32(offset, msg.speed, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_REPEL]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"players\" size calculation\n        for(let i = 0; i < msg.players.length; i += 1)arraysSize += 19;\n        // Array \"mobs\" size calculation\n        for(let i = 0; i < msg.mobs.length; i += 1)arraysSize += 17;\n        const buffer = new ArrayBuffer(22 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // speedX, speed\n        dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\n        offset += 2;\n        // speedY, speed\n        dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\n        offset += 2;\n        // energy, healthenergy\n        dataView.setUint8(offset, msg.energy * 255);\n        offset += 1;\n        // energyRegen, regen\n        dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\n        offset += 2;\n        // players, arraysmall\n        {\n            const { players: players } = msg;\n            dataView.setUint8(offset, players.length);\n            offset += 1;\n            for(let i = 0; i < players.length; i += 1){\n                // players[id], uint16\n                dataView.setUint16(offset, players[i].id, true);\n                offset += 2;\n                // players[keystate], uint8\n                dataView.setUint8(offset, players[i].keystate);\n                offset += 1;\n                // players[posX], coordx\n                dataView.setUint16(offset, players[i].posX * 2 + 32768, true);\n                offset += 2;\n                // players[posY], coordy\n                dataView.setUint16(offset, players[i].posY * 4 + 32768, true);\n                offset += 2;\n                // players[rot], rotation\n                dataView.setUint16(offset, players[i].rot * 6553.6, true);\n                offset += 2;\n                // players[speedX], speed\n                dataView.setUint16(offset, players[i].speedX * 1638.4 + 32768, true);\n                offset += 2;\n                // players[speedY], speed\n                dataView.setUint16(offset, players[i].speedY * 1638.4 + 32768, true);\n                offset += 2;\n                // players[energy], healthenergy\n                dataView.setUint8(offset, players[i].energy * 255);\n                offset += 1;\n                // players[energyRegen], regen\n                dataView.setUint16(offset, players[i].energyRegen * 1e6 + 32768, true);\n                offset += 2;\n                // players[playerHealth], healthenergy\n                dataView.setUint8(offset, players[i].playerHealth * 255);\n                offset += 1;\n                // players[playerHealthRegen], regen\n                dataView.setUint16(offset, players[i].playerHealthRegen * 1e6 + 32768, true);\n                offset += 2;\n            }\n        }\n        // mobs, arraysmall\n        {\n            const { mobs: mobs } = msg;\n            dataView.setUint8(offset, mobs.length);\n            offset += 1;\n            for(let i = 0; i < mobs.length; i += 1){\n                // mobs[id], uint16\n                dataView.setUint16(offset, mobs[i].id, true);\n                offset += 2;\n                // mobs[type], uint8\n                dataView.setUint8(offset, mobs[i].type);\n                offset += 1;\n                // mobs[posX], coordx\n                dataView.setUint16(offset, mobs[i].posX * 2 + 32768, true);\n                offset += 2;\n                // mobs[posY], coordy\n                dataView.setUint16(offset, mobs[i].posY * 4 + 32768, true);\n                offset += 2;\n                // mobs[speedX], speed\n                dataView.setUint16(offset, mobs[i].speedX * 1638.4 + 32768, true);\n                offset += 2;\n                // mobs[speedY], speed\n                dataView.setUint16(offset, mobs[i].speedY * 1638.4 + 32768, true);\n                offset += 2;\n                // mobs[accelX], accel\n                dataView.setUint16(offset, mobs[i].accelX * 32768 + 32768, true);\n                offset += 2;\n                // mobs[accelY], accel\n                dataView.setUint16(offset, mobs[i].accelY * 32768 + 32768, true);\n                offset += 2;\n                // mobs[maxSpeed], speed\n                dataView.setUint16(offset, mobs[i].maxSpeed * 1638.4 + 32768, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOOST]: (msg)=>{\n        const buffer = new ArrayBuffer(23);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // boost, boolean\n        dataView.setUint8(offset, msg.boost === false ? 0 : 1);\n        offset += 1;\n        // posX, coord24\n        {\n            const value = msg.posX * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // posY, coord24\n        {\n            const value = msg.posY * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // speedX, speed\n        dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\n        offset += 2;\n        // speedY, speed\n        dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\n        offset += 2;\n        // energy, healthenergy\n        dataView.setUint8(offset, msg.energy * 255);\n        offset += 1;\n        // energyRegen, regen\n        dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOUNCE]: (msg)=>{\n        const buffer = new ArrayBuffer(20);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // keystate, uint8\n        dataView.setUint8(offset, msg.keystate);\n        offset += 1;\n        // posX, coord24\n        {\n            const value = msg.posX * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // posY, coord24\n        {\n            const value = msg.posY * 512 + 8388608;\n            const u8 = value % 256;\n            const u16 = (value - u8) / 256;\n            dataView.setUint16(offset, u16, true);\n            offset += 2;\n            dataView.setUint8(offset, u8);\n            offset += 1;\n        }\n        // rot, rotation\n        dataView.setUint16(offset, msg.rot * 6553.6, true);\n        offset += 2;\n        // speedX, speed\n        dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\n        offset += 2;\n        // speedY, speed\n        dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_STEALTH]: (msg)=>{\n        const buffer = new ArrayBuffer(7);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // state, boolean\n        dataView.setUint8(offset, msg.state === false ? 0 : 1);\n        offset += 1;\n        // energy, healthenergy\n        dataView.setUint8(offset, msg.energy * 255);\n        offset += 1;\n        // energyRegen, regen\n        dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_LEAVEHORIZON]: (msg)=>{\n        const buffer = new ArrayBuffer(4);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE]: (msg)=>{\n        const buffer = new ArrayBuffer(22);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // clock, uint32\n        dataView.setUint32(offset, msg.clock, true);\n        offset += 4;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        // speedX, speed\n        dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\n        offset += 2;\n        // speedY, speed\n        dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\n        offset += 2;\n        // accelX, accel\n        dataView.setUint16(offset, msg.accelX * 32768 + 32768, true);\n        offset += 2;\n        // accelY, accel\n        dataView.setUint16(offset, msg.accelY * 32768 + 32768, true);\n        offset += 2;\n        // maxSpeed, speed\n        dataView.setUint16(offset, msg.maxSpeed * 1638.4 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE_STATIONARY]: (msg)=>{\n        const buffer = new ArrayBuffer(12);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // posX, float32\n        dataView.setFloat32(offset, msg.posX, true);\n        offset += 4;\n        // posY, float32\n        dataView.setFloat32(offset, msg.posY, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN]: (msg)=>{\n        const buffer = new ArrayBuffer(4);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN_COORDS]: (msg)=>{\n        const buffer = new ArrayBuffer(8);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // posX, coordx\n        dataView.setUint16(offset, msg.posX * 2 + 32768, true);\n        offset += 2;\n        // posY, coordy\n        dataView.setUint16(offset, msg.posY * 4 + 32768, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_PUBLIC]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(4 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_TEAM]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(4 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_SAY]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(4 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_WHISPER]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(6 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // from, uint16\n        dataView.setUint16(offset, msg.from, true);\n        offset += 2;\n        // to, uint16\n        dataView.setUint16(offset, msg.to, true);\n        offset += 2;\n        // text, text\n        dataView.setUint8(offset, text.length);\n        offset += 1;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTEPASSED]: (msg)=>{\n        const buffer = new ArrayBuffer(3);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTED]: ()=>$065ec9a64641db80$var$staticChatVotemutedPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_UPDATE]: (msg)=>{\n        const buffer = new ArrayBuffer(21);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // id, uint16\n        dataView.setUint16(offset, msg.id, true);\n        offset += 2;\n        // score, uint32\n        dataView.setUint32(offset, msg.score, true);\n        offset += 4;\n        // earnings, uint32\n        dataView.setUint32(offset, msg.earnings, true);\n        offset += 4;\n        // upgrades, uint16\n        dataView.setUint16(offset, msg.upgrades, true);\n        offset += 2;\n        // totalkills, uint32\n        dataView.setUint32(offset, msg.totalkills, true);\n        offset += 4;\n        // totaldeaths, uint32\n        dataView.setUint32(offset, msg.totaldeaths, true);\n        offset += 4;\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_BOARD]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"data\" size calculation\n        for(let i = 0; i < msg.data.length; i += 1)arraysSize += 7;\n        // Array \"rankings\" size calculation\n        for(let i = 0; i < msg.rankings.length; i += 1)arraysSize += 4;\n        const buffer = new ArrayBuffer(5 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // data, array\n        {\n            const { data: data } = msg;\n            dataView.setUint16(offset, data.length, true);\n            offset += 2;\n            for(let i = 0; i < data.length; i += 1){\n                // data[id], uint16\n                dataView.setUint16(offset, data[i].id, true);\n                offset += 2;\n                // data[score], uint32\n                dataView.setUint32(offset, data[i].score, true);\n                offset += 4;\n                // data[level], uint8\n                dataView.setUint8(offset, data[i].level);\n                offset += 1;\n            }\n        }\n        // rankings, array\n        {\n            const { rankings: rankings } = msg;\n            dataView.setUint16(offset, rankings.length, true);\n            offset += 2;\n            for(let i = 0; i < rankings.length; i += 1){\n                // rankings[id], uint16\n                dataView.setUint16(offset, rankings[i].id, true);\n                offset += 2;\n                // rankings[x], uint8\n                dataView.setUint8(offset, rankings[i].x);\n                offset += 1;\n                // rankings[y], uint8\n                dataView.setUint8(offset, rankings[i].y);\n                offset += 1;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"scores\" size calculation\n        for(let i = 0; i < msg.scores.length; i += 1)arraysSize += 17;\n        const buffer = new ArrayBuffer(3 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // scores, array\n        {\n            const { scores: scores } = msg;\n            dataView.setUint16(offset, scores.length, true);\n            offset += 2;\n            for(let i = 0; i < scores.length; i += 1){\n                // scores[id], uint16\n                dataView.setUint16(offset, scores[i].id, true);\n                offset += 2;\n                // scores[level], uint8\n                dataView.setUint8(offset, scores[i].level);\n                offset += 1;\n                // scores[score], uint32\n                dataView.setUint32(offset, scores[i].score, true);\n                offset += 4;\n                // scores[kills], uint16\n                dataView.setUint16(offset, scores[i].kills, true);\n                offset += 2;\n                // scores[deaths], uint16\n                dataView.setUint16(offset, scores[i].deaths, true);\n                offset += 2;\n                // scores[damage], float32\n                dataView.setFloat32(offset, scores[i].damage, true);\n                offset += 4;\n                // scores[ping], uint16\n                dataView.setUint16(offset, scores[i].ping, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_CTF]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"scores\" size calculation\n        for(let i = 0; i < msg.scores.length; i += 1)arraysSize += 19;\n        const buffer = new ArrayBuffer(3 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // scores, array\n        {\n            const { scores: scores } = msg;\n            dataView.setUint16(offset, scores.length, true);\n            offset += 2;\n            for(let i = 0; i < scores.length; i += 1){\n                // scores[id], uint16\n                dataView.setUint16(offset, scores[i].id, true);\n                offset += 2;\n                // scores[level], uint8\n                dataView.setUint8(offset, scores[i].level);\n                offset += 1;\n                // scores[captures], uint16\n                dataView.setUint16(offset, scores[i].captures, true);\n                offset += 2;\n                // scores[score], uint32\n                dataView.setUint32(offset, scores[i].score, true);\n                offset += 4;\n                // scores[kills], uint16\n                dataView.setUint16(offset, scores[i].kills, true);\n                offset += 2;\n                // scores[deaths], uint16\n                dataView.setUint16(offset, scores[i].deaths, true);\n                offset += 2;\n                // scores[damage], float32\n                dataView.setFloat32(offset, scores[i].damage, true);\n                offset += 4;\n                // scores[ping], uint16\n                dataView.setUint16(offset, scores[i].ping, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_BTR]: (msg)=>{\n        // Arrays size calculation\n        let arraysSize = 0;\n        // Array \"scores\" size calculation\n        for(let i = 0; i < msg.scores.length; i += 1)arraysSize += 20;\n        const buffer = new ArrayBuffer(3 + arraysSize);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // scores, array\n        {\n            const { scores: scores } = msg;\n            dataView.setUint16(offset, scores.length, true);\n            offset += 2;\n            for(let i = 0; i < scores.length; i += 1){\n                // scores[id], uint16\n                dataView.setUint16(offset, scores[i].id, true);\n                offset += 2;\n                // scores[level], uint8\n                dataView.setUint8(offset, scores[i].level);\n                offset += 1;\n                // scores[alive], boolean\n                dataView.setUint8(offset, scores[i].alive === false ? 0 : 1);\n                offset += 1;\n                // scores[wins], uint16\n                dataView.setUint16(offset, scores[i].wins, true);\n                offset += 2;\n                // scores[score], uint32\n                dataView.setUint32(offset, scores[i].score, true);\n                offset += 4;\n                // scores[kills], uint16\n                dataView.setUint16(offset, scores[i].kills, true);\n                offset += 2;\n                // scores[deaths], uint16\n                dataView.setUint16(offset, scores[i].deaths, true);\n                offset += 2;\n                // scores[damage], float32\n                dataView.setFloat32(offset, scores[i].damage, true);\n                offset += 4;\n                // scores[ping], uint16\n                dataView.setUint16(offset, scores[i].ping, true);\n                offset += 2;\n            }\n        }\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_MESSAGE]: (msg)=>{\n        // Root strings size calculation\n        const text = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.text);\n        const buffer = new ArrayBuffer(8 + text.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // duration, uint32\n        dataView.setUint32(offset, msg.duration, true);\n        offset += 4;\n        // text, textbig\n        dataView.setUint16(offset, text.length, true);\n        offset += 2;\n        for(let charOffset = 0; charOffset < text.length; charOffset += 1)dataView.setUint8(offset + charOffset, text[charOffset]);\n        return buffer;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_CUSTOM]: (msg)=>{\n        // Root strings size calculation\n        const data = (0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(msg.data);\n        const buffer = new ArrayBuffer(4 + data.length);\n        const dataView = new DataView(buffer);\n        let offset = 0;\n        dataView.setUint8(offset, msg.c);\n        offset += 1;\n        // type, uint8\n        dataView.setUint8(offset, msg.type);\n        offset += 1;\n        // data, textbig\n        dataView.setUint16(offset, data.length, true);\n        offset += 2;\n        for(let charOffset = 0; charOffset < data.length; charOffset += 1)dataView.setUint8(offset + charOffset, data[charOffset]);\n        return buffer;\n    }\n};\n\n\nconst $8b72c93c7e6c3a89$var$SERVER_MESSAGE = 0;\nconst $8b72c93c7e6c3a89$var$CLIENT_MESSAGE = 1;\nconst $8b72c93c7e6c3a89$var$encodedStrings = new class {\n    constructor(){\n        this.storage = [];\n    }\n    last() {\n        if (this.storage.length > 0) return this.storage[this.storage.length - 1];\n        return null;\n    }\n    put(str) {\n        this.storage.push(str);\n    }\n    shift() {\n        return this.storage.shift();\n    }\n    flush() {\n        this.storage = [];\n    }\n}();\nconst $8b72c93c7e6c3a89$var$flushVars = ()=>{\n    $8b72c93c7e6c3a89$var$encodedStrings.flush();\n};\nconst $8b72c93c7e6c3a89$var$calcBufferLength = (data, dataSchema)=>{\n    let length = 0;\n    for(let fieldIndex = 0; fieldIndex < dataSchema.length; fieldIndex += 1){\n        const [fieldName, fieldType, subSchema] = dataSchema[fieldIndex];\n        const fieldData = data[fieldName];\n        switch(fieldType){\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).text:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig:\n                $8b72c93c7e6c3a89$var$encodedStrings.put((0, $8c40ee774dfe65ed$export$fcabffea81927cf1)(fieldData));\n                if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig) length += 2;\n                else length += 1;\n                length += $8b72c93c7e6c3a89$var$encodedStrings.last().length;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).array:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall:\n                if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).array) length += 2;\n                else length += 1;\n                for(let index = 0; index < fieldData.length; index += 1)length += $8b72c93c7e6c3a89$var$calcBufferLength(fieldData[index], subSchema);\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy:\n                length += 1;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen:\n                length += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint24:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24:\n                length += 3;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32:\n                length += 4;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float64:\n                length += 8;\n                break;\n            default:\n                break;\n        }\n    }\n    return length;\n};\nconst $8b72c93c7e6c3a89$var$fillBufferWithData = (dataView, startOffset, data, dataSchema)=>{\n    let offset = startOffset;\n    if (offset === 1) dataView.setUint8(0, data.c);\n    for(let fieldIndex = 0; fieldIndex < dataSchema.length; fieldIndex += 1){\n        const [fieldName, fieldType, subSchema] = dataSchema[fieldIndex];\n        const fieldData = data[fieldName];\n        switch(fieldType){\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).text:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig:\n                {\n                    const encodedString = $8b72c93c7e6c3a89$var$encodedStrings.shift();\n                    if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig) {\n                        dataView.setUint16(offset, encodedString.length, true);\n                        offset += 2;\n                    } else {\n                        dataView.setUint8(offset, encodedString.length);\n                        offset += 1;\n                    }\n                    for(let charOffset = 0; charOffset < encodedString.length; charOffset += 1)dataView.setUint8(offset + charOffset, encodedString[charOffset]);\n                    offset += encodedString.length;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).array:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall:\n                if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).array) {\n                    dataView.setUint16(offset, fieldData.length, true);\n                    offset += 2;\n                } else {\n                    dataView.setUint8(offset, fieldData.length);\n                    offset += 1;\n                }\n                for(let arrayElementIndex = 0; arrayElementIndex < fieldData.length; arrayElementIndex += 1)offset = $8b72c93c7e6c3a89$var$fillBufferWithData(dataView, offset, fieldData[arrayElementIndex], subSchema);\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8:\n                dataView.setUint8(offset, fieldData);\n                offset += 1;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy:\n                dataView.setUint8(offset, fieldData * 255);\n                offset += 1;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16:\n                dataView.setUint16(offset, fieldData, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen:\n                dataView.setUint16(offset, fieldData * 1e6 + 32768, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation:\n                dataView.setUint16(offset, fieldData * 6553.6, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy:\n                dataView.setUint16(offset, fieldData * 4 + 32768, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx:\n                dataView.setUint16(offset, fieldData * 2 + 32768, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel:\n                dataView.setUint16(offset, fieldData * 32768 + 32768, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed:\n                dataView.setUint16(offset, fieldData * 1638.4 + 32768, true);\n                offset += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint24:\n                {\n                    const u8 = fieldData % 256;\n                    const u16 = (fieldData - u8) / 256;\n                    dataView.setUint16(offset, u16, true);\n                    offset += 2;\n                    dataView.setUint8(offset, u8);\n                    offset += 1;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24:\n                {\n                    const value = fieldData * 512 + 8388608;\n                    const u8 = value % 256;\n                    const u16 = (value - u8) / 256;\n                    dataView.setUint16(offset, u16, true);\n                    offset += 2;\n                    dataView.setUint8(offset, u8);\n                    offset += 1;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32:\n                dataView.setUint32(offset, fieldData, true);\n                offset += 4;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32:\n                dataView.setFloat32(offset, fieldData, true);\n                offset += 4;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float64:\n                dataView.setFloat64(offset, fieldData, true);\n                offset += 8;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean:\n                dataView.setUint8(offset, fieldData === false ? 0 : 1);\n                offset += 1;\n                break;\n            default:\n                break;\n        }\n    }\n    return offset;\n};\nconst $8b72c93c7e6c3a89$var$marshal = (message, type, usePredefinedMarshal)=>{\n    $8b72c93c7e6c3a89$var$flushVars();\n    const messageCode = message.c;\n    let schema = null;\n    let predefMarshal = null;\n    switch(type){\n        case $8b72c93c7e6c3a89$var$CLIENT_MESSAGE:\n            predefMarshal = (0, $d65546d13b8ceefe$export$2e2bcd8739ae039)[messageCode];\n            schema = (0, $93253a2a814802d6$export$2e2bcd8739ae039)[messageCode];\n            break;\n        case $8b72c93c7e6c3a89$var$SERVER_MESSAGE:\n            predefMarshal = (0, $065ec9a64641db80$export$2e2bcd8739ae039)[messageCode];\n            schema = (0, $31f2d7946cdadaba$export$2e2bcd8739ae039)[messageCode];\n            break;\n        default:\n            return null;\n    }\n    if (schema === null) return null;\n    let buffer = null;\n    if (usePredefinedMarshal && predefMarshal) buffer = predefMarshal(message);\n    else {\n        let dataView = null;\n        let bufferLength = 0;\n        bufferLength = 1 + $8b72c93c7e6c3a89$var$calcBufferLength(message, schema);\n        buffer = new ArrayBuffer(bufferLength);\n        dataView = new DataView(buffer);\n        $8b72c93c7e6c3a89$var$fillBufferWithData(dataView, 1, message, schema);\n    }\n    return buffer;\n};\n/**\r\n * Marshal client message object to binary packet.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */ const $8b72c93c7e6c3a89$export$97bc324abc99862e = (message, usePredefinedMarshal = true)=>{\n    return $8b72c93c7e6c3a89$var$marshal(message, $8b72c93c7e6c3a89$var$CLIENT_MESSAGE, usePredefinedMarshal);\n};\n/**\r\n * Marshal server message object to binary packet.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */ const $8b72c93c7e6c3a89$export$6f9d8726e8f778ed = (message, usePredefinedMarshal = true)=>{\n    return $8b72c93c7e6c3a89$var$marshal(message, $8b72c93c7e6c3a89$var$SERVER_MESSAGE, usePredefinedMarshal);\n};\n\n\n\n\n\n\n/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */ \n\nconst $03d3c2a8bad48c0b$var$staticAckPacket = {\n    c: 5\n};\nconst $03d3c2a8bad48c0b$var$staticScoredetailedPacket = {\n    c: 12\n};\nvar $03d3c2a8bad48c0b$export$2e2bcd8739ae039 = {\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOGIN]: (buffer)=>{\n        const msg = {\n            c: 0\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // protocol, uint8\n        msg.protocol = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // name, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.name = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // session, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.session = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // horizonX, uint16\n        msg.horizonX = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // horizonY, uint16\n        msg.horizonY = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // flag, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.flag = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).BACKUP]: (buffer)=>{\n        const msg = {\n            c: 1\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // token, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.token = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).HORIZON]: (buffer)=>{\n        const msg = {\n            c: 2\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // horizonX, uint16\n        msg.horizonX = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // horizonY, uint16\n        msg.horizonY = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).ACK]: ()=>$03d3c2a8bad48c0b$var$staticAckPacket,\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).PONG]: (buffer)=>{\n        const msg = {\n            c: 6\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // num, uint32\n        msg.num = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).KEY]: (buffer)=>{\n        const msg = {\n            c: 10\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // seq, uint32\n        msg.seq = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // key, uint8\n        msg.key = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // state, boolean\n        msg.state = dataView.getUint8(readIndex) !== 0;\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).COMMAND]: (buffer)=>{\n        const msg = {\n            c: 11\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // com, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.com = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // data, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.data = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SCOREDETAILED]: ()=>$03d3c2a8bad48c0b$var$staticScoredetailedPacket,\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).CHAT]: (buffer)=>{\n        const msg = {\n            c: 20\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).WHISPER]: (buffer)=>{\n        const msg = {\n            c: 21\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).SAY]: (buffer)=>{\n        const msg = {\n            c: 22\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).TEAMCHAT]: (buffer)=>{\n        const msg = {\n            c: 23\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).VOTEMUTE]: (buffer)=>{\n        const msg = {\n            c: 24\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $18e45e7867169046$export$2e2bcd8739ae039).LOCALPING]: (buffer)=>{\n        const msg = {\n            c: 255\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // auth, uint32\n        msg.auth = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    }\n};\n\n\n/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */ \n\nconst $58e127a82d4b4c67$var$staticBackupPacket = {\n    c: 1\n};\nconst $58e127a82d4b4c67$var$staticAckPacket = {\n    c: 7\n};\nconst $58e127a82d4b4c67$var$staticChatVotemutedPacket = {\n    c: 79\n};\nvar $58e127a82d4b4c67$export$2e2bcd8739ae039 = {\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).LOGIN]: (buffer)=>{\n        const msg = {\n            c: 0\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // success, boolean\n        msg.success = dataView.getUint8(readIndex) !== 0;\n        readIndex += 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // team, uint16\n        msg.team = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // token, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.token = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // room, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.room = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // players, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.players = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // status, uint8\n                arrayElement.status = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // level, uint8\n                arrayElement.level = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // name, text\n                {\n                    const stringLength = dataView.getUint8(readIndex);\n                    const encodedString = new Uint8Array(stringLength);\n                    readIndex += 1;\n                    for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n                    arrayElement.name = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n                    readIndex += stringLength;\n                }\n                // type, uint8\n                arrayElement.type = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // team, uint16\n                arrayElement.team = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // posX, coordx\n                arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                readIndex += 2;\n                // posY, coordy\n                arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                readIndex += 2;\n                // rot, rotation\n                arrayElement.rot = dataView.getUint16(readIndex, true) / 6553.6;\n                readIndex += 2;\n                // flag, uint16\n                arrayElement.flag = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // upgrades, uint8\n                arrayElement.upgrades = dataView.getUint8(readIndex);\n                readIndex += 1;\n                msg.players.push(arrayElement);\n            }\n        }\n        // serverConfiguration, textbig\n        {\n            const stringLength = dataView.getUint16(readIndex, true);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 2;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.serverConfiguration = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // bots, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.bots = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                msg.bots.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).BACKUP]: ()=>$58e127a82d4b4c67$var$staticBackupPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING]: (buffer)=>{\n        const msg = {\n            c: 5\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // num, uint32\n        msg.num = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PING_RESULT]: (buffer)=>{\n        const msg = {\n            c: 6\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // ping, uint16\n        msg.ping = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // playerstotal, uint32\n        msg.playerstotal = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // playersgame, uint32\n        msg.playersgame = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ACK]: ()=>$58e127a82d4b4c67$var$staticAckPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).ERROR]: (buffer)=>{\n        const msg = {\n            c: 8\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // error, uint8\n        msg.error = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).COMMAND_REPLY]: (buffer)=>{\n        const msg = {\n            c: 9\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // text, textbig\n        {\n            const stringLength = dataView.getUint16(readIndex, true);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 2;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_NEW]: (buffer)=>{\n        const msg = {\n            c: 10\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // status, uint8\n        msg.status = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // name, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.name = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // team, uint16\n        msg.team = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // flag, uint16\n        msg.flag = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // upgrades, uint8\n        msg.upgrades = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // isBot, boolean\n        msg.isBot = dataView.getUint8(readIndex) !== 0;\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEAVE]: (buffer)=>{\n        const msg = {\n            c: 11\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPDATE]: (buffer)=>{\n        const msg = {\n            c: 12\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // keystate, uint8\n        msg.keystate = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // upgrades, uint8\n        msg.upgrades = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // posY, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // speedX, speed\n        msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // speedY, speed\n        msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FIRE]: (buffer)=>{\n        const msg = {\n            c: 13\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // energy, healthenergy\n        msg.energy = dataView.getUint8(readIndex) / 255;\n        readIndex += 1;\n        // energyRegen, regen\n        msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n        readIndex += 2;\n        // projectiles, arraysmall\n        {\n            const arrayLength = dataView.getUint8(readIndex);\n            readIndex += 1;\n            msg.projectiles = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // type, uint8\n                arrayElement.type = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // posX, coordx\n                arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                readIndex += 2;\n                // posY, coordy\n                arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                readIndex += 2;\n                // speedX, speed\n                arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // speedY, speed\n                arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // accelX, accel\n                arrayElement.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                readIndex += 2;\n                // accelY, accel\n                arrayElement.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                readIndex += 2;\n                // maxSpeed, speed\n                arrayElement.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                msg.projectiles.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_HIT]: (buffer)=>{\n        const msg = {\n            c: 14\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        // owner, uint16\n        msg.owner = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // players, arraysmall\n        {\n            const arrayLength = dataView.getUint8(readIndex);\n            readIndex += 1;\n            msg.players = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // health, healthenergy\n                arrayElement.health = dataView.getUint8(readIndex) / 255;\n                readIndex += 1;\n                // healthRegen, regen\n                arrayElement.healthRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n                readIndex += 2;\n                msg.players.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RESPAWN]: (buffer)=>{\n        const msg = {\n            c: 15\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // posX, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // posY, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // upgrades, uint8\n        msg.upgrades = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FLAG]: (buffer)=>{\n        const msg = {\n            c: 16\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // flag, uint16\n        msg.flag = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_KILL]: (buffer)=>{\n        const msg = {\n            c: 17\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // killer, uint16\n        msg.killer = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPGRADE]: (buffer)=>{\n        const msg = {\n            c: 18\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // upgrades, uint16\n        msg.upgrades = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // speed, uint8\n        msg.speed = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // defense, uint8\n        msg.defense = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // energy, uint8\n        msg.energy = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // missile, uint8\n        msg.missile = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_TYPE]: (buffer)=>{\n        const msg = {\n            c: 19\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_POWERUP]: (buffer)=>{\n        const msg = {\n            c: 20\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // duration, uint32\n        msg.duration = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEVEL]: (buffer)=>{\n        const msg = {\n            c: 21\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // level, uint8\n        msg.level = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RETEAM]: (buffer)=>{\n        const msg = {\n            c: 22\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // players, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.players = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // team, uint16\n                arrayElement.team = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                msg.players.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FLAG]: (buffer)=>{\n        const msg = {\n            c: 30\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // flag, uint8\n        msg.flag = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // posX, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // posY, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // blueteam, uint8\n        msg.blueteam = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // redteam, uint8\n        msg.redteam = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_SPECTATE]: (buffer)=>{\n        const msg = {\n            c: 31\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_PLAYERSALIVE]: (buffer)=>{\n        const msg = {\n            c: 32\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // players, uint16\n        msg.players = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FIREWALL]: (buffer)=>{\n        const msg = {\n            c: 33\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // status, uint8\n        msg.status = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        // radius, float32\n        msg.radius = dataView.getFloat32(readIndex, true);\n        readIndex += 4;\n        // speed, float32\n        msg.speed = dataView.getFloat32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_REPEL]: (buffer)=>{\n        const msg = {\n            c: 40\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // speedX, speed\n        msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // speedY, speed\n        msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // energy, healthenergy\n        msg.energy = dataView.getUint8(readIndex) / 255;\n        readIndex += 1;\n        // energyRegen, regen\n        msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n        readIndex += 2;\n        // players, arraysmall\n        {\n            const arrayLength = dataView.getUint8(readIndex);\n            readIndex += 1;\n            msg.players = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // keystate, uint8\n                arrayElement.keystate = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // posX, coordx\n                arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                readIndex += 2;\n                // posY, coordy\n                arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                readIndex += 2;\n                // rot, rotation\n                arrayElement.rot = dataView.getUint16(readIndex, true) / 6553.6;\n                readIndex += 2;\n                // speedX, speed\n                arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // speedY, speed\n                arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // energy, healthenergy\n                arrayElement.energy = dataView.getUint8(readIndex) / 255;\n                readIndex += 1;\n                // energyRegen, regen\n                arrayElement.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n                readIndex += 2;\n                // playerHealth, healthenergy\n                arrayElement.playerHealth = dataView.getUint8(readIndex) / 255;\n                readIndex += 1;\n                // playerHealthRegen, regen\n                arrayElement.playerHealthRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n                readIndex += 2;\n                msg.players.push(arrayElement);\n            }\n        }\n        // mobs, arraysmall\n        {\n            const arrayLength = dataView.getUint8(readIndex);\n            readIndex += 1;\n            msg.mobs = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // type, uint8\n                arrayElement.type = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // posX, coordx\n                arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                readIndex += 2;\n                // posY, coordy\n                arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                readIndex += 2;\n                // speedX, speed\n                arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // speedY, speed\n                arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                // accelX, accel\n                arrayElement.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                readIndex += 2;\n                // accelY, accel\n                arrayElement.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                readIndex += 2;\n                // maxSpeed, speed\n                arrayElement.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                msg.mobs.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOOST]: (buffer)=>{\n        const msg = {\n            c: 41\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // boost, boolean\n        msg.boost = dataView.getUint8(readIndex) !== 0;\n        readIndex += 1;\n        // posX, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // posY, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // speedX, speed\n        msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // speedY, speed\n        msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // energy, healthenergy\n        msg.energy = dataView.getUint8(readIndex) / 255;\n        readIndex += 1;\n        // energyRegen, regen\n        msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOUNCE]: (buffer)=>{\n        const msg = {\n            c: 42\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // keystate, uint8\n        msg.keystate = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // posY, coord24\n        {\n            const u16 = 256 * dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n            readIndex += 1;\n        }\n        // rot, rotation\n        msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\n        readIndex += 2;\n        // speedX, speed\n        msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // speedY, speed\n        msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_STEALTH]: (buffer)=>{\n        const msg = {\n            c: 43\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // state, boolean\n        msg.state = dataView.getUint8(readIndex) !== 0;\n        readIndex += 1;\n        // energy, healthenergy\n        msg.energy = dataView.getUint8(readIndex) / 255;\n        readIndex += 1;\n        // energyRegen, regen\n        msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_LEAVEHORIZON]: (buffer)=>{\n        const msg = {\n            c: 44\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE]: (buffer)=>{\n        const msg = {\n            c: 60\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // clock, uint32\n        msg.clock = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        // speedX, speed\n        msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // speedY, speed\n        msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        // accelX, accel\n        msg.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n        readIndex += 2;\n        // accelY, accel\n        msg.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n        readIndex += 2;\n        // maxSpeed, speed\n        msg.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE_STATIONARY]: (buffer)=>{\n        const msg = {\n            c: 61\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, float32\n        msg.posX = dataView.getFloat32(readIndex, true);\n        readIndex += 4;\n        // posY, float32\n        msg.posY = dataView.getFloat32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN]: (buffer)=>{\n        const msg = {\n            c: 62\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN_COORDS]: (buffer)=>{\n        const msg = {\n            c: 63\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // posX, coordx\n        msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\n        readIndex += 2;\n        // posY, coordy\n        msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_PUBLIC]: (buffer)=>{\n        const msg = {\n            c: 70\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_TEAM]: (buffer)=>{\n        const msg = {\n            c: 71\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_SAY]: (buffer)=>{\n        const msg = {\n            c: 72\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_WHISPER]: (buffer)=>{\n        const msg = {\n            c: 73\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // from, uint16\n        msg.from = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // to, uint16\n        msg.to = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // text, text\n        {\n            const stringLength = dataView.getUint8(readIndex);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 1;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTEPASSED]: (buffer)=>{\n        const msg = {\n            c: 78\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTED]: ()=>$58e127a82d4b4c67$var$staticChatVotemutedPacket,\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_UPDATE]: (buffer)=>{\n        const msg = {\n            c: 80\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // id, uint16\n        msg.id = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // score, uint32\n        msg.score = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // earnings, uint32\n        msg.earnings = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // upgrades, uint16\n        msg.upgrades = dataView.getUint16(readIndex, true);\n        readIndex += 2;\n        // totalkills, uint32\n        msg.totalkills = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // totaldeaths, uint32\n        msg.totaldeaths = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_BOARD]: (buffer)=>{\n        const msg = {\n            c: 81\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // data, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.data = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // score, uint32\n                arrayElement.score = dataView.getUint32(readIndex, true);\n                readIndex += 4;\n                // level, uint8\n                arrayElement.level = dataView.getUint8(readIndex);\n                readIndex += 1;\n                msg.data.push(arrayElement);\n            }\n        }\n        // rankings, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.rankings = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // x, uint8\n                arrayElement.x = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // y, uint8\n                arrayElement.y = dataView.getUint8(readIndex);\n                readIndex += 1;\n                msg.rankings.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED]: (buffer)=>{\n        const msg = {\n            c: 82\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // scores, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.scores = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // level, uint8\n                arrayElement.level = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // score, uint32\n                arrayElement.score = dataView.getUint32(readIndex, true);\n                readIndex += 4;\n                // kills, uint16\n                arrayElement.kills = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // deaths, uint16\n                arrayElement.deaths = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // damage, float32\n                arrayElement.damage = dataView.getFloat32(readIndex, true);\n                readIndex += 4;\n                // ping, uint16\n                arrayElement.ping = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                msg.scores.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_CTF]: (buffer)=>{\n        const msg = {\n            c: 83\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // scores, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.scores = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // level, uint8\n                arrayElement.level = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // captures, uint16\n                arrayElement.captures = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // score, uint32\n                arrayElement.score = dataView.getUint32(readIndex, true);\n                readIndex += 4;\n                // kills, uint16\n                arrayElement.kills = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // deaths, uint16\n                arrayElement.deaths = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // damage, float32\n                arrayElement.damage = dataView.getFloat32(readIndex, true);\n                readIndex += 4;\n                // ping, uint16\n                arrayElement.ping = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                msg.scores.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_BTR]: (buffer)=>{\n        const msg = {\n            c: 84\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // scores, array\n        {\n            const arrayLength = dataView.getUint16(readIndex, true);\n            readIndex += 2;\n            msg.scores = [];\n            for(let i = 0; i < arrayLength; i += 1){\n                const arrayElement = {};\n                // id, uint16\n                arrayElement.id = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // level, uint8\n                arrayElement.level = dataView.getUint8(readIndex);\n                readIndex += 1;\n                // alive, boolean\n                arrayElement.alive = dataView.getUint8(readIndex) !== 0;\n                readIndex += 1;\n                // wins, uint16\n                arrayElement.wins = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // score, uint32\n                arrayElement.score = dataView.getUint32(readIndex, true);\n                readIndex += 4;\n                // kills, uint16\n                arrayElement.kills = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // deaths, uint16\n                arrayElement.deaths = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                // damage, float32\n                arrayElement.damage = dataView.getFloat32(readIndex, true);\n                readIndex += 4;\n                // ping, uint16\n                arrayElement.ping = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                msg.scores.push(arrayElement);\n            }\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_MESSAGE]: (buffer)=>{\n        const msg = {\n            c: 90\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // duration, uint32\n        msg.duration = dataView.getUint32(readIndex, true);\n        readIndex += 4;\n        // text, textbig\n        {\n            const stringLength = dataView.getUint16(readIndex, true);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 2;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.text = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    },\n    [(0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_CUSTOM]: (buffer)=>{\n        const msg = {\n            c: 91\n        };\n        const dataView = new DataView(buffer);\n        let readIndex = 1;\n        // type, uint8\n        msg.type = dataView.getUint8(readIndex);\n        readIndex += 1;\n        // data, textbig\n        {\n            const stringLength = dataView.getUint16(readIndex, true);\n            const encodedString = new Uint8Array(stringLength);\n            readIndex += 2;\n            for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n            msg.data = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n            readIndex += stringLength;\n        }\n        return msg;\n    }\n};\n\n\nconst $c6f1544c12e7055a$var$SERVER_BUFFER = 0;\nconst $c6f1544c12e7055a$var$CLIENT_BUFFER = 1;\nconst $c6f1544c12e7055a$var$readBufferData = (dataView, startReadIndex = 0, schema)=>{\n    const message = {};\n    let readIndex = startReadIndex;\n    if (readIndex === 0) {\n        message.c = dataView.getUint8(0);\n        readIndex += 1;\n    }\n    for(let fieldIndex = 0; fieldIndex < schema.length; fieldIndex += 1){\n        const [fieldName, fieldType, subSchema] = schema[fieldIndex];\n        switch(fieldType){\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).text:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig:\n                {\n                    let stringLength = 0;\n                    if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).text) {\n                        stringLength = dataView.getUint8(readIndex);\n                        readIndex += 1;\n                    } else {\n                        stringLength = dataView.getUint16(readIndex, true);\n                        readIndex += 2;\n                    }\n                    const encodedString = new Uint8Array(stringLength);\n                    for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n                    message[fieldName] = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n                    readIndex += stringLength;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).array:\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall:\n                {\n                    let arrayLength = 0;\n                    if (fieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).arraysmall) {\n                        arrayLength = dataView.getUint8(readIndex);\n                        readIndex += 1;\n                    } else {\n                        arrayLength = dataView.getUint16(readIndex, true);\n                        readIndex += 2;\n                    }\n                    message[fieldName] = [];\n                    for(let arrayElementIndex = 0; arrayElementIndex < arrayLength; arrayElementIndex += 1){\n                        const arrayElement = {};\n                        for(let subSchemaFieldIndex = 0; subSchemaFieldIndex < subSchema.length; subSchemaFieldIndex += 1){\n                            const [subFieldName, subFieldType] = subSchema[subSchemaFieldIndex];\n                            switch(subFieldType){\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).text:\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).textbig:\n                                    {\n                                        let stringLength = 0;\n                                        if (subFieldType === (0, $77aedac665eeb9f9$export$68317eef4cf08696).text) {\n                                            stringLength = dataView.getUint8(readIndex);\n                                            readIndex += 1;\n                                        } else {\n                                            stringLength = dataView.getUint16(readIndex, true);\n                                            readIndex += 2;\n                                        }\n                                        const encodedString = new Uint8Array(stringLength);\n                                        for(let charIndex = 0; charIndex < stringLength; charIndex += 1)encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\n                                        arrayElement[subFieldName] = (0, $8c40ee774dfe65ed$export$2a3384f9191ce613)(encodedString);\n                                        readIndex += stringLength;\n                                    }\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8:\n                                    arrayElement[subFieldName] = dataView.getUint8(readIndex);\n                                    readIndex += 1;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16:\n                                    arrayElement[subFieldName] = dataView.getUint16(readIndex, true);\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint24:\n                                    {\n                                        const u16 = 256 * dataView.getUint16(readIndex, true);\n                                        readIndex += 2;\n                                        arrayElement[subFieldName] = u16 + dataView.getUint8(readIndex);\n                                        readIndex += 1;\n                                    }\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32:\n                                    arrayElement[subFieldName] = dataView.getUint32(readIndex, true);\n                                    readIndex += 4;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32:\n                                    arrayElement[subFieldName] = dataView.getFloat32(readIndex, true);\n                                    readIndex += 4;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float64:\n                                    arrayElement[subFieldName] = dataView.getFloat64(readIndex, true);\n                                    readIndex += 8;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean:\n                                    arrayElement[subFieldName] = dataView.getUint8(readIndex) !== 0;\n                                    readIndex += 1;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed:\n                                    arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel:\n                                    arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx:\n                                    arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy:\n                                    arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24:\n                                    {\n                                        const u16 = 256 * dataView.getUint16(readIndex, true);\n                                        readIndex += 2;\n                                        arrayElement[subFieldName] = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n                                        readIndex += 1;\n                                    }\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation:\n                                    arrayElement[subFieldName] = dataView.getUint16(readIndex, true) / 6553.6;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen:\n                                    arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n                                    readIndex += 2;\n                                    break;\n                                case (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy:\n                                    arrayElement[subFieldName] = dataView.getUint8(readIndex) / 255;\n                                    readIndex += 1;\n                                    break;\n                                default:\n                                    throw Error();\n                            }\n                        }\n                        message[fieldName].push(arrayElement);\n                    }\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint8:\n                message[fieldName] = dataView.getUint8(readIndex);\n                readIndex += 1;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint16:\n                message[fieldName] = dataView.getUint16(readIndex, true);\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint24:\n                {\n                    const u16 = 256 * dataView.getUint16(readIndex, true);\n                    readIndex += 2;\n                    message[fieldName] = u16 + dataView.getUint8(readIndex);\n                    readIndex += 1;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).uint32:\n                message[fieldName] = dataView.getUint32(readIndex, true);\n                readIndex += 4;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float32:\n                message[fieldName] = dataView.getFloat32(readIndex, true);\n                readIndex += 4;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).float64:\n                message[fieldName] = dataView.getFloat64(readIndex, true);\n                readIndex += 8;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).boolean:\n                message[fieldName] = dataView.getUint8(readIndex) !== 0;\n                readIndex += 1;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).speed:\n                message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).accel:\n                message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 32768;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordx:\n                message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 2;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coordy:\n                message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 4;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).coord24:\n                {\n                    const u16 = 256 * dataView.getUint16(readIndex, true);\n                    readIndex += 2;\n                    message[fieldName] = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\n                    readIndex += 1;\n                }\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).rotation:\n                message[fieldName] = dataView.getUint16(readIndex, true) / 6553.6;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).regen:\n                message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\n                readIndex += 2;\n                break;\n            case (0, $77aedac665eeb9f9$export$68317eef4cf08696).healthenergy:\n                message[fieldName] = dataView.getUint8(readIndex) / 255;\n                readIndex += 1;\n                break;\n            default:\n                return null;\n        }\n    }\n    return message;\n};\nconst $c6f1544c12e7055a$var$unmarshal = (buffer, type, usePredefinedMarshal)=>{\n    const dataView = new DataView(buffer);\n    const messageCode = dataView.getUint8(0);\n    let predefMarshal = null;\n    let message = null;\n    let schema = null;\n    switch(type){\n        case $c6f1544c12e7055a$var$CLIENT_BUFFER:\n            predefMarshal = (0, $03d3c2a8bad48c0b$export$2e2bcd8739ae039)[messageCode];\n            schema = (0, $93253a2a814802d6$export$2e2bcd8739ae039)[messageCode];\n            break;\n        case $c6f1544c12e7055a$var$SERVER_BUFFER:\n            predefMarshal = (0, $58e127a82d4b4c67$export$2e2bcd8739ae039)[messageCode];\n            schema = (0, $31f2d7946cdadaba$export$2e2bcd8739ae039)[messageCode];\n            break;\n        default:\n            return null;\n    }\n    if (usePredefinedMarshal && predefMarshal) message = predefMarshal(buffer);\n    else {\n        if (schema === null) return null;\n        message = $c6f1544c12e7055a$var$readBufferData(dataView, 0, schema);\n    }\n    return message;\n};\n/**\r\n * Unmarshal client binary packet to protocol message.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */ const $c6f1544c12e7055a$export$a7c10bc5f9377d2e = (message, usePredefinedMarshal = true)=>{\n    return $c6f1544c12e7055a$var$unmarshal(message, $c6f1544c12e7055a$var$CLIENT_BUFFER, usePredefinedMarshal);\n};\n/**\r\n * Unmarshal server binary packet to protocol message.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */ const $c6f1544c12e7055a$export$f0d21d16879ad2a0 = (message, usePredefinedMarshal = true)=>{\n    return $c6f1544c12e7055a$var$unmarshal(message, $c6f1544c12e7055a$var$SERVER_BUFFER, usePredefinedMarshal);\n};\n\n\n/**\r\n * CLIENT_PACKETS.KEY types\r\n */ var $76f6b37726981285$export$5fb656eb8279cede = /*#__PURE__*/ function(KEY_CODES) {\n    KEY_CODES[KEY_CODES[\"UP\"] = 1] = \"UP\";\n    KEY_CODES[KEY_CODES[\"DOWN\"] = 2] = \"DOWN\";\n    KEY_CODES[KEY_CODES[\"LEFT\"] = 3] = \"LEFT\";\n    KEY_CODES[KEY_CODES[\"RIGHT\"] = 4] = \"RIGHT\";\n    KEY_CODES[KEY_CODES[\"FIRE\"] = 5] = \"FIRE\";\n    KEY_CODES[KEY_CODES[\"SPECIAL\"] = 6] = \"SPECIAL\";\n    return KEY_CODES;\n}({});\nconst $76f6b37726981285$export$a17a5404c09fc646 = Object.assign({}, ...Object.entries($76f6b37726981285$export$5fb656eb8279cede).map(([name, code])=>({\n        [code]: name\n    })));\n\n\n/**\r\n * Protocol time, 10^-5 seconds.\r\n * Started from 0 at the moment of the server start.\r\n */ var $87b45d444a9d6cc7$export$e9ee844dcc7f0271 = /*#__PURE__*/ function(SERVER_ERRORS) {\n    SERVER_ERRORS[SERVER_ERRORS[\"PACKET_FLOODING_DISCONNECT\"] = 1] = \"PACKET_FLOODING_DISCONNECT\";\n    SERVER_ERRORS[SERVER_ERRORS[\"PACKET_FLOODING_BAN\"] = 2] = \"PACKET_FLOODING_BAN\";\n    SERVER_ERRORS[SERVER_ERRORS[\"GLOBAL_BAN\"] = 3] = \"GLOBAL_BAN\";\n    SERVER_ERRORS[SERVER_ERRORS[\"UNKNOWN_ERROR\"] = 4] = \"UNKNOWN_ERROR\";\n    SERVER_ERRORS[SERVER_ERRORS[\"REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN\"] = 5] = \"REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN\";\n    SERVER_ERRORS[SERVER_ERRORS[\"AFK_DISCONNECT\"] = 6] = \"AFK_DISCONNECT\";\n    SERVER_ERRORS[SERVER_ERRORS[\"PLAYER_KICKED\"] = 7] = \"PLAYER_KICKED\";\n    SERVER_ERRORS[SERVER_ERRORS[\"INVALID_LOGIN_DATA\"] = 8] = \"INVALID_LOGIN_DATA\";\n    SERVER_ERRORS[SERVER_ERRORS[\"INCORRECT_PROTOCOL\"] = 9] = \"INCORRECT_PROTOCOL\";\n    SERVER_ERRORS[SERVER_ERRORS[\"ACCOUNT_BANNED\"] = 10] = \"ACCOUNT_BANNED\";\n    SERVER_ERRORS[SERVER_ERRORS[\"ALREADY_LOGGED_IN\"] = 11] = \"ALREADY_LOGGED_IN\";\n    SERVER_ERRORS[SERVER_ERRORS[\"FORBIDDEN_TO_CHANGE_PLANE_IN_BTR\"] = 12] = \"FORBIDDEN_TO_CHANGE_PLANE_IN_BTR\";\n    SERVER_ERRORS[SERVER_ERRORS[\"REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE\"] = 13] = \"REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE\";\n    SERVER_ERRORS[SERVER_ERRORS[\"NOT_ENOUGH_UPGRADES\"] = 20] = \"NOT_ENOUGH_UPGRADES\";\n    SERVER_ERRORS[SERVER_ERRORS[\"CHAT_SPAMMING\"] = 30] = \"CHAT_SPAMMING\";\n    SERVER_ERRORS[SERVER_ERRORS[\"FLAG_CHANGE_TOO_FAST\"] = 31] = \"FLAG_CHANGE_TOO_FAST\";\n    SERVER_ERRORS[SERVER_ERRORS[\"UNKNOWN_COMMAND\"] = 100] = \"UNKNOWN_COMMAND\";\n    return SERVER_ERRORS;\n}({});\nvar $87b45d444a9d6cc7$export$42a822ee93e68ea = /*#__PURE__*/ function(SERVER_MESSAGE_TYPES) {\n    SERVER_MESSAGE_TYPES[SERVER_MESSAGE_TYPES[\"ALERT\"] = 1] = \"ALERT\";\n    SERVER_MESSAGE_TYPES[SERVER_MESSAGE_TYPES[\"INFO\"] = 2] = \"INFO\";\n    return SERVER_MESSAGE_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$37c60925b115eafe = /*#__PURE__*/ function(COMMAND_REPLY_TYPES) {\n    /**\r\n   * Special notification at the bottom of the chat.\r\n   */ COMMAND_REPLY_TYPES[COMMAND_REPLY_TYPES[\"CHAT\"] = 0] = \"CHAT\";\n    /**\r\n   * Popup. Use only for debug.\r\n   */ COMMAND_REPLY_TYPES[COMMAND_REPLY_TYPES[\"DEBUG\"] = 1] = \"DEBUG\";\n    return COMMAND_REPLY_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$acf2bb14e0f91565 = /*#__PURE__*/ function(LEAVE_HORIZON_TYPES) {\n    LEAVE_HORIZON_TYPES[LEAVE_HORIZON_TYPES[\"PLAYER\"] = 0] = \"PLAYER\";\n    LEAVE_HORIZON_TYPES[LEAVE_HORIZON_TYPES[\"MOB\"] = 1] = \"MOB\";\n    return LEAVE_HORIZON_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$696edb37a517566d = /*#__PURE__*/ function(MOB_TYPES) {\n    MOB_TYPES[MOB_TYPES[\"PLAYER\"] = 0] = \"PLAYER\";\n    // Projectiles\n    MOB_TYPES[MOB_TYPES[\"PREDATOR_MISSILE\"] = 1] = \"PREDATOR_MISSILE\";\n    MOB_TYPES[MOB_TYPES[\"GOLIATH_MISSILE\"] = 2] = \"GOLIATH_MISSILE\";\n    MOB_TYPES[MOB_TYPES[\"COPTER_MISSILE\"] = 3] = \"COPTER_MISSILE\";\n    MOB_TYPES[MOB_TYPES[\"TORNADO_MISSILE\"] = 5] = \"TORNADO_MISSILE\";\n    MOB_TYPES[MOB_TYPES[\"TORNADO_SMALL_MISSILE\"] = 6] = \"TORNADO_SMALL_MISSILE\";\n    MOB_TYPES[MOB_TYPES[\"PROWLER_MISSILE\"] = 7] = \"PROWLER_MISSILE\";\n    // Boxes\n    MOB_TYPES[MOB_TYPES[\"UPGRADE\"] = 4] = \"UPGRADE\";\n    MOB_TYPES[MOB_TYPES[\"SHIELD\"] = 8] = \"SHIELD\";\n    MOB_TYPES[MOB_TYPES[\"INFERNO\"] = 9] = \"INFERNO\";\n    // BTR\n    MOB_TYPES[MOB_TYPES[\"FIREWALL\"] = 200] = \"FIREWALL\";\n    return MOB_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$a1106979a67ebdb7 = /*#__PURE__*/ function(MOB_DESPAWN_TYPES) {\n    MOB_DESPAWN_TYPES[MOB_DESPAWN_TYPES[\"EXPIRED\"] = 0] = \"EXPIRED\";\n    MOB_DESPAWN_TYPES[MOB_DESPAWN_TYPES[\"PICKUP\"] = 1] = \"PICKUP\";\n    return MOB_DESPAWN_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$b46071ccfafa6f3d = /*#__PURE__*/ function(PLAYER_LEVEL_UPDATE_TYPES) {\n    PLAYER_LEVEL_UPDATE_TYPES[PLAYER_LEVEL_UPDATE_TYPES[\"INFORM\"] = 0] = \"INFORM\";\n    PLAYER_LEVEL_UPDATE_TYPES[PLAYER_LEVEL_UPDATE_TYPES[\"LEVELUP\"] = 1] = \"LEVELUP\";\n    return PLAYER_LEVEL_UPDATE_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$757f4d82d38e44cb = /*#__PURE__*/ function(PLAYER_STATUS) {\n    /**\r\n   * On the map.\r\n   */ PLAYER_STATUS[PLAYER_STATUS[\"ALIVE\"] = 0] = \"ALIVE\";\n    /**\r\n   * Dead or spectate\r\n   */ PLAYER_STATUS[PLAYER_STATUS[\"INACTIVE\"] = 1] = \"INACTIVE\";\n    return PLAYER_STATUS;\n}({});\nvar $87b45d444a9d6cc7$export$1adcfbf43f9c9a1f = /*#__PURE__*/ function(PLAYER_UPGRADE_TYPES) {\n    PLAYER_UPGRADE_TYPES[PLAYER_UPGRADE_TYPES[\"LOST\"] = 0] = \"LOST\";\n    PLAYER_UPGRADE_TYPES[PLAYER_UPGRADE_TYPES[\"SPEED\"] = 1] = \"SPEED\";\n    PLAYER_UPGRADE_TYPES[PLAYER_UPGRADE_TYPES[\"DEFENSE\"] = 2] = \"DEFENSE\";\n    PLAYER_UPGRADE_TYPES[PLAYER_UPGRADE_TYPES[\"ENERGY\"] = 3] = \"ENERGY\";\n    PLAYER_UPGRADE_TYPES[PLAYER_UPGRADE_TYPES[\"MISSILE\"] = 4] = \"MISSILE\";\n    return PLAYER_UPGRADE_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$92da91fbfb7b66aa = /*#__PURE__*/ function(SERVER_CUSTOM_TYPES) {\n    SERVER_CUSTOM_TYPES[SERVER_CUSTOM_TYPES[\"BTR\"] = 1] = \"BTR\";\n    SERVER_CUSTOM_TYPES[SERVER_CUSTOM_TYPES[\"CTF\"] = 2] = \"CTF\";\n    return SERVER_CUSTOM_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$91e7ecb6780caa5e = /*#__PURE__*/ function(PLAYER_POWERUP_TYPES) {\n    PLAYER_POWERUP_TYPES[PLAYER_POWERUP_TYPES[\"SHIELD\"] = 1] = \"SHIELD\";\n    PLAYER_POWERUP_TYPES[PLAYER_POWERUP_TYPES[\"INFERNO\"] = 2] = \"INFERNO\";\n    return PLAYER_POWERUP_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$d26f8cc6b574a220 = /*#__PURE__*/ function(CTF_TEAMS) {\n    CTF_TEAMS[CTF_TEAMS[\"BLUE\"] = 1] = \"BLUE\";\n    CTF_TEAMS[CTF_TEAMS[\"RED\"] = 2] = \"RED\";\n    return CTF_TEAMS;\n}({});\nvar $87b45d444a9d6cc7$export$dc70d30ea27a9c84 = /*#__PURE__*/ function(CTF_FLAG_STATE) {\n    /**\r\n   * Flag dropped.\r\n   */ CTF_FLAG_STATE[CTF_FLAG_STATE[\"STATIC\"] = 1] = \"STATIC\";\n    /**\r\n   * Frag currently owned by player.\r\n   */ CTF_FLAG_STATE[CTF_FLAG_STATE[\"DYNAMIC\"] = 2] = \"DYNAMIC\";\n    return CTF_FLAG_STATE;\n}({});\nvar $87b45d444a9d6cc7$export$2e3eef2b8eccf7df = /*#__PURE__*/ function(CTF_CAPTURE_BOUNTY) {\n    CTF_CAPTURE_BOUNTY[CTF_CAPTURE_BOUNTY[\"BASE\"] = 100] = \"BASE\";\n    CTF_CAPTURE_BOUNTY[CTF_CAPTURE_BOUNTY[\"INCREMENT\"] = 100] = \"INCREMENT\";\n    CTF_CAPTURE_BOUNTY[CTF_CAPTURE_BOUNTY[\"MAX\"] = 1000] = \"MAX\";\n    return CTF_CAPTURE_BOUNTY;\n}({});\nvar $87b45d444a9d6cc7$export$2da22006ffea76d = /*#__PURE__*/ function(BTR_FIREWALL_STATUS) {\n    BTR_FIREWALL_STATUS[BTR_FIREWALL_STATUS[\"INACTIVE\"] = 0] = \"INACTIVE\";\n    BTR_FIREWALL_STATUS[BTR_FIREWALL_STATUS[\"ACTIVE\"] = 1] = \"ACTIVE\";\n    return BTR_FIREWALL_STATUS;\n}({});\nvar $87b45d444a9d6cc7$export$8c774bfef34b3c59 = /*#__PURE__*/ function(CTF_WIN_BOUNTY) {\n    CTF_WIN_BOUNTY[CTF_WIN_BOUNTY[\"BASE\"] = 100] = \"BASE\";\n    CTF_WIN_BOUNTY[CTF_WIN_BOUNTY[\"INCREMENT\"] = 100] = \"INCREMENT\";\n    CTF_WIN_BOUNTY[CTF_WIN_BOUNTY[\"MAX\"] = 1000] = \"MAX\";\n    return CTF_WIN_BOUNTY;\n}({});\nvar $87b45d444a9d6cc7$export$617502ab31fc951c = /*#__PURE__*/ function(BTR_WIN_BOUNTY) {\n    BTR_WIN_BOUNTY[BTR_WIN_BOUNTY[\"BASE\"] = 500] = \"BASE\";\n    BTR_WIN_BOUNTY[BTR_WIN_BOUNTY[\"INCREMENT\"] = 500] = \"INCREMENT\";\n    BTR_WIN_BOUNTY[BTR_WIN_BOUNTY[\"MAX\"] = 5000] = \"MAX\";\n    return BTR_WIN_BOUNTY;\n}({});\nvar $87b45d444a9d6cc7$export$8b45ddaeb7c31e28 = /*#__PURE__*/ function(GAME_TYPES) {\n    GAME_TYPES[GAME_TYPES[\"FFA\"] = 1] = \"FFA\";\n    GAME_TYPES[GAME_TYPES[\"CTF\"] = 2] = \"CTF\";\n    GAME_TYPES[GAME_TYPES[\"BTR\"] = 3] = \"BTR\";\n    return GAME_TYPES;\n}({});\nvar $87b45d444a9d6cc7$export$944993ac0c2a9c3c = /*#__PURE__*/ function(GAME_STATE_CODES) {\n    GAME_STATE_CODES[GAME_STATE_CODES[\"LOGIN\"] = 1] = \"LOGIN\";\n    GAME_STATE_CODES[GAME_STATE_CODES[\"CONNECTING\"] = 2] = \"CONNECTING\";\n    GAME_STATE_CODES[GAME_STATE_CODES[\"PLAYING\"] = 3] = \"PLAYING\";\n    return GAME_STATE_CODES;\n}({});\nconst $87b45d444a9d6cc7$export$cbb2a09efea8943b = Object.assign({}, ...Object.entries($87b45d444a9d6cc7$export$944993ac0c2a9c3c).map(([name, code])=>({\n        [code]: name\n    })));\nconst $87b45d444a9d6cc7$export$fdf35536e9a0700c = {\n    WIDTH: 32768,\n    HEIGHT: 16384\n};\n\n\n\n/**\r\n * Available texture to 2 letter ISO-3166-1 country codes\r\n *\r\n */ const $f956132f61210f83$export$66d1dac76b8287de = {\n    '1': 'SY',\n    '2': 'TH',\n    '3': 'TM',\n    '4': 'TN',\n    '5': 'TR',\n    '6': 'TT',\n    '7': 'TW',\n    '8': 'TZ',\n    '9': 'UA',\n    '10': 'UN',\n    '11': 'US',\n    '12': 'UY',\n    '13': 'UZ',\n    '14': 'VE',\n    '15': 'VN',\n    '16': 'PR',\n    '17': 'PT',\n    '18': 'PY',\n    '19': 'QA',\n    '20': 'RAINBOW',\n    '21': 'RO',\n    '22': 'RS',\n    '23': 'RU',\n    '24': 'SA',\n    '25': 'SE',\n    '26': 'SG',\n    '27': 'SI',\n    '28': 'SK',\n    '29': 'SM',\n    '30': 'MK',\n    '31': 'MO',\n    '32': 'MT',\n    '33': 'MX',\n    '34': 'MY',\n    '35': 'NG',\n    '36': 'NL',\n    '37': 'NO',\n    '38': 'NP',\n    '39': 'NZ',\n    '40': 'OM',\n    '41': 'PA',\n    '42': 'PE',\n    '43': 'JP',\n    '44': 'KP',\n    '45': 'KR',\n    '46': 'KW',\n    '47': 'KZ',\n    '48': 'LB',\n    '49': 'LI',\n    '50': 'LK',\n    '51': 'LT',\n    '52': 'LU',\n    '53': 'LV',\n    '54': 'HN',\n    '55': 'HR',\n    '56': 'HU',\n    '57': 'ID',\n    '58': 'IE',\n    '59': 'IL',\n    '60': 'IM',\n    '61': 'IMPERIAL',\n    '62': 'IN',\n    '63': 'IQ',\n    '64': 'DE',\n    '65': 'DK',\n    '66': 'DO',\n    '67': 'DZ',\n    '68': 'EC',\n    '69': 'EE',\n    '70': 'EG',\n    '71': 'ES',\n    '72': 'EU',\n    '73': 'BH',\n    '74': 'BO',\n    '75': 'BR',\n    '76': 'BT',\n    '77': 'BY',\n    '78': 'CA',\n    '79': 'CH',\n    '80': 'AD',\n    '81': 'AE',\n    '82': 'AL',\n    '83': 'AM',\n    '84': 'CL',\n    '85': 'AQ',\n    '86': 'CN',\n    '87': 'AR',\n    '88': 'FI',\n    '89': 'CO',\n    '90': 'AT',\n    '91': 'IR',\n    '92': 'FR',\n    '93': 'COMMUNIST',\n    '94': 'AU',\n    '95': 'LY',\n    '96': 'IS',\n    '97': 'GB',\n    '98': 'CONFEDERATE',\n    '99': 'AZ',\n    '100': 'MA',\n    '101': 'IT',\n    '102': 'GE',\n    '103': 'CR',\n    '104': 'BA',\n    '105': 'PH',\n    '106': 'MC',\n    '107': 'JM',\n    '108': 'GR',\n    '109': 'CU',\n    '110': 'BD',\n    '111': 'SO',\n    '112': 'PK',\n    '113': 'MD',\n    '114': 'JO',\n    '115': 'GT',\n    '116': 'CY',\n    '117': 'BE',\n    '118': 'ZA',\n    '119': 'SV',\n    '120': 'PL',\n    '121': 'ME',\n    '122': 'JOLLY',\n    '123': 'HK',\n    '124': 'CZ',\n    '125': 'BG'\n};\nconst $f956132f61210f83$export$7f6ac2f1e43b8d16 = Object.assign({}, ...Object.entries($f956132f61210f83$export$66d1dac76b8287de).map(([numCode, charCode])=>({\n        [charCode]: ~~numCode\n    })));\n/**\r\n * Country by ISO 3166-2\r\n *\r\n */ const $f956132f61210f83$export$c5279c2d460d3a22 = {\n    AL: 'Albania',\n    DZ: 'Algeria',\n    AD: 'Andorra',\n    AQ: 'Antarctica',\n    AR: 'Argentina',\n    AM: 'Armenia',\n    AU: 'Australia',\n    AT: 'Austria',\n    AZ: 'Azerbaijan',\n    BH: 'Bahrain',\n    BD: 'Bangladesh',\n    BY: 'Belarus',\n    BE: 'Belgium',\n    BT: 'Bhutan',\n    BO: 'Bolivia',\n    BA: 'Bosnia and Herzegovina',\n    BR: 'Brazil',\n    BG: 'Bulgaria',\n    CA: 'Canada',\n    CL: 'Chile',\n    CN: 'China',\n    CO: 'Colombia',\n    COMMUNIST: 'Communist',\n    CONFEDERATE: 'Confederate',\n    CR: 'CostaRica',\n    HR: 'Croatia',\n    CU: 'Cuba',\n    CY: 'Cyprus',\n    CZ: 'Czech Republic',\n    DK: 'Denmark',\n    DO: 'Dominican Republic',\n    KP: 'DPRK',\n    EC: 'Ecuador',\n    EG: 'Egypt',\n    SV: 'ElSalvador',\n    EE: 'Estonia',\n    EU: 'European Union',\n    FI: 'Finland',\n    FR: 'France',\n    GE: 'Georgia',\n    DE: 'Germany',\n    GR: 'Greece',\n    GT: 'Guatemala',\n    HN: 'Honduras',\n    HK: 'HongKong',\n    HU: 'Hungary',\n    IS: 'Iceland',\n    IMPERIAL: 'Imperial Japan',\n    IN: 'India',\n    ID: 'Indonesia',\n    IR: 'Iran',\n    IQ: 'Iraq',\n    IE: 'Ireland',\n    IM: 'Isle of Man',\n    IL: 'Israel',\n    IT: 'Italy',\n    JM: 'Jamaica',\n    JP: 'Japan',\n    JOLLY: 'Jolly Rogers',\n    JO: 'Jordan',\n    KZ: 'Kazakhstan',\n    KW: 'Kuwait',\n    LV: 'Latvia',\n    LB: 'Lebanon',\n    LY: 'Libyan Arab Jamahiriya',\n    LI: 'Liechtenstein',\n    LT: 'Lithuania',\n    LU: 'Luxembourg',\n    MO: 'Macao',\n    MK: 'Macedonia',\n    MY: 'Malaysia',\n    MT: 'Malta',\n    MX: 'Mexico',\n    MD: 'Moldova',\n    MC: 'Monaco',\n    ME: 'Montenegro',\n    MA: 'Morocco',\n    NP: 'Nepal',\n    NL: 'Netherlands',\n    NZ: 'New Zealand',\n    NG: 'Nigeria',\n    NO: 'Norway',\n    OM: 'Oman',\n    PK: 'Pakistan',\n    PA: 'Panama',\n    PY: 'Paraguay',\n    PE: 'Peru',\n    PH: 'Philippines',\n    PL: 'Poland',\n    PT: 'Portugal',\n    PR: 'PuertoRico',\n    QA: 'Qatar',\n    RAINBOW: 'Rainbow',\n    RO: 'Romania',\n    RU: 'Russian Federation',\n    SM: 'SanMarino',\n    SA: 'Saudi Arabia',\n    RS: 'Serbia',\n    SG: 'Singapore',\n    SK: 'Slovakia',\n    SI: 'Slovenia',\n    SO: 'Somalia',\n    ZA: 'South Africa',\n    KR: 'South Korea',\n    ES: 'Spain',\n    LK: 'Sri Lanka',\n    SE: 'Sweden',\n    CH: 'Switzerland',\n    SY: 'Syrian Arab Republic',\n    TW: 'Taiwan',\n    TZ: 'Tanzania',\n    TH: 'Thailand',\n    TT: 'Trinidad and Tobago',\n    TN: 'Tunisia',\n    TR: 'Turkey',\n    TM: 'Turkmenistan',\n    UA: 'Ukraine',\n    AE: 'United Arab Emirates',\n    GB: 'United Kingdom',\n    UN: 'United Nations',\n    US: 'United States',\n    UY: 'Uruguay',\n    UZ: 'Uzbekistan',\n    VE: 'Venezuela',\n    VN: 'Vietnam'\n};\n\n\n\n\nconst $d5bae74266feebd6$var$clamp = (value, lower, upper)=>{\n    if (value <= lower) return lower;\n    if (value >= upper) return upper;\n    return value;\n};\nconst $d5bae74266feebd6$export$b43b9a7a914dcf98 = (level)=>{\n    return ((level - 1) / 0.0111) ** 2;\n};\nconst $d5bae74266feebd6$export$1f1fdb6ace8bea22 = (x, y)=>{\n    return {\n        x: 128 * x - (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).WIDTH / 2 + 64,\n        y: $d5bae74266feebd6$var$clamp(128 * y - (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT, -(0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT / 2, (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT / 2) + 64\n    };\n};\nconst $d5bae74266feebd6$export$81184b07be21e3c8 = (upgrades)=>{\n    const speed = upgrades & 7;\n    const shield = (upgrades & 8) >> 3;\n    const inferno = (upgrades & 16) >> 4;\n    return {\n        speed: speed,\n        shield: shield,\n        inferno: inferno\n    };\n};\nconst $d5bae74266feebd6$export$3a66bae294e393e3 = (keystate)=>{\n    return {\n        keystate: {\n            UP: (keystate & 1) === 1,\n            DOWN: (keystate & 2) === 2,\n            LEFT: (keystate & 4) === 4,\n            RIGHT: (keystate & 8) === 8\n        },\n        boost: (keystate & 16) === 16,\n        strafe: (keystate & 32) === 32,\n        stealthed: (keystate & 64) === 64,\n        flagspeed: (keystate & 128) === 128\n    };\n};\nvar $d5bae74266feebd6$export$2e2bcd8739ae039 = $d5bae74266feebd6$export$b43b9a7a914dcf98;\n\n\nconst $0be597301b51bf9f$export$e298e77e784219b4 = (speed, shield, inferno)=>{\n    return speed & 7 | shield << 3 | inferno << 4;\n};\nconst $0be597301b51bf9f$export$5de0767fc25e984 = (keystate, boost, strafe, stealthed, flagspeed)=>{\n    const down = keystate.DOWN === true ? 1 : 0;\n    return 0 | (keystate.UP === true ? 1 : 0) << 0 | (keystate.UP === true ? 0 : down) << 1 | (keystate.LEFT === true ? 1 : 0) << 2 | (keystate.RIGHT === true ? 1 : 0) << 3 | (boost === true ? 1 : 0) << 4 | (strafe === true ? 1 : 0) << 5 | (stealthed === true ? 1 : 0) << 6 | (flagspeed === true ? 1 : 0) << 7;\n};\n\n\n\n\nclass $ed2bcfa6a550406e$export$81ce11201617bceb {\n    static #_ = // this is overwritten in the nodejs case\n    this.performanceNow = ()=>performance.now();\n    constructor(timeoutMs = null){\n        this.timeoutMs = timeoutMs;\n        this.start();\n    }\n    start() {\n        this.startTime = $ed2bcfa6a550406e$export$81ce11201617bceb.performanceNow();\n    }\n    get elapsedMs() {\n        return $ed2bcfa6a550406e$export$81ce11201617bceb.performanceNow() - this.startTime;\n    }\n    get elapsedSeconds() {\n        return this.elapsedMs / 1000;\n    }\n    get elapsedMinutes() {\n        return this.elapsedSeconds / 60;\n    }\n    get hasTimedOut() {\n        if (!this.timeoutMs) return false;\n        return this.elapsedMs > this.timeoutMs;\n    }\n    get timeoutFraction() {\n        if (!this.timeoutMs) return 0;\n        return this.elapsedMs / this.timeoutMs;\n    }\n}\n\n\nconst $bbad732aa541d8da$var$PATHFINDING_TIMEOUT = 500; // ms\nconst $bbad732aa541d8da$var$PATHFINDING_STALE = 500; // ms\nclass $bbad732aa541d8da$export$7e611eda647c99e9 {\n    constructor(context){\n        this.context = context;\n        this.keyQueue = [];\n        this.isWorkerInitializing = false;\n        this.stopwatchAfterCalculatingPath = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.initPathFindingWorker();\n    }\n    initPathFindingWorker() {\n        if (!this.isWorkerInitializing && this.calculatingPathStopwatch && this.calculatingPathStopwatch.elapsedMs > $bbad732aa541d8da$var$PATHFINDING_TIMEOUT) {\n            // error in worker probably\n            this.context.logger.warn(\"Recycling pathfindingworker after \" + this.calculatingPathStopwatch.elapsedMs + \" ms\");\n            this.pathFindingWorker.terminate();\n            this.pathFindingWorker = null;\n            this.calculatingPathStopwatch = null;\n        }\n        if (!this.pathFindingWorker) {\n            this.isWorkerInitializing = true;\n            this.pathFindingWorker = $bbad732aa541d8da$export$7e611eda647c99e9.createPathFindingWorker();\n            this.pathFindingWorker.onmessage = (e)=>{\n                if (e.data === \"ready\") {\n                    this.isWorkerInitializing = false;\n                    return;\n                }\n                const calculatedPath = JSON.parse(e.data);\n                if (this.calculatingPathStopwatch.elapsedMs < $bbad732aa541d8da$var$PATHFINDING_STALE) this.path = calculatedPath.path;\n                this.calculatingPathStopwatch = null;\n                this.stopwatchAfterCalculatingPath.start();\n            };\n        }\n    }\n    get needsNewPath() {\n        const isCalculating = !!this.calculatingPathStopwatch;\n        return !isCalculating && this.stopwatchAfterCalculatingPath.elapsedMs > $bbad732aa541d8da$var$PATHFINDING_STALE;\n    }\n    calcPath(config) {\n        this.pathFindingWorker.postMessage(JSON.stringify(config));\n        this.calculatingPathStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n    stop(force = false) {\n        this.path = null;\n        this.playerToKill = null;\n        this.autoPilotToFlag = false;\n        this.autoBoost = false;\n        if (!this.autoFireToggledManually || force) this.autoFire = false;\n    }\n    isOn() {\n        return !!this.path || !!this.playerToKill || !!this.autoPilotToFlag || !!this.autoFire;\n    }\n    enqueueKey(key, state, duration = 0) {\n        this.keyQueue.push({\n            key: key,\n            state: state,\n            duration: duration\n        });\n    }\n    eatKeyQueue() {\n        const result = this.keyQueue;\n        this.keyQueue = [];\n        return result;\n    }\n    requestTimeoutFor(instr) {\n        switch(instr.key){\n            case (0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL:\n                if (this.boostTimeout) return null;\n                this.boostTimeout = setTimeout(()=>{\n                    this.context.connection.sendKey(instr.key, !instr.state);\n                    this.context.botstate.boostTimeout = null;\n                }, instr.duration);\n                return this.boostTimeout;\n            default:\n                if (this.turningTimeout) return null;\n                this.turningTimeout = setTimeout(()=>{\n                    this.context.connection.sendKey(instr.key, !instr.state);\n                    this.context.botstate.turningTimeout = null;\n                }, instr.duration);\n                return this.turningTimeout;\n        }\n    }\n}\n\n\nvar $9968c76574ffabad$export$ada873a34909da65 = /*#__PURE__*/ function(Events) {\n    Events[Events[\"BOT_STEERING_INSTRUCTION\"] = 0] = \"BOT_STEERING_INSTRUCTION\";\n    Events[Events[\"CHAT_NOT_POSSIBLE_BC_MUTED\"] = 1] = \"CHAT_NOT_POSSIBLE_BC_MUTED\";\n    Events[Events[\"CHAT_PLAYER_MUTED\"] = 2] = \"CHAT_PLAYER_MUTED\";\n    Events[Events[\"CHAT_RECEIVED\"] = 3] = \"CHAT_RECEIVED\";\n    Events[Events[\"CHAT_SEND\"] = 4] = \"CHAT_SEND\";\n    Events[Events[\"CONNECTION_ERROR\"] = 5] = \"CONNECTION_ERROR\";\n    Events[Events[\"CONNECTION_CLOSE\"] = 6] = \"CONNECTION_CLOSE\";\n    Events[Events[\"CRATE_NEW\"] = 7] = \"CRATE_NEW\";\n    Events[Events[\"CTF_GAME_OVER\"] = 8] = \"CTF_GAME_OVER\";\n    Events[Events[\"EACH_SECOND\"] = 9] = \"EACH_SECOND\";\n    Events[Events[\"EXPLOSION\"] = 10] = \"EXPLOSION\";\n    Events[Events[\"FLAG_UPDATE\"] = 11] = \"FLAG_UPDATE\";\n    Events[Events[\"KEYBOARD\"] = 12] = \"KEYBOARD\";\n    Events[Events[\"LOGIN\"] = 13] = \"LOGIN\";\n    Events[Events[\"LEAVE_HORIZON\"] = 14] = \"LEAVE_HORIZON\";\n    Events[Events[\"MESSAGE_TO_PLAYER\"] = 15] = \"MESSAGE_TO_PLAYER\";\n    Events[Events[\"MOB_DESPAWN\"] = 16] = \"MOB_DESPAWN\";\n    Events[Events[\"MINI_MAP\"] = 17] = \"MINI_MAP\";\n    Events[Events[\"MISSILE_UPDATE\"] = 18] = \"MISSILE_UPDATE\";\n    Events[Events[\"MOUNTAIN_HIT\"] = 19] = \"MOUNTAIN_HIT\";\n    Events[Events[\"PLAYER_BOUNCE\"] = 20] = \"PLAYER_BOUNCE\";\n    Events[Events[\"PLAYER_BOOST\"] = 21] = \"PLAYER_BOOST\";\n    Events[Events[\"PLAYER_CHANGE_FLAG\"] = 22] = \"PLAYER_CHANGE_FLAG\";\n    Events[Events[\"PLAYER_FIRE\"] = 23] = \"PLAYER_FIRE\";\n    Events[Events[\"PLAYER_HIT\"] = 24] = \"PLAYER_HIT\";\n    Events[Events[\"PLAYER_KILLED\"] = 25] = \"PLAYER_KILLED\";\n    Events[Events[\"PLAYER_LEAVE\"] = 26] = \"PLAYER_LEAVE\";\n    Events[Events[\"PLAYER_LEVEL\"] = 27] = \"PLAYER_LEVEL\";\n    Events[Events[\"PLAYER_NEW\"] = 28] = \"PLAYER_NEW\";\n    Events[Events[\"PLAYER_POWERUP\"] = 29] = \"PLAYER_POWERUP\";\n    Events[Events[\"PLAYER_REPEL\"] = 30] = \"PLAYER_REPEL\";\n    Events[Events[\"PLAYER_RESPAWN\"] = 31] = \"PLAYER_RESPAWN\";\n    Events[Events[\"PLAYER_UPDATE\"] = 32] = \"PLAYER_UPDATE\";\n    Events[Events[\"PLAYER_UPGRADE_APPLIED\"] = 33] = \"PLAYER_UPGRADE_APPLIED\";\n    Events[Events[\"PLAYER_SPECTATE\"] = 34] = \"PLAYER_SPECTATE\";\n    Events[Events[\"PLAYER_STEALTH\"] = 35] = \"PLAYER_STEALTH\";\n    Events[Events[\"PLAYER_SWITCH_TYPE\"] = 36] = \"PLAYER_SWITCH_TYPE\";\n    Events[Events[\"SERVER_ANNOUNCEMENT\"] = 37] = \"SERVER_ANNOUNCEMENT\";\n    Events[Events[\"SERVER_COMMAND_REPLY\"] = 38] = \"SERVER_COMMAND_REPLY\";\n    Events[Events[\"SERVER_CUSTOM\"] = 39] = \"SERVER_CUSTOM\";\n    Events[Events[\"SERVER_ERROR\"] = 40] = \"SERVER_ERROR\";\n    Events[Events[\"SERVER_MESSAGE\"] = 41] = \"SERVER_MESSAGE\";\n    Events[Events[\"SCORE_BOARD\"] = 42] = \"SCORE_BOARD\";\n    Events[Events[\"SCORE_DETAILED\"] = 43] = \"SCORE_DETAILED\";\n    Events[Events[\"SCORE_UPDATE\"] = 44] = \"SCORE_UPDATE\";\n    Events[Events[\"SPAM_WARING_RECEIVED\"] = 45] = \"SPAM_WARING_RECEIVED\";\n    Events[Events[\"TEAMS\"] = 46] = \"TEAMS\";\n    Events[Events[\"TICK\"] = 47] = \"TICK\";\n    return Events;\n}({});\n\n\n\nconst $7477aee85877c805$var$MS_PER_SEC = 1000;\nconst $7477aee85877c805$var$FPS = 60;\nconst $7477aee85877c805$var$TICK_MS = $7477aee85877c805$var$MS_PER_SEC / $7477aee85877c805$var$FPS;\nconst $7477aee85877c805$var$SKIPPED_FRAMES_PANIC_THRESHOLD = 5 * $7477aee85877c805$var$FPS;\nclass $7477aee85877c805$export$a532fd855d35deb0 {\n    constructor(context){\n        this.context = context;\n        this.skippedFrames = 0;\n    }\n    startProcessingEventQueue() {\n        this.handlersByType = {};\n        for (const handler of this.context.handlers)for (const eventType of handler.handles){\n            const handlersForType = this.handlersByType[eventType] || [];\n            handlersForType.push(handler);\n            this.handlersByType[eventType] = handlersForType;\n        }\n        this.context.tm.setInterval(()=>this.tick(), Math.floor($7477aee85877c805$var$TICK_MS));\n    }\n    tick() {\n        if (!this.stopwatch) {\n            this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n            this.tickCounter = 1;\n            this.eachSecondStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n            this.skippedFrames = 0;\n        }\n        const lag = this.context.connection.getLagMs(); // ms that the server is (probably) ahead of us\n        const diffTime = this.stopwatch.elapsedMs + lag;\n        let tooEarly = false;\n        if (diffTime < $7477aee85877c805$var$TICK_MS) tooEarly = true;\n        else if (diffTime > $7477aee85877c805$var$TICK_MS * (this.tickCounter + 1)) this.skippedFrames++;\n        else {\n            // framefactor = the exact number of frames that should now be processed after the last processed frame.\n            // for example \"1\" if it is exactly the time to process the next frame,\n            //   or 1.2 if this tick is .2 of a frame to late, or 10 if we missed a few frames, etc.\n            const frameFactor = this.skippedFrames + diffTime / ($7477aee85877c805$var$TICK_MS * this.tickCounter);\n            // enqueue the tick message which will be processed last\n            this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).TICK, {\n                frame: this.tickCounter,\n                frameFactor: frameFactor,\n                skippedFrames: this.skippedFrames,\n                timeFromStart: diffTime\n            });\n            if (this.eachSecondStopwatch.elapsedSeconds >= 1) {\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).EACH_SECOND, {});\n                this.eachSecondStopwatch.start();\n            }\n            this.skippedFrames = 0;\n            while(true){\n                const nextMessage = this.context.eventQueue.dequeue();\n                if (!nextMessage) break;\n                this.process(nextMessage);\n            }\n        }\n        this.context.state.skippedFrames = this.skippedFrames;\n        if (!tooEarly) this.tickCounter++;\n        if (this.skippedFrames > $7477aee85877c805$var$SKIPPED_FRAMES_PANIC_THRESHOLD) this.stopwatch = null; // just drop all bookkeeping and start over\n        else if (this.skippedFrames > 0 || tooEarly) this.context.tm.setTimeout(()=>this.tick(), 1);\n    }\n    process(message) {\n        // find the right handler(s)\n        const handlersForType = this.handlersByType[message.type] || [];\n        for (const handler of handlersForType)// execute handler\n        try {\n            handler.exec(message);\n        } catch (error) {\n            // make error loggable\n            const err = JSON.parse(JSON.stringify(error, Object.getOwnPropertyNames(error)));\n            this.context.logger.error(`Error handling message ${message.type} with handler ${handler.constructor.name}`, err);\n        }\n    }\n}\n\n\n\nclass $918741f7904e4de8$export$e6367b8bc557b579 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).CHAT_SEND\n        ];\n    }\n    exec(ev) {\n        const args = ev.args;\n        this.context.connection.sendChat(args.type, args.text, args.playerId);\n    }\n}\n\n\n\nclass $88bf5f73dfa5b57a$export$940315a71f02c017 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).KEYBOARD\n        ];\n    }\n    exec(ev) {\n        const keyArgs = ev.args;\n        this.context.connection.sendKey(keyArgs.key, keyArgs.state);\n    }\n}\n\n\n// this file is a partial copy of ab-server\\src\\constants\\collisions.ts and players.ts\n/* tslint:disable */ // rules are different\nconst $c524a7a8ab7a657e$export$fdf35536e9a0700c = {\n    WIDTH: 32768,\n    HEIGHT: 16384,\n    HALF_WIDTH: 16384,\n    HALF_HEIGHT: 8192\n};\nconst $c524a7a8ab7a657e$export$4748fae0954bb8cb = {\n    MIN_X: -$c524a7a8ab7a657e$export$fdf35536e9a0700c.WIDTH / 2,\n    MIN_Y: -$c524a7a8ab7a657e$export$fdf35536e9a0700c.HEIGHT / 2,\n    MAX_X: $c524a7a8ab7a657e$export$fdf35536e9a0700c.WIDTH / 2,\n    MAX_Y: $c524a7a8ab7a657e$export$fdf35536e9a0700c.HEIGHT / 2\n};\nconst $c524a7a8ab7a657e$export$9000cfdce9ac9444 = {\n    MIN_X: -16352,\n    MIN_Y: -8160,\n    MAX_X: 16352,\n    MAX_Y: 8160\n};\n\n\n// this file is a copy of ab-server\\src\\constants\\projectiles.ts\n/* tslint:disable */ // rules are different\n\nconst $c114b7c070aa477c$export$561ea5be705b6dda = {\n    REGULAR: 1,\n    FAT: 2,\n    SMALL: 3\n};\nconst $c114b7c070aa477c$export$1554915f9676f885 = {\n    [$c114b7c070aa477c$export$561ea5be705b6dda.REGULAR]: [\n        [\n            0,\n            3,\n            3\n        ],\n        [\n            0,\n            9,\n            3\n        ],\n        [\n            0,\n            15,\n            3\n        ]\n    ],\n    [$c114b7c070aa477c$export$561ea5be705b6dda.FAT]: [\n        [\n            0,\n            4,\n            4\n        ],\n        [\n            0,\n            12,\n            4\n        ],\n        [\n            0,\n            20,\n            4\n        ]\n    ],\n    [$c114b7c070aa477c$export$561ea5be705b6dda.SMALL]: [\n        [\n            0,\n            2,\n            2\n        ],\n        [\n            0,\n            6,\n            2\n        ],\n        [\n            0,\n            10,\n            2\n        ]\n    ]\n};\nconst $c114b7c070aa477c$export$382fe3b9b8c261e0 = 1 / 45;\nconst $c114b7c070aa477c$export$54b64fe98c3ef41a = {\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE]: {\n        maxSpeed: 9,\n        baseSpeed: 4.05,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.105,\n        /**\r\n     * Basic damage for speed in range [baseSpeed, maxSpeed].\r\n     */ damage: 0.4,\n        infernoDamageFactor: 1,\n        distance: 1104,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.REGULAR,\n        repelEnergy: 197\n    },\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE]: {\n        maxSpeed: 6,\n        baseSpeed: 2.1,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.0375,\n        damage: 1.2,\n        infernoDamageFactor: 1,\n        distance: 1076,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.FAT,\n        repelEnergy: 260\n    },\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE]: {\n        maxSpeed: 9,\n        baseSpeed: 5.7,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.14,\n        damage: 0.2,\n        infernoDamageFactor: 1,\n        distance: 1161,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.SMALL,\n        repelEnergy: 155\n    },\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE]: {\n        maxSpeed: 7,\n        baseSpeed: 3.5,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.0875,\n        damage: 0.4,\n        infernoDamageFactor: 1,\n        distance: 997,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.REGULAR,\n        repelEnergy: 186\n    },\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_SMALL_MISSILE]: {\n        maxSpeed: 7,\n        baseSpeed: 3.5,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.0875,\n        damage: 0.3,\n        infernoDamageFactor: 1,\n        distance: 581,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.REGULAR,\n        repelEnergy: 145\n    },\n    [(0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE]: {\n        maxSpeed: 7,\n        baseSpeed: 2.8,\n        speedFactor: 0.3,\n        infernoSpeedFactor: 1,\n        accel: 0.07,\n        damage: 0.45,\n        infernoDamageFactor: 1,\n        distance: 819,\n        shape: $c114b7c070aa477c$export$561ea5be705b6dda.REGULAR,\n        repelEnergy: 168\n    }\n};\n\n\n\nclass $bdf85e9274c899ea$export$be4b57d101c7dae0 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n    }\n    exec(ev) {\n        const tick = ev.args;\n        for (const missile of this.context.state.getMissiles()){\n            const missileParams = (0, $c114b7c070aa477c$export$54b64fe98c3ef41a)[missile.mobType];\n            const prevSpeedX = missile.speed.x;\n            const prevSpeedY = missile.speed.y;\n            const frameFactor = tick.frameFactor;\n            missile.speed.x += missile.accel.x * frameFactor;\n            missile.speed.y += missile.accel.y * frameFactor;\n            const speed = Math.hypot(missile.speed.x, missile.speed.y);\n            if (speed > missile.maxSpeed) {\n                missile.speed.x *= missile.maxSpeed / speed;\n                missile.speed.y *= missile.maxSpeed / speed;\n                missile.speed.length = missile.maxSpeed;\n            } else missile.speed.length = speed;\n            missile.pos.x += (prevSpeedX + 0.5 * (missile.speed.x - prevSpeedX)) * frameFactor;\n            missile.pos.y += (prevSpeedY + 0.5 * (missile.speed.y - prevSpeedY)) * frameFactor;\n            missile.distance = (missile.distance || 0) + Math.hypot(missile.speed.x, missile.speed.y);\n            if (missile.pos.x < (0, $c524a7a8ab7a657e$export$4748fae0954bb8cb).MIN_X || missile.pos.x > (0, $c524a7a8ab7a657e$export$4748fae0954bb8cb).MAX_X || missile.pos.y < (0, $c524a7a8ab7a657e$export$4748fae0954bb8cb).MIN_Y || missile.pos.y > (0, $c524a7a8ab7a657e$export$4748fae0954bb8cb).MAX_Y || missile.distance >= missileParams.distance) this.context.state.removeMob(missile.id);\n        }\n    }\n}\n\n\n\n// this file is a copy of ab-server\\src\\constants\\ships.ts\n/* tslint:disable */ // rules are different\n\nconst $da9f0f51a11e6713$export$aa1d7fff11452d37 = {\n    PREDATOR: 1,\n    GOLIATH: 2,\n    COPTER: 3,\n    TORNADO: 4,\n    PROWLER: 5\n};\nconst $da9f0f51a11e6713$export$25d724bb7d1b6bc6 = {\n    FIRE: 'fire',\n    INFERNO: 'infernoFire'\n};\nconst $da9f0f51a11e6713$export$637dcfd116ceec58 = {\n    DEFAULT: 'default',\n    SPECIAL: 'special'\n};\nconst $da9f0f51a11e6713$export$6467c870d8dfa82c = {\n    PREDATOR: 32,\n    GOLIATH: 88,\n    COPTER: 34,\n    TORNADO: 38,\n    PROWLER: 36\n};\nconst $da9f0f51a11e6713$var$missileTemplate = (type, x, y, rot, alt = false)=>{\n    return {\n        type: type,\n        x: x,\n        y: y,\n        rot: rot,\n        alt: alt\n    };\n};\nconst $da9f0f51a11e6713$var$missileFireTemplate = (def = [], special = [])=>{\n    return {\n        [$da9f0f51a11e6713$export$637dcfd116ceec58.DEFAULT]: def,\n        [$da9f0f51a11e6713$export$637dcfd116ceec58.SPECIAL]: special\n    };\n};\nconst $da9f0f51a11e6713$export$de794ad9b3d6afb7 = {\n    [$da9f0f51a11e6713$export$aa1d7fff11452d37.PREDATOR]: {\n        name: 'raptor',\n        turnFactor: 0.065,\n        accelFactor: 0.225,\n        brakeFactor: 0.025,\n        boostFactor: 1.5,\n        infernoFactor: 0.75,\n        maxSpeed: 5.5,\n        minSpeed: 0.001,\n        flagSpeed: 5,\n        healthRegen: 0.001,\n        energyRegen: 0.008,\n        fireEnergy: 0.6,\n        specialEnergy: 0,\n        specialEnergyRegen: -0.01,\n        specialDelay: 0,\n        fireDelay: 550,\n        damageFactor: 2,\n        energyLight: 0.6,\n        collisions: [\n            [\n                0,\n                5,\n                23\n            ],\n            [\n                0,\n                -15,\n                15\n            ],\n            [\n                0,\n                -25,\n                12\n            ]\n        ],\n        repelEnergy: 2100,\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.FIRE]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE, 0, 35, 0)\n        ]),\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.INFERNO]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE, -20, 5, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE, 0, 35, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE, 20, 5, 0.05)\n        ])\n    },\n    [$da9f0f51a11e6713$export$aa1d7fff11452d37.GOLIATH]: {\n        name: 'spirit',\n        turnFactor: 0.04,\n        accelFactor: 0.15,\n        brakeFactor: 0.015,\n        boostFactor: 1,\n        infernoFactor: 0.75,\n        maxSpeed: 3.5,\n        minSpeed: 0.001,\n        flagSpeed: 5,\n        healthRegen: 0.0005,\n        energyRegen: 0.005,\n        fireEnergy: 0.9,\n        specialEnergy: 0.5,\n        specialEnergyRegen: 0,\n        specialDelay: 1000,\n        fireDelay: 300,\n        damageFactor: 1,\n        energyLight: 0.9,\n        collisions: [\n            [\n                0,\n                0,\n                35\n            ],\n            [\n                50,\n                14,\n                16\n            ],\n            [\n                74,\n                26,\n                14\n            ],\n            [\n                30,\n                8,\n                23\n            ],\n            [\n                63,\n                22,\n                15\n            ],\n            [\n                -50,\n                14,\n                16\n            ],\n            [\n                -74,\n                26,\n                14\n            ],\n            [\n                -30,\n                8,\n                23\n            ],\n            [\n                -63,\n                22,\n                15\n            ]\n        ],\n        repelEnergy: 7500,\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.FIRE]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE, 0, 35, 0)\n        ]),\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.INFERNO]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE, -30, 0, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE, 0, 35, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE, 30, 0, 0.05)\n        ])\n    },\n    [$da9f0f51a11e6713$export$aa1d7fff11452d37.COPTER]: {\n        name: 'mohawk',\n        turnFactor: 0.07,\n        accelFactor: 0.275,\n        brakeFactor: 0.025,\n        boostFactor: 1,\n        infernoFactor: 0.75,\n        maxSpeed: 6,\n        minSpeed: 0.001,\n        flagSpeed: 5,\n        healthRegen: 0.001,\n        energyRegen: 0.01,\n        fireEnergy: 0.3,\n        specialEnergy: 0,\n        specialEnergyRegen: 0,\n        specialDelay: 0,\n        fireDelay: 300,\n        damageFactor: 2.78,\n        energyLight: 0.3,\n        collisions: [\n            [\n                0,\n                -12,\n                15\n            ],\n            [\n                0,\n                0,\n                17\n            ],\n            [\n                0,\n                13,\n                15\n            ],\n            [\n                0,\n                26,\n                15\n            ]\n        ],\n        repelEnergy: 1800,\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.FIRE]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE, 15, 10, 0, true)\n        ]),\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.INFERNO]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE, -10, 5, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE, 0, 10, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE, 10, 5, 0.05)\n        ])\n    },\n    [$da9f0f51a11e6713$export$aa1d7fff11452d37.TORNADO]: {\n        name: 'tornado',\n        turnFactor: 0.055,\n        accelFactor: 0.2,\n        brakeFactor: 0.025,\n        boostFactor: 1,\n        infernoFactor: 0.75,\n        maxSpeed: 4.5,\n        minSpeed: 0.001,\n        flagSpeed: 5,\n        healthRegen: 0.001,\n        energyRegen: 0.006,\n        fireEnergy: 0.5,\n        specialEnergy: 0.9,\n        specialEnergyRegen: 0,\n        specialDelay: 0,\n        fireDelay: 500,\n        damageFactor: 5 / 3,\n        energyLight: 0.5,\n        collisions: [\n            [\n                0,\n                8,\n                18\n            ],\n            [\n                14,\n                12,\n                13\n            ],\n            [\n                -14,\n                12,\n                13\n            ],\n            [\n                0,\n                -12,\n                16\n            ],\n            [\n                0,\n                -26,\n                14\n            ],\n            [\n                0,\n                -35,\n                12\n            ]\n        ],\n        repelEnergy: 2400,\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.FIRE]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 0, 40, 0)\n        ], [\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_SMALL_MISSILE, -15, 10, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_SMALL_MISSILE, 0, 40, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_SMALL_MISSILE, 15, 10, 0.05)\n        ]),\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.INFERNO]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, -15, 10, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 0, 40, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 15, 10, 0.05)\n        ], [\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, -30, 20, -0.06),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, -20, 15, -0.03),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 0, 40, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 20, 15, 0.03),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE, 30, 20, 0.06)\n        ])\n    },\n    [$da9f0f51a11e6713$export$aa1d7fff11452d37.PROWLER]: {\n        name: 'prowler',\n        turnFactor: 0.055,\n        accelFactor: 0.2,\n        brakeFactor: 0.025,\n        boostFactor: 1,\n        infernoFactor: 0.75,\n        maxSpeed: 4.5,\n        minSpeed: 0.001,\n        flagSpeed: 5,\n        healthRegen: 0.001,\n        energyRegen: 0.006,\n        fireEnergy: 0.75,\n        specialEnergy: 0.6,\n        specialEnergyRegen: 0,\n        specialDelay: 1500,\n        damageFactor: 5 / 3,\n        fireDelay: 300,\n        energyLight: 0.75,\n        collisions: [\n            [\n                0,\n                11,\n                25\n            ],\n            [\n                0,\n                -8,\n                18\n            ],\n            [\n                19,\n                20,\n                10\n            ],\n            [\n                -19,\n                20,\n                10\n            ],\n            [\n                0,\n                -20,\n                14\n            ]\n        ],\n        repelEnergy: 2600,\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.FIRE]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE, 0, 35, 0)\n        ]),\n        [$da9f0f51a11e6713$export$25d724bb7d1b6bc6.INFERNO]: $da9f0f51a11e6713$var$missileFireTemplate([\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE, -20, 0, -0.05),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE, 0, 35, 0),\n            $da9f0f51a11e6713$var$missileTemplate((0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE, 20, 0, 0.05)\n        ])\n    }\n};\n\n\n// this file is a partial copy of ab-server\\src\\constants\\upgrades.ts\n/* tslint:disable */ // rules are different\nconst $58f54767077d59c0$var$MS_PER_SEC = 1000;\nconst $58f54767077d59c0$export$2d86cf9466feeee3 = 0.3;\nconst $58f54767077d59c0$export$cf2612e0b5fce5c2 = 0.8;\nconst $58f54767077d59c0$export$71b5ddf2e6f59637 = 26;\nconst $58f54767077d59c0$export$3a8c67ec0c113fb5 = {\n    1: 'SPEED',\n    2: 'DEFENSE',\n    3: 'ENERGY',\n    4: 'MISSILE'\n};\nconst $58f54767077d59c0$export$3c4afd8d9f785748 = 0;\nconst $58f54767077d59c0$export$9077c3fe1b08d4a3 = {\n    SPEED: {\n        cost: [\n            0,\n            1,\n            1,\n            1,\n            1,\n            1\n        ],\n        factor: [\n            1,\n            1.05,\n            1.1,\n            1.15,\n            1.2,\n            1.25\n        ]\n    },\n    DEFENSE: {\n        cost: [\n            0,\n            1,\n            1,\n            1,\n            1,\n            1\n        ],\n        factor: [\n            1,\n            1.05,\n            1.1,\n            1.15,\n            1.2,\n            1.25\n        ]\n    },\n    ENERGY: {\n        cost: [\n            0,\n            1,\n            1,\n            1,\n            1,\n            1\n        ],\n        factor: [\n            1,\n            1.05,\n            1.1,\n            1.15,\n            1.2,\n            1.25\n        ]\n    },\n    MISSILE: {\n        cost: [\n            0,\n            1,\n            1,\n            1,\n            1,\n            1\n        ],\n        factor: [\n            1,\n            1.05,\n            1.1,\n            1.15,\n            1.2,\n            1.25\n        ]\n    }\n};\nconst $58f54767077d59c0$export$16c6c5767f3743bb = {\n    LOST: 0,\n    SPEED: 1,\n    DEFENSE: 2,\n    ENERGY: 3,\n    MISSILE: 4\n};\n\n\n\n\n\nclass $ced59494b384773c$export$1ef0d431ba4bc4d {\n    constructor(context, intervalSeconds = 3){\n        this.context = context;\n        this.intervalSeconds = intervalSeconds;\n        this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n    log(msg, ...args) {\n        if (this.stopwatch.elapsedSeconds < this.intervalSeconds) return;\n        this.context.logger.info(msg, ...args);\n        this.stopwatch.start();\n    }\n}\n\n\nconst $c9d1dabe486c787f$export$fbb3d83649f9a651 = 2 * Math.PI;\nclass $c9d1dabe486c787f$export$3fe2f0ec2f7baf97 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n        this.logger = new (0, $ced59494b384773c$export$1ef0d431ba4bc4d)(this.context);\n    }\n    exec(ev) {\n        const tick = ev.args;\n        for (const player of this.context.state.getPlayers()){\n            if (player.status === (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE) continue;\n            this.updatePlayer(player, tick);\n        }\n    }\n    updatePlayer(player, tick) {\n        const aircraftSpecs = (0, $da9f0f51a11e6713$export$de794ad9b3d6afb7)[player.type];\n        const boostFactor = player.boost ? aircraftSpecs.boostFactor : 1;\n        const frameFactor = tick.frameFactor;\n        if (!isNaN(player.energyRegen)) {\n            const energyDiff = player.energyRegen * frameFactor;\n            player.energy += energyDiff;\n            if (player.energy > 1) player.energy = 1;\n            else if (player.energy < 0) player.energy = 0;\n            else if (isNaN(player.energy)) player.energy = 1;\n        }\n        player.health += frameFactor * aircraftSpecs.healthRegen;\n        if (player.health > 1) player.health = 1;\n        else if (player.health < 0) player.health = 0;\n        // kill shield/inferno timer after it has expired\n        if (player.shieldOrInfernoTimer && player.shieldOrInfernoTimer.hasTimedOut) {\n            player.shieldOrInfernoTimer = null;\n            player.powerUps.inferno = null;\n            player.powerUps.shield = null;\n        }\n        let flightDirection = -999;\n        if (player.strafe) {\n            /**\r\n             * Copter strafe.\r\n             */ if (player.keystate.LEFT) flightDirection = player.rot - 0.5 * Math.PI;\n            if (player.keystate.RIGHT) flightDirection = player.rot + 0.5 * Math.PI;\n        } else if (player.keystate.LEFT || player.keystate.RIGHT) {\n            if (player.keystate.LEFT) player.rot -= frameFactor * aircraftSpecs.turnFactor;\n            if (player.keystate.RIGHT) player.rot += frameFactor * aircraftSpecs.turnFactor;\n            player.rot = (player.rot % $c9d1dabe486c787f$export$fbb3d83649f9a651 + $c9d1dabe486c787f$export$fbb3d83649f9a651) % $c9d1dabe486c787f$export$fbb3d83649f9a651;\n        }\n        if (player.keystate.UP) {\n            if (flightDirection === -999) flightDirection = player.rot;\n            else flightDirection += Math.PI * (player.keystate.RIGHT ? -0.25 : 0.25);\n        } else if (player.keystate.DOWN) {\n            if (flightDirection === -999) flightDirection = player.rot + Math.PI;\n            else flightDirection += Math.PI * (player.keystate.RIGHT ? 0.25 : -0.25);\n        }\n        /**\r\n         * speed update.\r\n         */ let speedValue = 0;\n        if (player.speed.x !== 0 || player.speed.y !== 0 || player.keystate.UP || player.keystate.DOWN || player.strafe) {\n            const startSpeedX = player.speed.x;\n            const startSpeedY = player.speed.y;\n            if (flightDirection !== -999) {\n                player.speed.x += Math.sin(flightDirection) * aircraftSpecs.accelFactor * boostFactor * frameFactor;\n                player.speed.y -= Math.cos(flightDirection) * aircraftSpecs.accelFactor * boostFactor * frameFactor;\n            }\n            speedValue = Math.hypot(player.speed.x, player.speed.y);\n            let maxspeed = aircraftSpecs.maxSpeed * boostFactor * (0, $58f54767077d59c0$export$9077c3fe1b08d4a3).SPEED.factor[player.upgrades.speed];\n            if (player.powerUps.inferno) maxspeed *= aircraftSpecs.infernoFactor;\n            if (player.flagspeed) maxspeed = aircraftSpecs.flagSpeed;\n            if (speedValue > maxspeed) {\n                player.speed.x *= maxspeed / speedValue;\n                player.speed.y *= maxspeed / speedValue;\n            } else if (player.speed.x > aircraftSpecs.minSpeed || player.speed.x < -aircraftSpecs.minSpeed || player.speed.y > aircraftSpecs.minSpeed || player.speed.y < -aircraftSpecs.minSpeed) {\n                player.speed.x *= 1 - aircraftSpecs.brakeFactor * frameFactor;\n                player.speed.y *= 1 - aircraftSpecs.brakeFactor * frameFactor;\n            } else {\n                player.speed.x = 0;\n                player.speed.y = 0;\n            }\n            /**\r\n             * Update player position.\r\n             */ player.pos.x += frameFactor * startSpeedX + 0.5 * (player.speed.x - startSpeedX) * frameFactor * frameFactor;\n            player.pos.y += frameFactor * startSpeedY + 0.5 * (player.speed.y - startSpeedY) * frameFactor * frameFactor;\n        }\n        /**\r\n         * Validate coords.\r\n         */ if (player.pos.x < (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MIN_X) player.pos.x = (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MIN_X;\n        if (player.pos.x > (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MAX_X) player.pos.x = (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MAX_X;\n        if (player.pos.y < (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MIN_Y) player.pos.y = (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MIN_Y;\n        if (player.pos.y > (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MAX_Y) player.pos.y = (0, $c524a7a8ab7a657e$export$9000cfdce9ac9444).MAX_Y;\n    }\n}\n\n\nvar $75d2662fce9f31ac$export$d1763b2f7574d334 = /*#__PURE__*/ function(CHAT_TYPE) {\n    CHAT_TYPE[CHAT_TYPE[\"CHAT\"] = 0] = \"CHAT\";\n    CHAT_TYPE[CHAT_TYPE[\"SAY\"] = 1] = \"SAY\";\n    CHAT_TYPE[CHAT_TYPE[\"TEAM\"] = 2] = \"TEAM\";\n    CHAT_TYPE[CHAT_TYPE[\"WHISPER\"] = 3] = \"WHISPER\";\n    return CHAT_TYPE;\n}({});\n\n\n\n\nclass $5fa40ec87f9b6d27$export$648b05ad0bbad899 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_MESSAGE\n        ];\n    }\n    exec(ev) {\n        const serverMessage = ev.args;\n        let chatType;\n        switch(serverMessage.c){\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_PUBLIC:\n                chatType = (0, $75d2662fce9f31ac$export$d1763b2f7574d334).CHAT;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_RECEIVED, {\n                    chatMessage: serverMessage.text,\n                    chatType: chatType,\n                    playerId: serverMessage.id\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_SAY:\n                chatType = (0, $75d2662fce9f31ac$export$d1763b2f7574d334).SAY;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_RECEIVED, {\n                    chatMessage: serverMessage.text,\n                    chatType: chatType,\n                    playerId: serverMessage.id\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_TEAM:\n                chatType = (0, $75d2662fce9f31ac$export$d1763b2f7574d334).TEAM;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_RECEIVED, {\n                    chatMessage: serverMessage.text,\n                    chatType: chatType,\n                    playerId: serverMessage.id\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_WHISPER:\n                chatType = (0, $75d2662fce9f31ac$export$d1763b2f7574d334).WHISPER;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_RECEIVED, {\n                    chatMessage: serverMessage.text,\n                    chatType: chatType,\n                    playerId: serverMessage.from,\n                    to: serverMessage.to\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTED:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_NOT_POSSIBLE_BC_MUTED, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).CHAT_VOTEMUTEPASSED:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_PLAYER_MUTED, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).COMMAND_REPLY:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_COMMAND_REPLY, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).ERROR:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ERROR, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOOST:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_BOOST, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_BOUNCE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_BOUNCE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_LEAVEHORIZON:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).LEAVE_HORIZON, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_REPEL:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_REPEL, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).EVENT_STEALTH:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_STEALTH, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_FLAG:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).FLAG_UPDATE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).GAME_SPECTATE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_SPECTATE, serverMessage);\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).LOGIN:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).LOGIN, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MOB_DESPAWN, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_DESPAWN_COORDS:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MOUNTAIN_HIT, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MISSILE_UPDATE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).MOB_UPDATE_STATIONARY:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CRATE_NEW, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FIRE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_FIRE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_FLAG:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_CHANGE_FLAG, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_HIT:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_HIT, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_KILL:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_KILLED, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEAVE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_LEAVE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_LEVEL:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_LEVEL, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_NEW:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_NEW, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_POWERUP:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_POWERUP, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPDATE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_UPDATE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RETEAM:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).TEAMS, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_UPGRADE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_UPGRADE_APPLIED, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_RESPAWN:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_RESPAWN, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).PLAYER_TYPE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_SWITCH_TYPE, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_CUSTOM:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_CUSTOM, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SERVER_MESSAGE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ANNOUNCEMENT, serverMessage);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_BOARD:\n                const scoreBoard = serverMessage;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SCORE_BOARD, scoreBoard.data);\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MINI_MAP, scoreBoard.rankings);\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED:\n                const detailedFfa = serverMessage;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SCORE_DETAILED, {\n                    ffaScores: detailedFfa.scores\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_DETAILED_CTF:\n                const detailedCtf = serverMessage;\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SCORE_DETAILED, {\n                    ffaScores: detailedCtf.scores\n                });\n                break;\n            case (0, $1c411432bfef9709$export$2e2bcd8739ae039).SCORE_UPDATE:\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SCORE_UPDATE, serverMessage);\n                break;\n        }\n    }\n}\n\n\n\n\nconst $ca9820f5036d37f5$var$PI_2 = Math.PI * 2;\nclass $ca9820f5036d37f5$export$88719fa01a501de5 {\n    constructor(x, y){\n        if ((x || x === 0) && (y || y === 0)) {\n            this.x = x;\n            this.y = y;\n        } else if (x) {\n            const other = x;\n            this.x = other.x;\n            this.y = other.y;\n        } else {\n            this.x = 0;\n            this.y = 0;\n        }\n    }\n    direction() {\n        let dir = -(Math.atan2(this.x, this.y) + Math.PI);\n        if (dir < 0) dir += $ca9820f5036d37f5$var$PI_2;\n        if (dir > $ca9820f5036d37f5$var$PI_2) dir -= $ca9820f5036d37f5$var$PI_2;\n        return dir;\n    }\n    equals(other) {\n        return !!other && other.x === this.x && other.y === this.y;\n    }\n}\n\n\nclass $adf765773e02547a$export$acd1b67b03820565 {\n    get pos() {\n        return this.highResPos;\n    }\n    set pos(value) {\n        this.highResPos = value;\n        this.posUpdateTimer.start();\n    }\n    constructor(){\n        this.posUpdateTimer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)();\n        this.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)();\n        this.accel = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)();\n    }\n}\n\n\n\nclass $94fa898554ce7217$export$9f88de082db26157 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).CRATE_NEW\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const m = new (0, $adf765773e02547a$export$acd1b67b03820565)();\n        m.id = msg.id;\n        m.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        m.mobType = msg.type;\n        this.context.state.addMob(m);\n    }\n}\n\n\n\n\n\nclass $2446cc6c84060fde$export$d62895eb8d0b916a {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).FLAG_UPDATE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const team = this.context.state.getCtfTeam(msg.flag);\n        team.flagState = msg.type;\n        team.flagTakenById = msg.id;\n        team.flagPos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE).score = msg.blueteam;\n        this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED).score = msg.redteam;\n    }\n}\n\n\n\n\nclass $fdd7de1257b9b446$export$a01bcde5e6e021e8 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).LEAVE_HORIZON\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        let mobOrPlayer;\n        if (msg.type === (0, $87b45d444a9d6cc7$export$acf2bb14e0f91565).MOB) mobOrPlayer = this.context.state.getMobById(msg.id);\n        else mobOrPlayer = this.context.state.getPlayerById(msg.id);\n        if (mobOrPlayer) mobOrPlayer.isVisibleOnScreen = false;\n        if (msg.type !== (0, $87b45d444a9d6cc7$export$acf2bb14e0f91565).PLAYER) // We don't seem to get every despawn of mobs that have left the horizon,\n        // so remove it entirely now. This is what the canonical frontend does also.\n        this.context.state.removeMob(msg.id);\n    }\n}\n\n\n\n\n\nclass $30fae0f4ca680a25$export$f9de6ca0bc043724 {\n    static upgradesToPowerUps(upgrades) {\n        if (!upgrades) return null;\n        return (0, $d5bae74266feebd6$export$81184b07be21e3c8)(upgrades);\n    }\n    static keystateToPlayerMovements(keystate) {\n        if (!keystate) return null;\n        return (0, $d5bae74266feebd6$export$3a66bae294e393e3)(keystate);\n    }\n}\n\n\n\n\n\nclass $eead5056872c678a$export$5258e3695c6fefc5 {\n}\n\n\nclass $4133c675cdad3d12$export$f8aa58de3e528e10 {\n    constructor(){\n        this.speed = 0;\n        this.defense = 0;\n        this.energy = 0;\n        this.missile = 0;\n        this.available = 0;\n    }\n}\n\n\nconst $b6a2d44aa9791d0e$var$STALENESS_MS = 4000;\nclass $b6a2d44aa9791d0e$export$2616165974278734 extends (0, $adf765773e02547a$export$acd1b67b03820565) {\n    get posFromMinimap() {\n        return this.lowResPos;\n    }\n    set posFromMinimap(value) {\n        this.lowResPos = value;\n        this.lowResPosUpdateTimer.start();\n    }\n    constructor(){\n        super(), this.energy = 1, this.health = 1, this.score = 0, this.lowResPosUpdateTimer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.mobType = (0, $87b45d444a9d6cc7$export$696edb37a517566d).PLAYER;\n        this.upgrades = new (0, $4133c675cdad3d12$export$f8aa58de3e528e10)();\n        this.powerUps = new (0, $eead5056872c678a$export$5258e3695c6fefc5)();\n        this.keystate = {};\n    }\n    get mostReliablePos() {\n        const diff = this.posUpdateTimer.elapsedMs - this.lowResPosUpdateTimer.elapsedMs;\n        if (diff < $b6a2d44aa9791d0e$var$STALENESS_MS || !this.lowResPos) return this.pos;\n        return this.lowResPos;\n    }\n    setMovements(movements) {\n        if (movements) {\n            this.boost = movements.boost;\n            this.flagspeed = movements.flagspeed;\n            this.stealthed = movements.stealthed;\n            this.strafe = movements.strafe;\n            this.keystate = movements.keystate;\n        } else {\n            this.boost = false;\n            this.flagspeed = false;\n            this.stealthed = false;\n            this.strafe = false;\n            this.keystate = {};\n        }\n    }\n}\n\n\n\n\nclass $d0b0b7eb832266ba$export$db3f084f2c8a3b67 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).LOGIN\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const s = this.context.state;\n        s.id = msg.id;\n        // the id given is the id of the user we are spectating\n        // in case of spectating.\n        const isSpectating = !!this.context.state.spectatingId;\n        if (!isSpectating) s.myPlayerId = msg.id;\n        if (!msg.players) // this is a message that is used for spectate start\n        return;\n        s.team = msg.team;\n        this.context.gameType = (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).FFA;\n        if (msg.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE || msg.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED) this.context.gameType = (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF;\n        let ranking = 0;\n        for (const loginPlayer of msg.players){\n            const p = new (0, $b6a2d44aa9791d0e$export$2616165974278734)();\n            ranking++;\n            p.id = loginPlayer.id;\n            p.flag = loginPlayer.flag;\n            p.name = loginPlayer.name;\n            p.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(loginPlayer.posX, loginPlayer.posY);\n            p.type = loginPlayer.type;\n            p.rot = loginPlayer.rot;\n            p.status = loginPlayer.status;\n            p.team = loginPlayer.team;\n            p.ranking = ranking;\n            p.health = 1;\n            p.energy = 1;\n            p.level = loginPlayer.level;\n            p.powerUps = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).upgradesToPowerUps(loginPlayer.upgrades) || new (0, $eead5056872c678a$export$5258e3695c6fefc5)();\n            s.addPlayer(p);\n        }\n    }\n}\n\n\n\n\n\nclass $ec2d8b7b79d81cb2$export$7958b285ecb30ff7 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).MINI_MAP\n        ];\n    }\n    exec(ev) {\n        const data = ev.args;\n        for (const playerMinimapPos of data){\n            const player = this.context.state.getPlayerById(playerMinimapPos.id);\n            if (!player) continue;\n            if (playerMinimapPos.x === 0 && playerMinimapPos.y === 0) {\n                // invisible prowler may not get the correct minimap data,\n                // so ignore this if i'm hidden as a prowler\n                const focusAircraft = this.context.state.getFocusedPlayer();\n                if (focusAircraft && focusAircraft.stealthed) player.status = (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE;\n            } else {\n                const coords = (0, $d5bae74266feebd6$export$1f1fdb6ace8bea22)(playerMinimapPos.x, playerMinimapPos.y);\n                player.posFromMinimap = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(coords);\n            }\n        }\n    }\n}\n\n\n\n\n\nclass $a649d49a981dd9a5$export$5845cc957b77614a {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).MISSILE_UPDATE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        let mob = this.context.state.getMobById(msg.id);\n        if (!mob) {\n            mob = new (0, $adf765773e02547a$export$acd1b67b03820565)();\n            mob.id = msg.id;\n            this.context.state.addMob(mob);\n        }\n        mob.isVisibleOnScreen = true;\n        mob.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        mob.accel = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.accelX, msg.accelY);\n        mob.maxSpeed = msg.maxSpeed;\n        mob.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.speedX, msg.speedY);\n        mob.rot = mob.speed.direction();\n        mob.mobType = msg.type;\n    }\n}\n\n\n\nclass $6dc87a89c877491b$export$d2e9930cf455f08c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).MOB_DESPAWN\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.state.removeMob(msg.id);\n    }\n}\n\n\n\n\nclass $f0b8393968723d69$export$c0a91f80a79788f6 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).MOUNTAIN_HIT\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).EXPLOSION, {\n            pos: new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY),\n            type: msg.type\n        });\n        this.context.state.removeMob(msg.id);\n    }\n}\n\n\n\n\nclass $d7d98d35c0faa128$export$fea50599fc01409f {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_BOOST\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (!player) return;\n        player.boost = msg.boost;\n        player.energy = msg.energy;\n        player.energyRegen = msg.energyRegen;\n        player.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        player.rot = msg.rot;\n        player.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.speedX, msg.speedY);\n    }\n}\n\n\n\n\n\nclass $8e63836e7c46c518$export$d898c164336326dd {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_BOUNCE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (!player) return;\n        const movements = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).keystateToPlayerMovements(msg.keystate);\n        player.setMovements(movements);\n        player.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        player.rot = msg.rot;\n        player.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.speedX, msg.speedY);\n    }\n}\n\n\n\nclass $27cf9cf3dff130c8$export$70a617cba837381c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_CHANGE_FLAG\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (p) p.flag = msg.flag;\n    }\n}\n\n\n\n\n\nclass $f5320996be1a6592$export$beaf5bc61b4858a3 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_FIRE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (!player) return;\n        player.energy = msg.energy;\n        player.energyRegen = msg.energyRegen;\n        for (const missile of msg.projectiles){\n            const mob = new (0, $adf765773e02547a$export$acd1b67b03820565)();\n            mob.id = missile.id;\n            mob.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.posX, missile.posY);\n            mob.accel = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.accelX, missile.accelY);\n            mob.maxSpeed = missile.maxSpeed;\n            mob.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.speedX, missile.speedY);\n            mob.mobType = missile.type;\n            mob.ownerId = msg.id;\n            mob.rot = mob.speed.direction();\n            mob.team = player.team;\n            this.context.state.addMob(mob);\n        }\n    }\n}\n\n\n\n\nclass $7f286ffdf5de55fc$export$c3f91a347532312c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_HIT\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).EXPLOSION, {\n            pos: new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY),\n            type: msg.type\n        });\n        for (const who of msg.players){\n            const player = this.context.state.getPlayerById(who.id);\n            if (!player) continue;\n            player.health = who.health;\n            player.healthRegen = who.healthRegen;\n        }\n        this.context.state.removeMob(msg.id);\n    }\n}\n\n\n\n\nclass $2da9357579056d37$export$bfdd021ee70e0754 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_KILLED\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (p) p.status = (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE;\n    }\n}\n\n\n\nclass $f80704f7cc52c647$export$4d292aecdc95915f {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_LEAVE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.state.removePlayer(msg.id);\n    }\n}\n\n\n\n\nclass $ea554d88cfeedeee$export$3e4e3511032a11ab {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_LEVEL\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (p) {\n            p.level = msg.level;\n            if (msg.type === (0, $87b45d444a9d6cc7$export$b46071ccfafa6f3d).LEVELUP && msg.id === this.context.state.id) this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER, {\n                message: `You have reached level ${p.level}!`\n            });\n        }\n    }\n}\n\n\n\n\n\n\n\nclass $bbb45b630755c660$export$69e04bbaca85ddb3 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_NEW\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = new (0, $b6a2d44aa9791d0e$export$2616165974278734)();\n        p.id = msg.id;\n        p.flag = msg.flag;\n        p.name = msg.name;\n        p.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        p.type = msg.type;\n        p.rot = msg.rot;\n        p.status = msg.status;\n        p.team = msg.team;\n        p.energy = 1;\n        p.health = 1;\n        p.powerUps = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).upgradesToPowerUps(msg.upgrades) || new (0, $eead5056872c678a$export$5258e3695c6fefc5)();\n        this.context.state.addPlayer(p);\n    }\n}\n\n\n\n\n\nclass $25d613a83ba03cd5$export$15ad0fd328c6f45f {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_POWERUP\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getFocusedPlayer();\n        if (player) {\n            player.hasShield = msg.type === (0, $87b45d444a9d6cc7$export$91e7ecb6780caa5e).SHIELD;\n            player.hasInferno = msg.type === (0, $87b45d444a9d6cc7$export$91e7ecb6780caa5e).INFERNO;\n            player.shieldOrInfernoTimer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)(msg.duration);\n        }\n    }\n}\n\n\n\n\n\nclass $9b3d10c87568acf7$export$c988119c861e542e {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_REPEL\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (player) {\n            player.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n            player.rot = msg.rot;\n            player.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.speedX, msg.speedY);\n            player.energyRegen = msg.energyRegen;\n            player.energy = msg.energy;\n        }\n        for (const repelledPlayer of msg.players){\n            const p = this.context.state.getPlayerById(repelledPlayer.id);\n            if (!p) continue;\n            const movements = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).keystateToPlayerMovements(repelledPlayer.keystate);\n            p.setMovements(movements);\n            p.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(repelledPlayer.posX, repelledPlayer.posY);\n            p.rot = repelledPlayer.rot;\n            p.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(repelledPlayer.speedX, repelledPlayer.speedY);\n            p.energyRegen = repelledPlayer.energyRegen;\n            p.energy = repelledPlayer.energy;\n            p.health = repelledPlayer.playerHealth;\n            p.healthRegen = repelledPlayer.playerHealthRegen;\n        }\n        for (const missile of msg.mobs){\n            const mob = this.context.state.getMobById(missile.id);\n            if (!mob) continue;\n            mob.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.posX, missile.posY);\n            mob.accel = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.accelX, missile.accelY);\n            mob.maxSpeed = missile.maxSpeed;\n            mob.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.speedX, missile.speedY);\n            mob.rot = mob.speed.direction();\n            mob.mobType = missile.type;\n            mob.ownerId = msg.id;\n            mob.team = player.team;\n        }\n    }\n}\n\n\n\n\n\n\n\nclass $2d0ef53fd2504491$export$8ea528941535e4c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_RESPAWN\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (!p) return;\n        p.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        p.rot = msg.rot;\n        p.powerUps = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).upgradesToPowerUps(msg.upgrades) || new (0, $eead5056872c678a$export$5258e3695c6fefc5)();\n        p.status = (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).ALIVE;\n        p.health = 1;\n        p.energy = 1;\n        if (msg.id === this.context.state.myPlayerId) {\n            const wasSpectating = !!this.context.state.spectatingId;\n            if (wasSpectating) {\n                this.context.state.spectatingId = null;\n                this.context.state.id = this.context.state.myPlayerId;\n            }\n        }\n    }\n}\n\n\n\nclass $a9b7bfb0626d3bcc$export$cbe3f35926a9221e {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_SPECTATE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (!p) return;\n        this.context.state.spectatingId = msg.id;\n    }\n}\n\n\n\nclass $fb756e7a5dff9891$export$552aa09374207b0c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_STEALTH\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (!player) return;\n        player.stealthed = msg.state;\n        player.energy = msg.energy;\n        player.energyRegen = msg.energyRegen;\n    }\n}\n\n\n\nclass $bea32aa4231249f7$export$8d56994814bcf118 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_SWITCH_TYPE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const p = this.context.state.getPlayerById(msg.id);\n        if (p) p.type = msg.type;\n    }\n}\n\n\n\n\n\n\n\nclass $a8079fb2acd89e54$export$11e4ce01fccd8fec {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_UPDATE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (!player) return;\n        player.isVisibleOnScreen = true;\n        const movements = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).keystateToPlayerMovements(msg.keystate);\n        player.setMovements(movements);\n        const powerUps = (0, $30fae0f4ca680a25$export$f9de6ca0bc043724).upgradesToPowerUps(msg.upgrades);\n        player.powerUps = powerUps || new (0, $eead5056872c678a$export$5258e3695c6fefc5)();\n        player.upgrades = player.upgrades || new (0, $4133c675cdad3d12$export$f8aa58de3e528e10)();\n        player.upgrades.speed = player.powerUps.speed || 0;\n        player.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.posX, msg.posY);\n        player.rot = msg.rot;\n        player.speed = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(msg.speedX, msg.speedY);\n    }\n}\n\n\n\n\nclass $74e806647c813a90$export$7f0b08775df8d7fb {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_UPGRADE_APPLIED\n        ];\n    }\n    exec(ev) {\n        const player = this.context.state.getFocusedPlayer();\n        if (!player) return;\n        if (!player.upgrades) player.upgrades = new (0, $4133c675cdad3d12$export$f8aa58de3e528e10)();\n        const msg = ev.args;\n        const u = player.upgrades;\n        u.available = msg.upgrades;\n        u.defense = msg.defense;\n        u.energy = msg.energy;\n        u.missile = msg.missile;\n        u.speed = msg.speed;\n    }\n}\n\n\n\nclass $13c7f18c1410cbf8$export$c5115ec7ccd55b07 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SCORE_BOARD\n        ];\n    }\n    exec(ev) {\n        const data = ev.args;\n        let ranking = 0;\n        for (const playerScore of data){\n            ranking++;\n            const player = this.context.state.getPlayerById(playerScore.id);\n            if (!player) continue;\n            player.score = playerScore.score;\n            player.level = playerScore.level;\n            player.ranking = ranking;\n        }\n    }\n}\n\n\n\nclass $fb4d2b66386f23a2$export$3e74a27329e57bb1 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SCORE_DETAILED\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        if (msg.ffaScores) for (const playerScore of msg.ffaScores){\n            const player = this.context.state.getPlayerById(playerScore.id);\n            if (!player) continue;\n            player.score = playerScore.score;\n            player.level = playerScore.level;\n            player.kills = playerScore.kills;\n            player.deaths = playerScore.deaths;\n            player.damage = playerScore.damage;\n            player.ping = playerScore.ping;\n        }\n        else if (msg.ctfScores) for (const playerScore of msg.ctfScores){\n            const player = this.context.state.getPlayerById(playerScore.id);\n            if (!player) continue;\n            player.score = playerScore.score;\n            player.level = playerScore.level;\n            player.kills = playerScore.kills;\n            player.deaths = playerScore.deaths;\n            player.damage = playerScore.damage;\n            player.ping = playerScore.ping;\n            player.captures = playerScore.captures;\n        }\n    }\n}\n\n\n\n\nclass $a910483a07a94a3a$export$bc609f4bf45c2115 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SCORE_UPDATE\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        const player = this.context.state.getPlayerById(msg.id);\n        if (player) {\n            player.score = msg.score;\n            player.kills = msg.totalkills;\n            player.deaths = msg.totaldeaths;\n            if (!player.upgrades) player.upgrades = new (0, $4133c675cdad3d12$export$f8aa58de3e528e10)();\n            player.upgrades.available = msg.upgrades;\n        }\n    }\n}\n\n\n\nclass $02b46e28b08674ad$export$58ee7786790aca8d {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ANNOUNCEMENT\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.logger.info(\"Server message: \" + msg.text);\n    }\n}\n\n\n\nclass $8a892c33dc7036f0$export$d539ea555dfed31e {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_COMMAND_REPLY,\n            (0, $9968c76574ffabad$export$ada873a34909da65).CHAT_NOT_POSSIBLE_BC_MUTED\n        ];\n    }\n    exec(ev) {\n        if (ev.type === (0, $9968c76574ffabad$export$ada873a34909da65).CHAT_NOT_POSSIBLE_BC_MUTED) this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER, {\n            message: \"You have been muted.\"\n        });\n        else {\n            const msg = ev.args;\n            if (msg.text === \"Don't spam!\") this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SPAM_WARING_RECEIVED, {});\n            this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER, {\n                message: msg.text\n            });\n        }\n    }\n}\n\n\n\n\nclass $4905700ae2b83259$export$18eaed6a4a83b967 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_CUSTOM\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        if (msg.type === (0, $87b45d444a9d6cc7$export$92da91fbfb7b66aa).CTF) {\n            const data = JSON.parse(msg.data);\n            this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CTF_GAME_OVER, data);\n        }\n    }\n}\n\n\n\nclass $2f03cb659e83805a$export$95ba2b88ba93531b {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ERROR\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.logger.error(\"Server reports error: \" + msg.error);\n    }\n}\n\n\n\nclass $f1db6ebdfb52ea93$export$1022856bf78f6588 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TEAMS\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        for (const p of msg.players){\n            if (p.id === this.context.state.myPlayerId) this.context.state.team = p.team;\n            const player = this.context.state.getPlayerById(p.id);\n            if (!player) continue;\n            player.team = p.team;\n        }\n    }\n}\n\n\nclass $5aa44addb5d309de$export$1c97c34345443340 {\n    static getDefaultHandlers(context) {\n        return [\n            // server messages\n            new (0, $94fa898554ce7217$export$9f88de082db26157)(context),\n            new (0, $2446cc6c84060fde$export$d62895eb8d0b916a)(context),\n            new (0, $fdd7de1257b9b446$export$a01bcde5e6e021e8)(context),\n            new (0, $d0b0b7eb832266ba$export$db3f084f2c8a3b67)(context),\n            new (0, $ec2d8b7b79d81cb2$export$7958b285ecb30ff7)(context),\n            new (0, $a649d49a981dd9a5$export$5845cc957b77614a)(context),\n            new (0, $6dc87a89c877491b$export$d2e9930cf455f08c)(context),\n            new (0, $f0b8393968723d69$export$c0a91f80a79788f6)(context),\n            new (0, $d7d98d35c0faa128$export$fea50599fc01409f)(context),\n            new (0, $8e63836e7c46c518$export$d898c164336326dd)(context),\n            new (0, $27cf9cf3dff130c8$export$70a617cba837381c)(context),\n            new (0, $f5320996be1a6592$export$beaf5bc61b4858a3)(context),\n            new (0, $7f286ffdf5de55fc$export$c3f91a347532312c)(context),\n            new (0, $2da9357579056d37$export$bfdd021ee70e0754)(context),\n            new (0, $f80704f7cc52c647$export$4d292aecdc95915f)(context),\n            new (0, $ea554d88cfeedeee$export$3e4e3511032a11ab)(context),\n            new (0, $bbb45b630755c660$export$69e04bbaca85ddb3)(context),\n            new (0, $25d613a83ba03cd5$export$15ad0fd328c6f45f)(context),\n            new (0, $9b3d10c87568acf7$export$c988119c861e542e)(context),\n            new (0, $2d0ef53fd2504491$export$8ea528941535e4c)(context),\n            new (0, $a9b7bfb0626d3bcc$export$cbe3f35926a9221e)(context),\n            new (0, $fb756e7a5dff9891$export$552aa09374207b0c)(context),\n            new (0, $bea32aa4231249f7$export$8d56994814bcf118)(context),\n            new (0, $a8079fb2acd89e54$export$11e4ce01fccd8fec)(context),\n            new (0, $74e806647c813a90$export$7f0b08775df8d7fb)(context),\n            new (0, $8a892c33dc7036f0$export$d539ea555dfed31e)(context),\n            new (0, $4905700ae2b83259$export$18eaed6a4a83b967)(context),\n            new (0, $2f03cb659e83805a$export$95ba2b88ba93531b)(context),\n            new (0, $5fa40ec87f9b6d27$export$648b05ad0bbad899)(context),\n            new (0, $02b46e28b08674ad$export$58ee7786790aca8d)(context),\n            new (0, $13c7f18c1410cbf8$export$c5115ec7ccd55b07)(context),\n            new (0, $fb4d2b66386f23a2$export$3e74a27329e57bb1)(context),\n            new (0, $a910483a07a94a3a$export$bc609f4bf45c2115)(context),\n            new (0, $f1db6ebdfb52ea93$export$1022856bf78f6588)(context),\n            // maintenance\n            new (0, $bdf85e9274c899ea$export$be4b57d101c7dae0)(context),\n            new (0, $c9d1dabe486c787f$export$3fe2f0ec2f7baf97)(context),\n            // client input\n            new (0, $88bf5f73dfa5b57a$export$940315a71f02c017)(context),\n            new (0, $918741f7904e4de8$export$e6367b8bc557b579)(context)\n        ];\n    }\n}\n\n\nclass $60e13f38b92dc041$export$c72f6eaae7b9adff {\n    constructor(){\n        this.websocketUrl = \"wss://game.airmash.cc/ffa\";\n        this.playerName = \"Unknown\";\n        this.horizonX = 2000;\n        this.horizonY = 2000;\n        this.flag = \"jolly\";\n        this.logLevel = \"info\";\n        this.isDevelopment = false;\n        this.zoom = 0.8;\n        this.useBitmaps = true;\n        this.shouldShowDebugInfo = false;\n    }\n} /*\r\ndata: \"[{\"name\":\"Europe\",\"id\":\"eu\",\"games\":[{\"type\":\"1\",\"id\":\"ffa1\",\"name\":\"Free For All #1\",\"nameShort\":\"FFA #1\",\"host\":\"eu.airmash.online\",\"path\":\"ffa\",\"players\":8,\"bots\":5},{\"type\":\"2\",\"id\":\"ctf1\",\"name\":\"Capture The Flag #1\",\"nameShort\":\"CTF #1\",\"host\":\"dev.airbattle.xyz\",\"path\":\"ctf\",\"players\":12,\"bots\":12},{\"type\":\"3\",\"id\":\"btr1\",\"name\":\"Battle Royale #1\",\"nameShort\":\"BTR #1\",\"host\":\"eu.airmash.online\",\"path\":\"btr\",\"players\":1}]},{\"name\":\"US\",\"id\":\"us\",\"games\":[{\"type\":\"1\",\"id\":\"ffa1\",\"name\":\"Free For All #1\",\"nameShort\":\"FFA #1\",\"host\":\"game.airmash.cc\",\"path\":\"ffa\",\"players\":0},{\"type\":\"1\",\"id\":\"ffa2\",\"name\":\"Free For All #2\",\"nameShort\":\"FFA #2\",\"host\":\"ffa.herrmash.com\",\"path\":\"ffa\",\"players\":13,\"bots\":5},{\"type\":\"2\",\"id\":\"ctf1\",\"name\":\"Capture The Flag #1\",\"nameShort\":\"CTF #1\",\"host\":\"game.airmash.cc\",\"path\":\"ctf\",\"players\":0},{\"type\":\"2\",\"id\":\"ctf2\",\"name\":\"Capture The Flag #2\",\"nameShort\":\"CTF #2\",\"host\":\"ctf.herrmash.com\",\"path\":\"ctf\",\"players\":12,\"bots\":12},{\"type\":\"3\",\"id\":\"btr1\",\"name\":\"Battle Royale #1\",\"nameShort\":\"BTR #1\",\"host\":\"us.airmash.online\",\"path\":\"btr\",\"players\":0}]}]\"\r\n*/ \n\n\n\nclass $30bd2ca140c9a447$export$53c071335e90c4fd {\n}\n\n\nconst $5d431779d34d0e11$var$MISSILES = [\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).PREDATOR_MISSILE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).GOLIATH_MISSILE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).COPTER_MISSILE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_MISSILE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).TORNADO_SMALL_MISSILE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).PROWLER_MISSILE\n];\nconst $5d431779d34d0e11$var$CRATES = [\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).UPGRADE,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).SHIELD,\n    (0, $87b45d444a9d6cc7$export$696edb37a517566d).INFERNO\n];\nclass $5d431779d34d0e11$export$7254cc27399e90bd {\n    constructor(){\n        // random debug info\n        this.skippedFrames = 0;\n        this.players = {};\n        this.mobs = {};\n        this.teams = {};\n        this.explosions = [];\n        this.farts = [];\n        this.kills = [];\n        this.rocketTrailClouds = [];\n        this.teams[(0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE] = new (0, $30bd2ca140c9a447$export$53c071335e90c4fd)();\n        this.teams[(0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED] = new (0, $30bd2ca140c9a447$export$53c071335e90c4fd)();\n    }\n    addPlayer(p) {\n        this.players[Number(p.id)] = p;\n    }\n    removePlayer(id) {\n        delete this.players[Number(id)];\n    }\n    // get the player that has the focus. Mostly the player himself.\n    // In case of spectating, this returns the player being spectated.\n    getFocusedPlayer() {\n        return this.getPlayerById(this.id);\n    }\n    getPlayerById(id) {\n        return this.players[Number(id)];\n    }\n    getPlayerByName(name) {\n        return this.getPlayers().find((x)=>x.name === name);\n    }\n    getPlayers() {\n        return Object.values(this.players);\n    }\n    getPlayerName(id) {\n        if (!id) return \"(empty)\";\n        const p = this.getPlayerById(id);\n        if (!p) return id + \"_(left)\";\n        return p.name;\n    }\n    addMob(m) {\n        this.mobs[Number(m.id)] = m;\n    }\n    removeMob(id) {\n        delete this.mobs[Number(id)];\n    }\n    getMobById(id) {\n        return this.mobs[Number(id)];\n    }\n    getMissiles() {\n        const allMobs = Object.values(this.mobs);\n        return allMobs.filter((m)=>$5d431779d34d0e11$var$MISSILES.indexOf(m.mobType) !== -1);\n    }\n    getUpcrates() {\n        const allMobs = Object.values(this.mobs);\n        return allMobs.filter((m)=>$5d431779d34d0e11$var$CRATES.indexOf(m.mobType) !== -1);\n    }\n    getCtfTeam(team) {\n        return this.teams[team];\n    }\n    getOtherCtfTeam(team) {\n        const otherTeam = team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE ? (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED : (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE;\n        return this.teams[otherTeam];\n    }\n    purgeAfterPanic() {\n        // purge any fancy stuff, so the panic doesn't get worse: this prevents\n        // rendering explosions from long ago.\n        this.explosions.splice(0);\n        this.kills.splice(0);\n        this.rocketTrailClouds.splice(0);\n    }\n    addExplosion(expl) {\n        this.explosions.push(expl);\n    }\n    // get only active explosions, also purges the collection of inactive explosions\n    getActiveExplosions() {\n        const activeExplosions = this.explosions.filter((e)=>!e.isFinished);\n        this.explosions = activeExplosions;\n        return activeExplosions;\n    }\n    addKill(kill) {\n        this.kills.push(kill);\n    }\n    // get only active kill visuals, also purges the collection of inactive kills\n    getActiveKills() {\n        const activeKills = this.kills.filter((e)=>!e.isFinished);\n        this.kills = activeKills;\n        return activeKills;\n    }\n    addFart(fart) {\n        this.farts.push(fart);\n    }\n    // get only active fart visuals, also purges the collection of inactive farts\n    getActiveFarts() {\n        const activeFarts = this.farts.filter((e)=>!e.isFinished);\n        this.farts = activeFarts;\n        return activeFarts;\n    }\n    addRocketTrailCloud(cloud) {\n        this.rocketTrailClouds.push(cloud);\n    }\n    getActiveRocketTrailClouds() {\n        const activeClouds = this.rocketTrailClouds.filter((e)=>!e.isFinished);\n        this.rocketTrailClouds = activeClouds;\n        return activeClouds;\n    }\n}\n\n\nclass $01459c8a440766ec$export$7a3ed086e5f6e799 {\n    setTimeout(action, ms) {\n        const id = setTimeout(()=>{\n            this.onTimeoutFinished(id);\n            action();\n        }, ms);\n        this.timeouts.push(id);\n        return id;\n    }\n    setInterval(action, ms) {\n        const id = setInterval(()=>action(), ms);\n        this.intervals.push(id);\n        return id;\n    }\n    clearTimeout(id) {\n        clearTimeout(id);\n        this.onTimeoutFinished(id);\n    }\n    clearInterval(id) {\n        clearInterval(id);\n        this.onIntervalCleared(id);\n    }\n    clearAll() {\n        for (const t of this.timeouts)clearTimeout(t);\n        for (const i of this.intervals)clearInterval(i);\n        this.timeouts = [];\n        this.intervals = [];\n    }\n    onTimeoutFinished(id) {\n        this.timeouts = this.timeouts.filter((x)=>x !== id);\n    }\n    onIntervalCleared(id) {\n        this.intervals = this.intervals.filter((x)=>x !== id);\n    }\n    constructor(){\n        this.timeouts = [];\n        this.intervals = [];\n    }\n}\n\n\n\n\n\n\n\n\n\n\nclass $94d961d1016672f2$export$99f1242aa3690c5d {\n    constructor(key, state){\n        this.key = key;\n        this.state = state;\n        this.lastPressed = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n}\n\n\nconst $2678f6b020b306a6$var$KEY_THROTTLE_MS = 50;\nclass $2678f6b020b306a6$export$98b66c25bb38499d {\n    constructor(context){\n        this.context = context;\n        this.keySequenceNumber = 0;\n        this.lagMs = 0;\n        this.lastReceivedMessages = {};\n        this.lastReceivedMessagesGcStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.lastSentKeyStates = [];\n    }\n    async init() {\n        this.client = await this.initWebSocket(true);\n        await this.onInitPrimary();\n    }\n    sendKey(key, state) {\n        let cache = this.lastSentKeyStates.find((x)=>x.key === key && x.state === state);\n        if (cache) {\n            if (cache.lastPressed.elapsedMs < $2678f6b020b306a6$var$KEY_THROTTLE_MS) // don't send to prevent flooding\n            return;\n        } else {\n            cache = new (0, $94d961d1016672f2$export$99f1242aa3690c5d)(key, state);\n            this.lastSentKeyStates.push(cache);\n        }\n        // allow the key, and reset the stopwatch\n        cache.lastPressed.start();\n        this.keySequenceNumber++;\n        const msg = {\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).KEY,\n            key: key,\n            seq: this.keySequenceNumber,\n            state: state\n        };\n        this.send(msg);\n        if (this.backupClientIsConnected) this.send(msg, true);\n    }\n    sendCommand(command, params) {\n        const msg = {\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).COMMAND,\n            com: command,\n            data: params\n        };\n        this.send(msg);\n    }\n    voteMute(playerId) {\n        const msg = {\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).VOTEMUTE,\n            id: playerId\n        };\n        this.send(msg);\n    }\n    fetchDetailedScore() {\n        this.send({\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).SCOREDETAILED\n        });\n    }\n    sendChat(type, text, targetPlayerID = null) {\n        let c;\n        switch(type){\n            case (0, $75d2662fce9f31ac$export$d1763b2f7574d334).CHAT:\n                c = (0, $18e45e7867169046$export$2e2bcd8739ae039).CHAT;\n                break;\n            case (0, $75d2662fce9f31ac$export$d1763b2f7574d334).SAY:\n                c = (0, $18e45e7867169046$export$2e2bcd8739ae039).SAY;\n                break;\n            case (0, $75d2662fce9f31ac$export$d1763b2f7574d334).TEAM:\n                c = (0, $18e45e7867169046$export$2e2bcd8739ae039).TEAMCHAT;\n                break;\n            case (0, $75d2662fce9f31ac$export$d1763b2f7574d334).WHISPER:\n                c = (0, $18e45e7867169046$export$2e2bcd8739ae039).WHISPER;\n                break;\n        }\n        const msg = {\n            c: c,\n            id: targetPlayerID,\n            text: text\n        };\n        this.send(msg);\n    }\n    sendScreenSize(width, height) {\n        this.send({\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).HORIZON,\n            horizonX: Math.ceil(width / 2),\n            horizonY: Math.ceil(height / 2)\n        });\n    }\n    getLagMs() {\n        return this.lagMs;\n    }\n    onInitPrimary() {\n        return new Promise((resolve, reject)=>{\n            this.loginPromiseResolver = resolve;\n            this.context.logger.debug(\"Primary socket connecting\");\n            let thirdPartyLogin = \"none\";\n            if (this.context.auth) thirdPartyLogin = JSON.stringify({\n                token: this.context.auth.tokens.game\n            });\n            this.send({\n                c: (0, $18e45e7867169046$export$2e2bcd8739ae039).LOGIN,\n                flag: this.context.settings.flag,\n                horizonX: Math.ceil(this.context.settings.horizonX),\n                horizonY: Math.ceil(this.context.settings.horizonY),\n                name: this.context.settings.playerName,\n                protocol: 5,\n                session: thirdPartyLogin\n            });\n        });\n    }\n    async afterLogin(msg) {\n        // send regular ack messages to keep the connection alive\n        if (this.ackInterval) this.context.tm.clearInterval(this.ackInterval);\n        this.ackInterval = this.context.tm.setInterval(()=>{\n            this.send({\n                c: (0, $18e45e7867169046$export$2e2bcd8739ae039).ACK\n            }, this.ackToBackup);\n            this.ackToBackup = !this.ackToBackup;\n        }, 1000); // original airmash has 50ms, but wights server has a 10 second ack timeout. So.\n        const token = msg.token;\n        if (this.backupClientIsConnected) {\n            this.backupClient.close();\n            this.backupClientIsConnected = false;\n        }\n        this.backupClient = await this.initWebSocket(false);\n        this.onInitBackup(token);\n        // send start info to game\n        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_MESSAGE, msg);\n        // return from the await in init()\n        this.loginPromiseResolver();\n    }\n    resetCalibration(newTime) {\n        this.serverClockCalibrationTimeResetStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.serverClockCalibrationTime = newTime;\n        this.lagMs = 0;\n    }\n    onInitBackup(token) {\n        this.context.logger.debug(\"Backup socket connecting\");\n        this.backupClientIsConnected = true;\n        this.send({\n            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).BACKUP,\n            token: token\n        }, true);\n    }\n    initWebSocket(isPrimary) {\n        return new Promise((resolve, reject)=>{\n            const ws = this.context.webSocketFactory.create(this.context.settings.websocketUrl);\n            ws.binaryType = \"arraybuffer\";\n            ws.onopen = ()=>resolve(ws);\n            ws.onmessage = (msg)=>{\n                try {\n                    const result = $c6f1544c12e7055a$export$f0d21d16879ad2a0(msg.data);\n                    if (!result) {\n                        this.context.logger.warn(\"no result\", msg);\n                        return;\n                    }\n                    if (this.shouldDropMessage(result)) return;\n                    this.calibrateTime(result);\n                    // handle a few meta messages directly\n                    if (result.c === (0, $1c411432bfef9709$export$2e2bcd8739ae039).PING) {\n                        const pingResult = result;\n                        this.send({\n                            c: (0, $18e45e7867169046$export$2e2bcd8739ae039).PONG,\n                            num: pingResult.num\n                        }, !isPrimary);\n                    } else if (result.c === (0, $1c411432bfef9709$export$2e2bcd8739ae039).BACKUP) {\n                        this.context.logger.debug(\"backup client connected\");\n                        this.backupClientIsConnected = true;\n                    } else if (result.c === (0, $1c411432bfef9709$export$2e2bcd8739ae039).LOGIN) this.afterLogin(result);\n                    else if (result.c === (0, $1c411432bfef9709$export$2e2bcd8739ae039).PING_RESULT) {\n                        const pingResultResult = result;\n                        this.context.state.ping = pingResultResult.ping;\n                        this.context.state.numPlayers = pingResultResult.playersgame;\n                        this.context.state.numPlayersTotal = pingResultResult.playerstotal;\n                    } else // let most messages be handled by a subscriber\n                    this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_MESSAGE, result);\n                } catch (error) {\n                    this.context.logger.error(\"Error receiving message\", error);\n                }\n            };\n            ws.onerror = (ev)=>{\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CONNECTION_ERROR, ev);\n            };\n            ws.onclose = ()=>{\n                this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CONNECTION_CLOSE, {\n                    isPrimary: isPrimary\n                });\n            };\n            return ws;\n        });\n    }\n    calibrateTime(msg) {\n        if (!msg.clock) return;\n        const currentServerClock = msg.clock / 100;\n        const shouldResetCalibration = !this.serverClockCalibrationTimeResetStopwatch || this.serverClockCalibrationTimeResetStopwatch.elapsedMinutes > 5;\n        if (shouldResetCalibration) {\n            this.resetCalibration(currentServerClock);\n            return;\n        }\n        if (currentServerClock < this.lastServerClock) // only evaluate messages arriving in the right order\n        return;\n        this.lastServerClock = currentServerClock;\n        const elapsedOnServer = currentServerClock - this.serverClockCalibrationTime;\n        const elapsedHere = this.serverClockCalibrationTimeResetStopwatch.elapsedMs;\n        // if a message arrives that has an elapsedtime of 10 ms,\n        // while our local elapsedtime is at 20 ms, we have a 10-ms delay in receiving the messages\n        // this will be compensated by extrapolating this in the eventqueue\n        const diffInMs = elapsedHere - elapsedOnServer;\n        this.lagMs = diffInMs;\n    }\n    shouldDropMessage(msg) {\n        if (!msg.id || !msg.clock || msg.id !== this.context.state.id) return false;\n        // do GC\n        if (this.lastReceivedMessagesGcStopwatch.elapsedSeconds > 5) {\n            for (const existingKey of Object.keys(this.lastReceivedMessages))if (this.lastReceivedMessages[existingKey].elapsedSeconds > 1) delete this.lastReceivedMessages[existingKey];\n        }\n        const key = `${msg.c}_${msg.clock}`;\n        if (this.lastReceivedMessages[key]) return true;\n        this.lastReceivedMessages[key] = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        return false;\n    }\n    send(msg, sendToBackup = false) {\n        const clientMgs = $8b72c93c7e6c3a89$export$97bc324abc99862e(msg);\n        if (sendToBackup) {\n            if (this.backupClientIsConnected) this.backupClient.send(clientMgs);\n        } else if (this.client) this.client.send(clientMgs);\n    }\n}\n\n\nclass $869c996441bfa57f$export$219f39b771ed4b6 {\n}\n\n\nclass $83ea097b3d8b02b5$export$2fc6338444a158e6 {\n    pub(ev, args) {\n        const msg = new (0, $869c996441bfa57f$export$219f39b771ed4b6)();\n        msg.type = ev;\n        msg.args = args;\n        this.queue.push(msg);\n    }\n    dequeue() {\n        return this.queue.shift();\n    }\n    constructor(){\n        this.queue = [];\n    }\n}\n\n\n\nclass $522acc80766a1de1$export$694fff7a1fdd2092 {\n    constructor(context){\n        this.context = context;\n    }\n    clearKeys() {\n        const me = this.context.state.getFocusedPlayer();\n        if (!me) return;\n        // send key-up for all keys\n        if (me.keystate.DOWN) this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).DOWN, false);\n        if (me.keystate.UP) this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).UP, false);\n        if (me.keystate.LEFT) this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).LEFT, false);\n        if (me.keystate.RIGHT) this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).RIGHT, false);\n        this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL, false);\n        this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).FIRE, false);\n    }\n}\n\n\nvar $666bc8f27f76152a$exports = {};\n(function(global, factory) {\n    $666bc8f27f76152a$exports = factory();\n})($666bc8f27f76152a$exports, function() {\n    'use strict';\n    /* eslint-disable no-var */ function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)target[key] = source[key];\n        }\n        return target;\n    }\n    /* eslint-enable no-var */ /* eslint-disable no-var */ var defaultConverter = {\n        read: function(value) {\n            if (value[0] === '\"') value = value.slice(1, -1);\n            return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n        },\n        write: function(value) {\n            return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n        }\n    };\n    /* eslint-enable no-var */ /* eslint-disable no-var */ function init(converter, defaultAttributes) {\n        function set(key, value, attributes) {\n            if (typeof document === 'undefined') return;\n            attributes = assign({}, defaultAttributes, attributes);\n            if (typeof attributes.expires === 'number') attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n            if (attributes.expires) attributes.expires = attributes.expires.toUTCString();\n            key = encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);\n            var stringifiedAttributes = '';\n            for(var attributeName in attributes){\n                if (!attributes[attributeName]) continue;\n                stringifiedAttributes += '; ' + attributeName;\n                if (attributes[attributeName] === true) continue;\n                // Considers RFC 6265 section 5.2:\n                // ...\n                // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n                //     character:\n                // Consume the characters of the unparsed-attributes up to,\n                // not including, the first %x3B (\";\") character.\n                // ...\n                stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n            }\n            return document.cookie = key + '=' + converter.write(value, key) + stringifiedAttributes;\n        }\n        function get(key) {\n            if (typeof document === 'undefined' || arguments.length && !key) return;\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all.\n            var cookies = document.cookie ? document.cookie.split('; ') : [];\n            var jar = {};\n            for(var i = 0; i < cookies.length; i++){\n                var parts = cookies[i].split('=');\n                var value = parts.slice(1).join('=');\n                try {\n                    var foundKey = decodeURIComponent(parts[0]);\n                    jar[foundKey] = converter.read(value, foundKey);\n                    if (key === foundKey) break;\n                } catch (e) {}\n            }\n            return key ? jar[key] : jar;\n        }\n        return Object.create({\n            set: set,\n            get: get,\n            remove: function(key, attributes) {\n                set(key, '', assign({}, attributes, {\n                    expires: -1\n                }));\n            },\n            withAttributes: function(attributes) {\n                return init(this.converter, assign({}, this.attributes, attributes));\n            },\n            withConverter: function(converter) {\n                return init(assign({}, this.converter, converter), this.attributes);\n            }\n        }, {\n            attributes: {\n                value: Object.freeze(defaultAttributes)\n            },\n            converter: {\n                value: Object.freeze(converter)\n            }\n        });\n    }\n    var api = init(defaultConverter, {\n        path: '/'\n    });\n    /* eslint-enable no-var */ return api;\n});\n\n\n\n\nclass $5f638201e24c3bf1$export$669c6859c790e38f {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_CHANGE_FLAG\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        if (msg.id !== this.context.state.id) return;\n        const flag = (0, $f956132f61210f83$export$66d1dac76b8287de)[\"\" + msg.flag];\n        (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).set(\"flag\", flag, {\n            expires: 365\n        });\n    }\n}\n\n\n\nclass $3f0b29c9b9b818dd$export$475e1b6ebd5909d3 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).CHAT_RECEIVED,\n            (0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER\n        ];\n    }\n    exec(ev) {\n        if (ev.type === (0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER) {\n            const msg = ev.args;\n            this.context.renderer.addMessageToPlayer(msg.message);\n        } else {\n            const chat = ev.args;\n            const player = this.context.state.getPlayerName(chat.playerId);\n            this.context.renderer.addChat(chat.playerId, player, chat.chatType, chat.chatMessage, chat.to);\n        }\n    }\n}\n\n\n\n\nclass $107c71edb2e354cd$export$85d64bac6bfa9f17 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).CTF_GAME_OVER\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        this.context.renderer.showServerMessage((0, $87b45d444a9d6cc7$export$42a822ee93e68ea).INFO, 5000, `Game over!<br/>The ${msg.w === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE ? \"blue\" : \"red\"} team has won!`);\n    }\n}\n\n\n\nclass $df691a74ed020c82$export$c1d8b1ebee9937a {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).EACH_SECOND\n        ];\n    }\n    exec(ev) {\n        if (!this.context.isBrowserVisible) return;\n        this.context.renderer.renderMinimap();\n        this.context.renderer.renderPlayerList();\n        this.context.renderer.showPing();\n        this.context.renderer.showStats();\n        this.context.renderer.hideServerMessageAfterTimeout();\n    // removed for now per issue #29 (https://github.com/spatiebot/ab-client/issues/29)\n    // this.context.connection.fetchDetailedScore();\n    }\n}\n\n\n\n\nconst $c2b3a6644f6f2e6b$var$EXPLOSION_TIMEOUT_MS = 500;\nconst $c2b3a6644f6f2e6b$var$EXPLOSION_MAX_SIZE = 60;\nconst $c2b3a6644f6f2e6b$var$EXPLOSION_GROW_PER_MS = $c2b3a6644f6f2e6b$var$EXPLOSION_MAX_SIZE / $c2b3a6644f6f2e6b$var$EXPLOSION_TIMEOUT_MS;\nclass $c2b3a6644f6f2e6b$export$35efb21eaadd6441 {\n    get isFinished() {\n        return this.stopwatch.elapsedMs > $c2b3a6644f6f2e6b$var$EXPLOSION_TIMEOUT_MS;\n    }\n    get size() {\n        return this.stopwatch.elapsedMs * $c2b3a6644f6f2e6b$var$EXPLOSION_GROW_PER_MS;\n    }\n    constructor(){\n        this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n}\n\n\nclass $b305ac19c5b8613b$export$6f5bdb10fc1e8bcf {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).EXPLOSION\n        ];\n    }\n    exec(ev) {\n        if (!this.context.isBrowserVisible) return;\n        const expl = ev.args;\n        const explosion = new (0, $c2b3a6644f6f2e6b$export$35efb21eaadd6441)();\n        explosion.pos = expl.pos;\n        explosion.type = expl.type;\n        this.context.state.addExplosion(explosion);\n    }\n}\n\n\n\nclass $967dee051c5605c1$export$5aeec621b3135ec8 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n    }\n    exec(ev) {\n        if (!this.context.isBrowserVisible) return;\n        const msg = ev.args;\n        const isFirstTick = msg.frame === 1;\n        window.requestAnimationFrame(()=>this.context.renderer.renderGame(isFirstTick));\n    }\n}\n\n\n\n\nconst $cbdec2e48cbf91e1$var$FART_TIMEOUT_MS = 150;\nconst $cbdec2e48cbf91e1$var$FART_MAX_SIZE = 140;\nconst $cbdec2e48cbf91e1$var$FART_START_SIZE = 120;\nconst $cbdec2e48cbf91e1$var$FART_GROW_PER_MS = ($cbdec2e48cbf91e1$var$FART_MAX_SIZE - $cbdec2e48cbf91e1$var$FART_START_SIZE) / $cbdec2e48cbf91e1$var$FART_TIMEOUT_MS;\nclass $cbdec2e48cbf91e1$export$bdcfafbed8199542 {\n    get isFinished() {\n        return this.stopwatch.elapsedMs > $cbdec2e48cbf91e1$var$FART_TIMEOUT_MS;\n    }\n    get size() {\n        return $cbdec2e48cbf91e1$var$FART_START_SIZE + this.stopwatch.elapsedMs * $cbdec2e48cbf91e1$var$FART_GROW_PER_MS;\n    }\n    constructor(){\n        this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n}\n\n\nclass $efe7aa38ca456f2f$export$3c77209166e9f341 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_REPEL\n        ];\n    }\n    exec(ev) {\n        const repel = ev.args;\n        const fartVisual = new (0, $cbdec2e48cbf91e1$export$bdcfafbed8199542)();\n        fartVisual.player = this.context.state.getPlayerById(repel.id);\n        this.context.state.addFart(fartVisual);\n    }\n}\n\n\n\n\nconst $e695c6d3a339f041$var$KILL_TIMEOUT_MS = 500;\nconst $e695c6d3a339f041$var$KILL_MAX_SIZE = 60;\nconst $e695c6d3a339f041$var$KILL_GROW_PER_MS = $e695c6d3a339f041$var$KILL_MAX_SIZE / $e695c6d3a339f041$var$KILL_TIMEOUT_MS;\nclass $e695c6d3a339f041$export$5cf19a33bad8e376 {\n    get isFinished() {\n        return this.stopwatch.elapsedMs > $e695c6d3a339f041$var$KILL_TIMEOUT_MS;\n    }\n    get size() {\n        return this.stopwatch.elapsedMs * $e695c6d3a339f041$var$KILL_GROW_PER_MS;\n    }\n    constructor(){\n        this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n}\n\n\n\nclass $2b19eb4d00b066ef$export$7844237461c8aa85 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_KILLED\n        ];\n    }\n    exec(ev) {\n        const kill = ev.args;\n        const killVisual = new (0, $e695c6d3a339f041$export$5cf19a33bad8e376)();\n        killVisual.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(kill.posX, kill.posY);\n        this.context.state.addKill(killVisual);\n    }\n}\n\n\n\n\n\nclass $b8fd685ca765a2a3$export$53bfe0fb2c2b1f07 {\n    constructor(spec){\n        this.spec = spec;\n        this.stopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n    }\n    get isFinished() {\n        return this.stopwatch.elapsedMs > this.spec.cloudTimeoutMs;\n    }\n    get opacity() {\n        if (this.stopwatch.elapsedMs < this.spec.cloudGrowMs) // growing\n        return this.stopwatch.elapsedMs * this.spec.opacityGrowStep;\n        // shrinking\n        return Math.max(0, this.spec.opacityMax - this.stopwatch.elapsedMs * this.spec.opacityShrinkStep);\n    }\n    get size() {\n        if (this.stopwatch.elapsedMs < this.spec.cloudGrowMs) // growing\n        return this.spec.sizeStart + this.stopwatch.elapsedMs * this.spec.sizeGrowStep;\n        // shrinking\n        return Math.max(0, this.spec.sizeMax - this.spec.sizeShrinkStep * this.stopwatch.elapsedMs);\n    }\n}\n\n\n\nconst $96b6e4bbf12390cd$var$specs = {};\nclass $96b6e4bbf12390cd$export$c77fe7292020956a {\n    static getFor(type) {\n        if (!$96b6e4bbf12390cd$var$specs[type]) $96b6e4bbf12390cd$var$specs[type] = new $96b6e4bbf12390cd$export$c77fe7292020956a(type);\n        return $96b6e4bbf12390cd$var$specs[type];\n    }\n    constructor(type){\n        this.opacityMax = 0.22;\n        const scale = 1 + ((0, $c114b7c070aa477c$export$54b64fe98c3ef41a)[type].damage - 0.3) / 1.8;\n        this.cloudTimeoutMs = 800 * scale;\n        this.cloudGrowMs = 200 * scale;\n        this.opacityGrowStep = this.opacityMax / this.cloudGrowMs;\n        this.opacityShrinkStep = this.opacityMax / (this.cloudTimeoutMs - this.cloudGrowMs);\n        this.sizeStart = 5 * scale;\n        this.sizeMax = 15 * scale;\n        this.sizeShrinkStep = this.sizeMax / (this.cloudTimeoutMs - this.cloudGrowMs);\n        this.sizeGrowStep = (this.sizeMax - this.sizeStart) / this.cloudGrowMs;\n        this.spawnFreq = Math.ceil(2 * scale * 1.2);\n        this.distribBandwidth = Math.ceil(3 * scale);\n    }\n}\n\n\n\nclass $49a8accf75f9ad17$export$80b0c53878a17868 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n    }\n    exec(ev) {\n        if (!this.context.isBrowserVisible) return;\n        const tick = ev.args;\n        for (const missile of this.context.state.getMissiles()){\n            const cloudVisualSpec = (0, $96b6e4bbf12390cd$export$c77fe7292020956a).getFor(missile.mobType);\n            if (tick.frame % cloudVisualSpec.spawnFreq === 0) {\n                const cloud = new (0, $b8fd685ca765a2a3$export$53bfe0fb2c2b1f07)(cloudVisualSpec);\n                cloud.pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(missile.pos);\n                const maxSpeed = (0, $c114b7c070aa477c$export$54b64fe98c3ef41a)[missile.mobType].maxSpeed;\n                const jumpX = missile.speed.y / maxSpeed * cloudVisualSpec.distribBandwidth;\n                const jumpY = missile.speed.x / maxSpeed * cloudVisualSpec.distribBandwidth;\n                cloud.pos.x += tick.frame % (cloudVisualSpec.spawnFreq * 2) === 0 ? -jumpX : jumpX;\n                cloud.pos.y += tick.frame % (cloudVisualSpec.spawnFreq * 2) === 0 ? jumpY : -jumpY;\n                this.context.state.addRocketTrailCloud(cloud);\n            }\n        }\n    }\n}\n\n\n\n\n\nclass $b24ad1d080064890$export$c339d1be4f8ccc8c {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ANNOUNCEMENT,\n            (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ERROR\n        ];\n    }\n    exec(ev) {\n        let msg;\n        if (ev.type === (0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ANNOUNCEMENT) msg = ev.args;\n        else {\n            const error = ev.args;\n            msg = {\n                type: (0, $87b45d444a9d6cc7$export$42a822ee93e68ea).ALERT,\n                duration: 4000\n            };\n            switch(error.error){\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).ACCOUNT_BANNED:\n                    msg.text = \"Account is banned\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).AFK_DISCONNECT:\n                    msg.text = \"Disconnected, away too long.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).ALREADY_LOGGED_IN:\n                    msg.text = \"You are already logged in.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).CHAT_SPAMMING:\n                    msg.text = \"Don't spam!\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).FLAG_CHANGE_TOO_FAST:\n                    msg.text = \"Wait before changing your flag.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).FORBIDDEN_TO_CHANGE_PLANE_IN_BTR:\n                    msg.text = \"Can't change aircraft in BTR.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).GLOBAL_BAN:\n                    msg.text = \"You have been banned.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).INCORRECT_PROTOCOL:\n                    msg.text = \"Your client uses an incorrect protocol version.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).INVALID_LOGIN_DATA:\n                    msg.text = \"Invalid login data.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).NOT_ENOUGH_UPGRADES:\n                    msg.text = \"Not enough upgrades\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).PACKET_FLOODING_BAN:\n                    msg.text = \"Banned for packet flooding.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).PACKET_FLOODING_DISCONNECT:\n                    msg.text = \"Disconnected for packet flooding.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).PLAYER_KICKED:\n                    msg.text = \"You have been kicked.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN:\n                    msg.text = \"Two seconds of inactivity and full health required to respawn.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE:\n                    msg.text = \"Two seconds of inactivity and full health required to spectate.\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).UNKNOWN_COMMAND:\n                    msg.text = \"Unknown command\";\n                    break;\n                case (0, $87b45d444a9d6cc7$export$e9ee844dcc7f0271).UNKNOWN_ERROR:\n                    msg.text = \"Unknown error\";\n                    break;\n            }\n        }\n        this.context.renderer.showServerMessage(msg.type, msg.duration, msg.text);\n        // also show server messages in the chat.\n        const div = document.createElement(\"div\");\n        div.innerHTML = msg.text;\n        msg.text = div.innerText; // remove html elements\n        this.context.renderer.addChat(null, \"Server\", (0, $75d2662fce9f31ac$export$d1763b2f7574d334).CHAT, msg.text, null);\n    }\n}\n\n\n\n\nconst $1d69ee043a1b2d46$var$KILL_MSG_DURATION_MS = 1000;\nclass $1d69ee043a1b2d46$export$a6a698d3755b38ea {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_KILLED\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        if (!msg.killer) // spectate or switching aircraft\n        return;\n        let text = \"\";\n        if (msg.killer === this.context.state.id) text = `You have destroyed ${this.context.state.getPlayerName(msg.id)}`;\n        else if (msg.id === this.context.state.id) {\n            text = `Destroyed by ${this.context.state.getPlayerName(msg.killer)}`;\n            this.context.renderer.renderKill();\n        }\n        if (text) this.context.renderer.showServerMessage((0, $87b45d444a9d6cc7$export$42a822ee93e68ea).INFO, $1d69ee043a1b2d46$var$KILL_MSG_DURATION_MS, text);\n    }\n}\n\n\n\nclass $eb9d75dfdd8bcf6d$export$debf6dbafc38d822 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).PLAYER_HIT\n        ];\n    }\n    exec(ev) {\n        const msg = ev.args;\n        if (msg.players.find((x)=>x.id === this.context.state.id)) this.context.renderer.renderHit();\n    }\n}\n\n\n\nclass $bf23c47bbc5287c8$export$2d4fc1947ee0ef49 {\n    constructor(context){\n        this.context = context;\n    }\n    detectVisibilityChange() {\n        let hidden;\n        let visibilityChange;\n        if (typeof document.hidden !== \"undefined\") {\n            hidden = \"hidden\";\n            visibilityChange = \"visibilitychange\";\n        } else if (typeof document.msHidden !== \"undefined\") {\n            hidden = \"msHidden\";\n            visibilityChange = \"msvisibilitychange\";\n        } else if (typeof document.webkitHidden !== \"undefined\") {\n            hidden = \"webkitHidden\";\n            visibilityChange = \"webkitvisibilitychange\";\n        }\n        const handleVisibilityChange = ()=>{\n            const isVisible = !document[hidden];\n            // this can't be published to the eventqueue, because the tick interval won't fire\n            // if the browserwindow isn't visible (in most browsers).\n            this.context.setBrowserVisibility(isVisible);\n        };\n        document.addEventListener(visibilityChange, handleVisibilityChange, false);\n        // set initial value\n        this.context.isBrowserVisible = !document[hidden];\n    }\n    throttleZoom() {\n        // throttle Ctrl+Scroll to prevent flooding\n        const zoomThrottleStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        document.getElementById(\"root\").addEventListener(\"wheel\", (e)=>{\n            if (e.ctrlKey) {\n                if (zoomThrottleStopwatch.elapsedSeconds < 1) {\n                    e.preventDefault();\n                    return;\n                }\n                zoomThrottleStopwatch.start();\n            }\n        });\n    }\n}\n\n\nclass $45c0f08d71a09fb6$export$f7a7c196f3347cb6 {\n    debug(msg, ...args) {\n        if (window.debug) this.log(msg, ...args);\n    }\n    info(msg, ...args) {\n        this.log(msg, ...args);\n    }\n    warn(msg, ...args) {\n        this.log(msg, ...args);\n    }\n    error(msg, ...args) {\n        this.log(msg, ...args);\n    }\n    fatal(msg, ...args) {\n        this.log(msg, ...args);\n    }\n    log(msg, ...args) {\n        // tslint:disable-next-line: no-console\n        console.log(msg, ...args);\n    }\n}\n\n\nclass $388004d7e0733cf6$export$1fc7b7aa89fe6430 {\n    create(url) {\n        return new WebSocket(url);\n    }\n}\n\n\n\n\n\n\n\nconst $a0ff52c2bc39c2e1$var$SHAKE_MARGIN = 20;\nconst $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_CSS = `-${$a0ff52c2bc39c2e1$var$SHAKE_MARGIN}px`;\nconst $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_DOUBLE = $a0ff52c2bc39c2e1$var$SHAKE_MARGIN * 2;\nclass $a0ff52c2bc39c2e1$export$c0979c0656c7edae {\n    constructor(context){\n        this.context = context;\n    }\n    setClip(canvas) {\n        // add margin of 25 on each side to allow for shaking\n        canvas.width = window.innerWidth + $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_DOUBLE;\n        canvas.height = window.innerHeight + $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_DOUBLE;\n        canvas.style.left = $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_CSS;\n        canvas.style.top = $a0ff52c2bc39c2e1$var$SHAKE_MARGIN_CSS;\n        const zoom = this.context.settings.zoom;\n        if (this.lastWidth !== canvas.width || this.lastHeight !== canvas.height) {\n            const screenSizeX = canvas.width / zoom;\n            const screenSizeY = canvas.height / zoom;\n            this.context.connection.sendScreenSize(screenSizeX, screenSizeY);\n            this.lastWidth = canvas.width;\n            this.lastHeight = canvas.height;\n            // this is for sending the correct initial values\n            this.context.settings.horizonX = screenSizeX / 2;\n            this.context.settings.horizonY = screenSizeY / 2;\n        }\n        const myPos = this.context.state.getFocusedPlayer().pos;\n        const halfWidth = canvas.width / zoom / 2;\n        const halfHeight = canvas.height / zoom / 2;\n        this.clipRectangle = [\n            new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(myPos.x - halfWidth, myPos.y - halfHeight),\n            new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(myPos.x + halfWidth, myPos.y + halfHeight)\n        ];\n        this.zoom = zoom;\n    }\n    isVisible(pos) {\n        return this.clipRectangle[0].x < pos.x && this.clipRectangle[1].x > pos.x && this.clipRectangle[0].y < pos.y && this.clipRectangle[1].y > pos.y;\n    }\n    translate(pos) {\n        return new (0, $ca9820f5036d37f5$export$88719fa01a501de5)((pos.x - this.clipRectangle[0].x) * this.zoom, (pos.y - this.clipRectangle[0].y) * this.zoom);\n    }\n    scale(x) {\n        return x * this.zoom;\n    }\n    getClipRectangle() {\n        // make a copy to prevent altering\n        return [\n            new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(this.clipRectangle[0]),\n            new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(this.clipRectangle[1])\n        ];\n    }\n    getClipSize() {\n        return new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(this.lastWidth, this.lastHeight);\n    }\n}\n\n\n\n\nconst $85dbc8b8658f9f46$var$GRID_DISTANCE = 100;\n// the background image is 4x too small for performance reasons\nconst $85dbc8b8658f9f46$var$MAP_SCALE = .25;\nclass $85dbc8b8658f9f46$export$93fe6a6199f696cb {\n    constructor(clip, context){\n        this.clip = clip;\n        this.context = context;\n        this.backgroundImage = document.getElementById(\"map\");\n    }\n    renderBackground(context) {\n        const clipRect = this.clip.getClipRectangle();\n        // draw background if using bitmaps only\n        if (this.context.settings.useBitmaps) {\n            const clipSize = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(clipRect[1].x - clipRect[0].x, clipRect[1].y - clipRect[0].y);\n            context.drawImage(this.backgroundImage, ((0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).WIDTH / 2 + clipRect[0].x) * $85dbc8b8658f9f46$var$MAP_SCALE, ((0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT / 2 + clipRect[0].y) * $85dbc8b8658f9f46$var$MAP_SCALE, clipSize.x * $85dbc8b8658f9f46$var$MAP_SCALE, clipSize.y * $85dbc8b8658f9f46$var$MAP_SCALE, 0, 0, this.clip.scale(clipSize.x), this.clip.scale(clipSize.y));\n        }\n        // draw a grid\n        context.fillStyle = constants.BACKGROUND_GRID_COLOR;\n        const gridDistance = this.clip.scale($85dbc8b8658f9f46$var$GRID_DISTANCE);\n        for(let y = clipRect[0].y - clipRect[0].y % gridDistance; y < clipRect[1].y; y += gridDistance)for(let x = clipRect[0].x - clipRect[0].x % gridDistance; x < clipRect[1].x; x += gridDistance){\n            const pos = this.clip.translate(new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(x, y));\n            context.fillRect(pos.x, pos.y, 1, 1);\n        }\n    }\n}\n\n\nclass $ccaa89f0ff8dda92$export$874de3a4c08b1e3c {\n    constructor(context){\n        this.context = context;\n        this.debugPanel = document.getElementById(\"debugPanel\");\n    }\n    render() {\n        if (!this.context.settings.shouldShowDebugInfo) return;\n        const lag = this.context.connection.getLagMs();\n        const lagText = lag.toLocaleString(\"en-us\", {\n            maximumFractionDigits: 2,\n            minimumFractionDigits: 2\n        });\n        const skippedFramesText = this.context.state.skippedFrames.toString();\n        this.debugPanel.innerHTML = `Lag: ${lagText}\\nSkipped frames: ${skippedFramesText}\\n` + `My id: ${this.context.state.id}\\n` + `GameType: ${this.context.gameType}`;\n    }\n}\n\n\nclass $f1e7e6e56a469954$export$18323953f4cd5fe9 {\n    constructor(context, clip){\n        this.context = context;\n        this.clip = clip;\n    }\n    renderExplosions(context) {\n        context.fillStyle = constants.EFFECTS_EXPLOSION_COLOR;\n        for (const explosion of this.context.state.getActiveExplosions()){\n            const pos = explosion.pos;\n            if (!pos) continue;\n            if (this.clip.isVisible(pos)) {\n                const clipPos = this.clip.translate(pos);\n                context.beginPath();\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(explosion.size), 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n        // kills\n        context.fillStyle = constants.EFFECTS_KILL_COLOR;\n        for (const kill of this.context.state.getActiveKills()){\n            const pos = kill.pos;\n            if (!pos) continue;\n            if (this.clip.isVisible(pos)) {\n                const clipPos = this.clip.translate(pos);\n                context.beginPath();\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(kill.size), 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n        // farts\n        context.fillStyle = constants.EFFECTS_FART_COLOR;\n        for (const fart of this.context.state.getActiveFarts()){\n            if (!fart.player) continue;\n            const pos = fart.player.pos;\n            if (!pos) continue;\n            if (this.clip.isVisible(pos)) {\n                const clipPos = this.clip.translate(pos);\n                context.beginPath();\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(fart.size), 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n        // missile clouds\n        for (const cloud of this.context.state.getActiveRocketTrailClouds()){\n            const pos = cloud.pos;\n            if (!pos) continue;\n            if (this.clip.isVisible(pos)) {\n                const opacity = cloud.opacity;\n                if (opacity === 0) continue;\n                context.fillStyle = `rgba(${constants.EFFECTS_MISSILE_BASE_COLOR}, ${opacity})`;\n                const clipPos = this.clip.translate(pos);\n                context.beginPath();\n                const cloudSize = this.clip.scale(cloud.size);\n                context.arc(clipPos.x, clipPos.y, cloudSize, 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n    }\n}\n\n\nconst $6c828cc0e99890b6$export$94c011cc3650170c = {\n    blue: {\n        x: -9670,\n        y: -1470\n    },\n    red: {\n        x: 8600,\n        y: -940\n    }\n};\n\n\n\n\nconst $6a2e7908822773d5$var$CTF_BASE_SIZE = 120;\nconst $6a2e7908822773d5$var$CTF_BASE_HALF_SIZE = $6a2e7908822773d5$var$CTF_BASE_SIZE / 2;\nconst $6a2e7908822773d5$var$CTF_BASE_LINE_WIDTH = 8;\nclass $6a2e7908822773d5$export$7c38ebd1f7ca6a5a {\n    constructor(context, clip){\n        this.context = context;\n        this.clip = clip;\n        this.blueFlag = document.getElementById(\"blue-flag\");\n        this.redFlag = document.getElementById(\"red-flag\");\n    }\n    render(ctx) {\n        const redTeam = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED);\n        const blueTeam = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE);\n        this.renderFlag(redTeam, this.redFlag, ctx);\n        this.renderFlag(blueTeam, this.blueFlag, ctx);\n        this.renderBase(ctx, (0, $6c828cc0e99890b6$export$94c011cc3650170c).blue, constants.CTF_BLUE_TEAM_COLOR);\n        this.renderBase(ctx, (0, $6c828cc0e99890b6$export$94c011cc3650170c).red, constants.CTF_RED_TEAM_COLOR);\n    }\n    renderBase(ctx, pos, color) {\n        const leftUpper = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(pos.x - $6a2e7908822773d5$var$CTF_BASE_HALF_SIZE, pos.y - $6a2e7908822773d5$var$CTF_BASE_HALF_SIZE);\n        const rightBottom = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(pos.x + $6a2e7908822773d5$var$CTF_BASE_HALF_SIZE, pos.y + $6a2e7908822773d5$var$CTF_BASE_HALF_SIZE);\n        if (!this.clip.isVisible(leftUpper) && !this.clip.isVisible(rightBottom)) return;\n        const scaledBasePos = this.clip.translate(pos);\n        const scaledBaseSize = this.clip.scale($6a2e7908822773d5$var$CTF_BASE_SIZE);\n        const halfBaseSize = scaledBaseSize / 2;\n        ctx.strokeStyle = color;\n        ctx.lineWidth = this.clip.scale($6a2e7908822773d5$var$CTF_BASE_LINE_WIDTH);\n        ctx.lineJoin = \"round\";\n        ctx.strokeRect(scaledBasePos.x - halfBaseSize, scaledBasePos.y - halfBaseSize, scaledBaseSize, scaledBaseSize);\n    }\n    renderFlag(team, flag, ctx) {\n        let pos = team.flagPos;\n        if (!pos) return;\n        let isFlagVisible;\n        let isFlagBeingCarried = false;\n        if (team.flagState === (0, $87b45d444a9d6cc7$export$dc70d30ea27a9c84).DYNAMIC) {\n            // flag is on the move\n            const carrier = this.context.state.getPlayerById(team.flagTakenById);\n            if (carrier) {\n                pos = carrier.mostReliablePos;\n                isFlagVisible = carrier.isVisibleOnScreen && this.clip.isVisible(pos);\n                isFlagBeingCarried = true;\n            }\n        } else isFlagVisible = this.clip.isVisible(pos);\n        if (isFlagVisible) {\n            const clippedFlagPos = this.clip.translate(pos);\n            const scaledWidth = this.clip.scale(flag.width);\n            const scaledHeight = this.clip.scale(flag.height);\n            ctx.drawImage(flag, 0, 0, flag.width, flag.height, clippedFlagPos.x - scaledWidth / 2 + (isFlagBeingCarried ? scaledWidth / 2 : 0), clippedFlagPos.y - scaledHeight / 2 - (isFlagBeingCarried ? scaledHeight / 2 : 0), scaledWidth, scaledHeight);\n        }\n    }\n}\n\n\n\n\n\nconst $088ca4e4a37a500d$var$MARKER_SIZE = 3;\nconst $088ca4e4a37a500d$var$MY_RECT_WIDTH = 15;\nconst $088ca4e4a37a500d$var$MY_RECT_HEIGHT = 10;\nconst $088ca4e4a37a500d$var$HALF_MAP_WIDTH = (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).WIDTH / 2;\nconst $088ca4e4a37a500d$var$HALF_MAP_HEIGHT = (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT / 2;\nconst $088ca4e4a37a500d$var$CTF_BASE_SIZE = 4;\nconst $088ca4e4a37a500d$var$CTF_FLAG_SIZE = 10;\nconst $088ca4e4a37a500d$var$HIGHLIGH_SIZE = 2 * $088ca4e4a37a500d$var$MARKER_SIZE;\nclass $088ca4e4a37a500d$export$25dfd1a564ba016f {\n    constructor(context){\n        this.context = context;\n        this.canvas = document.getElementById(\"minimap-canvas\");\n        this.canvasContext = this.canvas.getContext(\"2d\");\n        this.blueFlag = document.getElementById(\"blue-flag\");\n        this.redFlag = document.getElementById(\"red-flag\");\n    }\n    highlight(playerId) {\n        this.playerToHighlight = playerId;\n    }\n    render() {\n        this.canvasContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        const scaleX = this.canvas.width / (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).WIDTH;\n        const scaleY = this.canvas.height / (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT;\n        const myId = this.context.state.id;\n        for (const player of this.context.state.getPlayers()){\n            if (player.status === (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE) continue;\n            const pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)((player.mostReliablePos.x + $088ca4e4a37a500d$var$HALF_MAP_WIDTH) * scaleX, (player.mostReliablePos.y + $088ca4e4a37a500d$var$HALF_MAP_HEIGHT) * scaleY);\n            if (player.id === myId) {\n                this.canvasContext.strokeStyle = constants.MINIMAP_HIGHLIGHT_COLOR;\n                this.canvasContext.strokeRect(pos.x - $088ca4e4a37a500d$var$MY_RECT_WIDTH / 2, pos.y - $088ca4e4a37a500d$var$MY_RECT_HEIGHT / 2, $088ca4e4a37a500d$var$MY_RECT_WIDTH, $088ca4e4a37a500d$var$MY_RECT_HEIGHT);\n            } else {\n                let fillStyle = constants.MINIMAP_FFA_PLAYER_COLOR;\n                if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE) fillStyle = constants.CTF_BLUE_TEAM_COLOR;\n                else if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED) fillStyle = constants.CTF_RED_TEAM_COLOR;\n                switch(player.ranking){\n                    case 1:\n                        fillStyle = constants.MINIMAP_PLAYER_1_COLOR;\n                        break;\n                    case 2:\n                        fillStyle = constants.MINIMAP_PLAYER_2_COLOR;\n                        break;\n                    case 3:\n                        fillStyle = constants.MINIMAP_PLAYER_3_COLOR;\n                        break;\n                }\n                this.canvasContext.fillStyle = fillStyle;\n                this.canvasContext.beginPath();\n                this.canvasContext.arc(pos.x, pos.y, $088ca4e4a37a500d$var$MARKER_SIZE, 0, 2 * Math.PI);\n                this.canvasContext.fill();\n                if (player.id === this.playerToHighlight) {\n                    this.canvasContext.strokeStyle = constants.MINIMAP_HIGHLIGHT_COLOR;\n                    this.canvasContext.beginPath();\n                    this.canvasContext.arc(pos.x, pos.y, $088ca4e4a37a500d$var$HIGHLIGH_SIZE, 0, 2 * Math.PI);\n                    this.canvasContext.stroke();\n                }\n            }\n        }\n        if (this.context.gameType === (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF) {\n            const redTeam = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED);\n            const blueTeam = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE);\n            this.renderFlag(redTeam, this.redFlag, this.canvasContext, (0, $6c828cc0e99890b6$export$94c011cc3650170c).red, constants.CTF_RED_TEAM_COLOR);\n            this.renderFlag(blueTeam, this.blueFlag, this.canvasContext, (0, $6c828cc0e99890b6$export$94c011cc3650170c).blue, constants.CTF_BLUE_TEAM_COLOR);\n        }\n    }\n    renderFlag(team, flag, ctx, basePos, color) {\n        let pos = team.flagPos;\n        if (!pos) return;\n        if (team.flagState === (0, $87b45d444a9d6cc7$export$dc70d30ea27a9c84).DYNAMIC) {\n            // flag is on the move\n            const carrier = this.context.state.getPlayerById(team.flagTakenById);\n            if (carrier) pos = carrier.mostReliablePos;\n        }\n        const scaleX = this.canvas.width / (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).WIDTH;\n        const scaleY = this.canvas.height / (0, $87b45d444a9d6cc7$export$fdf35536e9a0700c).HEIGHT;\n        const scaledPos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)((pos.x + $088ca4e4a37a500d$var$HALF_MAP_WIDTH) * scaleX, (pos.y + $088ca4e4a37a500d$var$HALF_MAP_HEIGHT) * scaleY);\n        const ctfFlagHeight = $088ca4e4a37a500d$var$CTF_FLAG_SIZE / flag.width * flag.height;\n        ctx.drawImage(flag, 0, 0, flag.width, flag.height, scaledPos.x - $088ca4e4a37a500d$var$CTF_FLAG_SIZE / 2, scaledPos.y - ctfFlagHeight / 2, $088ca4e4a37a500d$var$CTF_FLAG_SIZE, ctfFlagHeight);\n        if (!pos.equals(basePos)) {\n            const scaledBasePos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)((basePos.x + $088ca4e4a37a500d$var$HALF_MAP_WIDTH) * scaleX, (basePos.y + $088ca4e4a37a500d$var$HALF_MAP_HEIGHT) * scaleY);\n            this.canvasContext.strokeStyle = color;\n            this.canvasContext.strokeRect(scaledBasePos.x - $088ca4e4a37a500d$var$CTF_BASE_SIZE / 2, scaledBasePos.y - $088ca4e4a37a500d$var$CTF_BASE_SIZE / 2, $088ca4e4a37a500d$var$CTF_BASE_SIZE, $088ca4e4a37a500d$var$CTF_BASE_SIZE);\n        }\n    }\n}\n\n\n\n\nconst $a778820b52fc3fb6$var$MISSILE_IMAGE_BASE_SCALE = 1;\nclass $a778820b52fc3fb6$export$c7649bc6c14cc54c {\n    constructor(context, clip){\n        this.context = context;\n        this.clip = clip;\n        this.missileImage = document.getElementById(\"missile\");\n    }\n    renderMissiles(context) {\n        context.fillStyle = constants.MISSILE_COLOR;\n        for (const missile of this.context.state.getMissiles()){\n            const pos = missile.pos;\n            if (!pos) continue;\n            if (!this.clip.isVisible(pos)) continue;\n            const clipPos = this.clip.translate(pos);\n            const missileScale = 1 + ((0, $c114b7c070aa477c$export$54b64fe98c3ef41a)[missile.mobType].damage - 0.3) / 1.8;\n            if (this.context.settings.useBitmaps) {\n                context.translate(clipPos.x, clipPos.y);\n                context.rotate(missile.rot);\n                let shouldRestoreAlphs = false;\n                if (this.context.gameType === (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF && missile.team) {\n                    if (missile.team === this.context.state.team && missile.ownerId !== this.context.state.id) {\n                        // show friendly missiles as transparent\n                        context.globalAlpha = 0.4;\n                        shouldRestoreAlphs = true;\n                    }\n                }\n                const targetWidth = this.clip.scale(this.missileImage.width * missileScale * $a778820b52fc3fb6$var$MISSILE_IMAGE_BASE_SCALE);\n                const targetHeight = this.clip.scale(this.missileImage.height * missileScale * $a778820b52fc3fb6$var$MISSILE_IMAGE_BASE_SCALE);\n                context.drawImage(this.missileImage, 0, 0, this.missileImage.width, this.missileImage.height, -targetWidth / 2, -targetHeight / 2, targetWidth, targetHeight);\n                if (shouldRestoreAlphs) context.globalAlpha = 1;\n                context.rotate(-missile.rot);\n                context.translate(-clipPos.x, -clipPos.y);\n            } else {\n                context.beginPath();\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(4 * missileScale), 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n    }\n}\n\n\nclass $f34d2923ac0d5280$export$96efaeec00b6a653 {\n    constructor(clip, context){\n        this.clip = clip;\n        this.context = context;\n    }\n    renderPath(context) {\n        const path = this.context.botstate.path;\n        if (path && path.length > 0) {\n            let count = 0;\n            context.strokeStyle = \"orange\";\n            context.lineWidth = 2;\n            context.beginPath();\n            for (const pos of path){\n                const clipPos = this.clip.translate(pos);\n                if (count === 0) context.moveTo(clipPos.x, clipPos.y);\n                else context.lineTo(clipPos.x, clipPos.y);\n                context.stroke();\n                if (count === 1) {\n                    context.font = \"16px 'Courier New'\";\n                    context.fillStyle = \"white\";\n                    context.fillText(\"dist: \" + this.context.botstate.distanceToTarget, clipPos.x, clipPos.y);\n                }\n                count++;\n            }\n        }\n    }\n}\n\n\n\nclass $7657f5cb72609293$export$e1a40e859738b26d {\n    constructor(context){\n        this.context = context;\n        this.listElement = document.getElementById(\"player-list\");\n    }\n    render() {\n        const players = this.context.state.getPlayers();\n        players.sort((a, b)=>{\n            const ar = a.ranking || Number.MAX_SAFE_INTEGER;\n            const br = b.ranking || Number.MAX_SAFE_INTEGER;\n            return ar - br;\n        });\n        let rowCount = 0;\n        for (const player of players){\n            if (player.status === (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE && player.name === \"Server\") continue;\n            let row = this.listElement.rows[rowCount];\n            let cellPos;\n            let cellFlag;\n            let cellName;\n            let cellScore;\n            let flagImage;\n            if (row) {\n                cellPos = row.cells[0];\n                cellFlag = row.cells[1];\n                cellName = row.cells[2];\n                cellScore = row.cells[3];\n                flagImage = cellFlag.firstElementChild;\n            } else {\n                row = this.listElement.insertRow();\n                cellPos = row.insertCell();\n                cellPos.className = \"playerlist-pos\";\n                cellFlag = row.insertCell();\n                cellFlag.className = \"playerlist-flag\";\n                cellName = row.insertCell();\n                cellName.className = \"playerlist-name player-name\";\n                cellScore = row.insertCell();\n                cellScore.className = \"playerlist-score\";\n                flagImage = document.createElement(\"img\");\n                flagImage.width = 24;\n                flagImage.height = 24;\n                cellFlag.appendChild(flagImage);\n            }\n            row.className = player.status === (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE ? \"playerlist-player-inactive\" : \"\";\n            if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE) row.className += \" playerlist-team-blue\";\n            else if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED) row.className += \" playerlist-team-red\";\n            const ranking = player.ranking || rowCount;\n            cellPos.innerText = `${ranking}. `;\n            const flag = (0, $f956132f61210f83$export$66d1dac76b8287de)[\"\" + player.flag] || \"JOLLY\";\n            flagImage.src = \"flags/\" + flag + \".png\";\n            if (player.level) cellName.innerText = `${player.name} [${player.level}]`;\n            else cellName.innerText = player.name;\n            cellName.dataset.name = encodeURI(player.name);\n            cellName.dataset.id = player.id.toString();\n            cellScore.innerText = `${player.score}`;\n            rowCount++;\n        }\n        while(this.listElement.rows[rowCount]){\n            const row = this.listElement.rows[rowCount];\n            row.remove();\n        }\n    }\n}\n\n\n\n\n\n\n// health/energy colors\nconst $07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_RADIUS = 75;\nconst $07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_WIDTH = 8;\nconst $07b7249a5d8e4993$var$SHIELD_INFERNO_BARS_WIDTH = 2 * $07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_WIDTH;\nconst $07b7249a5d8e4993$var$SHIELD_INFERNO_RADIUS = $07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_RADIUS - $07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_WIDTH / 2 - $07b7249a5d8e4993$var$SHIELD_INFERNO_BARS_WIDTH / 2;\nconst $07b7249a5d8e4993$var$FLAG_WIDTH = 24;\nconst $07b7249a5d8e4993$var$FLAG_MARGIN_LEFT = 10;\nconst $07b7249a5d8e4993$var$FONT_SIZE = 11;\nconst $07b7249a5d8e4993$var$FLAG_PADDING_TOP = 4; // diff between length and width / 2\nconst $07b7249a5d8e4993$var$SAY_MARGIN = 20;\nconst $07b7249a5d8e4993$var$SAY_HEIGHT = 40;\nconst $07b7249a5d8e4993$var$SAY_DURATION_SECONDS = 5;\nconst $07b7249a5d8e4993$var$SAY_DISTANCE_FROM_AIRCRAFT = 80;\nconst $07b7249a5d8e4993$var$INVISIBLE_PROWLER_BLUR_WIDTH = 10;\nconst $07b7249a5d8e4993$var$PROWLER_RADAR_CIRCLE_RADIUS = 300;\nclass $07b7249a5d8e4993$export$b9132fa03224950b {\n    constructor(context, clip){\n        this.context = context;\n        this.clip = clip;\n        this.flagImages = {};\n        this.saysToSay = [];\n        this.images = {\n            mohawk: document.getElementById(\"mohawk\"),\n            prowler: document.getElementById(\"prowler\"),\n            raptor: document.getElementById(\"raptor\"),\n            spirit: document.getElementById(\"spirit\"),\n            tornado: document.getElementById(\"tornado\")\n        };\n    }\n    addSay(playerId, msg) {\n        this.saysToSay.push({\n            playerId: playerId,\n            msg: msg,\n            sw: new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)()\n        });\n    }\n    renderPlayers(context) {\n        const scaledFontSize = this.clip.scale($07b7249a5d8e4993$var$FONT_SIZE);\n        context.font = scaledFontSize + \"pt 'Tahoma'\";\n        const scaledFlagWidth = this.clip.scale($07b7249a5d8e4993$var$FLAG_WIDTH);\n        const scaledFlagPaddingTop = this.clip.scale($07b7249a5d8e4993$var$FLAG_PADDING_TOP);\n        const scaledFlagMarginLeft = this.clip.scale($07b7249a5d8e4993$var$FLAG_MARGIN_LEFT);\n        if (!this.flagImages.JOLLY) this.initFlagImages();\n        for (const player of this.context.state.getPlayers()){\n            if (player.status === (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).INACTIVE) continue;\n            const pos = player.mostReliablePos;\n            const isInViewPort = pos && this.clip.isVisible(pos);\n            const isInvisiblyInViewPort = isInViewPort && !player.isVisibleOnScreen;\n            const isStealthyInViewPort = isInViewPort && player.stealthed;\n            const isFriendlyPlayer = player.team === this.context.state.team;\n            const isProwler = player.type === (0, $da9f0f51a11e6713$export$aa1d7fff11452d37).PROWLER;\n            const isInvisibleProwler = isProwler && !isFriendlyPlayer && (isInvisiblyInViewPort || isStealthyInViewPort);\n            if (!player.isVisibleOnScreen && !isInvisibleProwler) continue;\n            const clipPos = this.clip.translate(pos);\n            // move & rotate canvas to render the aircraft\n            context.translate(clipPos.x, clipPos.y);\n            if (!isInvisibleProwler) context.rotate(player.rot);\n            else // don't rotate invisible prowlers, because we don't know their rotation\n            // but do blur them to indicate this is prowler radar\n            context.filter = `blur(${$07b7249a5d8e4993$var$INVISIBLE_PROWLER_BLUR_WIDTH}px)`;\n            this.renderAircraft(player, context, isInvisibleProwler);\n            if (!isInvisibleProwler) {\n                // rotate back and render bars\n                context.rotate(-player.rot);\n                this.renderBars(context, player);\n            } else context.filter = \"none\";\n            // draw name + flag\n            this.renderName(player, context, scaledFlagWidth, scaledFlagMarginLeft, scaledFontSize, scaledFlagPaddingTop);\n            // render text bubble\n            this.renderTextBubble(player, context);\n            // restore canvas\n            context.translate(-clipPos.x, -clipPos.y);\n        }\n    }\n    renderTextBubble(player, context) {\n        for (const say of this.saysToSay)if (say.playerId === player.id) {\n            context.fillStyle = constants.PLAYER_SAY_BACKGROUND_COLOR;\n            const textWidth = context.measureText(say.msg).width;\n            const sayLeft = textWidth / 2;\n            const sayTop = -this.clip.scale($07b7249a5d8e4993$var$SAY_DISTANCE_FROM_AIRCRAFT);\n            const sayMargin = this.clip.scale($07b7249a5d8e4993$var$SAY_MARGIN);\n            const sayHeight = this.clip.scale($07b7249a5d8e4993$var$SAY_HEIGHT);\n            context.fillRect(-sayLeft - sayMargin, sayTop - sayMargin, textWidth + sayMargin * 2, sayHeight);\n            context.fillStyle = constants.PLAYER_SAY_FOREGROUND_COLOR;\n            context.fillText(say.msg, -sayLeft, sayTop);\n        }\n        this.saysToSay = this.saysToSay.filter((x)=>x.sw.elapsedSeconds < $07b7249a5d8e4993$var$SAY_DURATION_SECONDS);\n    }\n    renderName(player, context, scaledFlagWidth, scaledFlagMarginLeft, scaledFontSize, scaledFlagPaddingTop) {\n        let nameColor = this.context.settings.useBitmaps ? constants.PLAYER_NAME_COLOR : constants.PLAYER_NAME_NOBITMAP_COLOR;\n        if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE) nameColor = constants.PLAYER_NAME_BLUE_TEAM_COLOR;\n        else if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED) nameColor = constants.PLAYER_NAME_RED_TEAM_COLOR;\n        context.fillStyle = nameColor;\n        let levelPostfix = \"\";\n        if (player.level) levelPostfix = ` [${player.level}]`;\n        const name = `${player.ranking || \"?\"}. ${player.name}${levelPostfix}`;\n        const flagSpace = this.context.settings.useBitmaps ? scaledFlagWidth + scaledFlagMarginLeft : 0;\n        const nameWidth = context.measureText(name).width + flagSpace;\n        const left = -nameWidth / 2;\n        const top = this.clip.scale(70);\n        context.fillText(name, left, top);\n        if (this.context.settings.useBitmaps) {\n            const flag = (0, $f956132f61210f83$export$66d1dac76b8287de)[\"\" + player.flag] || \"JOLLY\";\n            const flagImage = this.flagImages[flag];\n            context.drawImage(flagImage, 0, 0, $07b7249a5d8e4993$var$FLAG_WIDTH, $07b7249a5d8e4993$var$FLAG_WIDTH, left + nameWidth - scaledFlagWidth, top - scaledFlagWidth + scaledFontSize - scaledFlagPaddingTop, scaledFlagWidth, scaledFlagWidth);\n        }\n    // removed for now per issue #29 (https://github.com/spatiebot/ab-client/issues/29)\n    // draw stats\n    // const lineHeight = this.clip.scale(20);\n    // context.fillStyle = constants.PLAYER_STATS_COLOR;\n    // const stats2 = `Score: ${player.score}; ping: ${player.ping || \"?\"} ms`;\n    // context.fillText(stats2, left, top + lineHeight);\n    }\n    renderBars(context, player) {\n        context.strokeStyle = constants.PLAYER_HEALTH_OK_COLOR;\n        if (player.health < 0.3) context.strokeStyle = constants.PLAYER_HEALTH_DANGER_COLOR;\n        else if (player.health < 0.6) context.strokeStyle = constants.PLAYER_HEALTH_WARN_COLOR;\n        const r = this.clip.scale($07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_RADIUS);\n        context.lineWidth = this.clip.scale($07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_WIDTH);\n        context.globalAlpha = player.id === this.context.state.id ? 0.8 : 0.5;\n        context.beginPath();\n        context.arc(0, 0, r, Math.PI, Math.PI + Math.PI * player.health / 2);\n        context.stroke();\n        context.strokeStyle = constants.PLAYER_ENERGY_COLOR;\n        context.beginPath();\n        const energy = Math.max(0.01, player.energy);\n        context.arc(0, 0, r, 0, Math.PI * 2 - Math.PI * energy / 2, true);\n        context.stroke();\n        if (player.powerUps.inferno || player.powerUps.shield) {\n            context.strokeStyle = player.powerUps.shield ? constants.PLAYER_SHIELD_COLOR : constants.PLAYER_INFERNO_COLOR;\n            context.beginPath();\n            const duration = !player.shieldOrInfernoTimer ? 1 : Math.max(0.01, 1 - player.shieldOrInfernoTimer.timeoutFraction);\n            context.lineWidth = this.clip.scale($07b7249a5d8e4993$var$SHIELD_INFERNO_BARS_WIDTH);\n            const shieldR = this.clip.scale($07b7249a5d8e4993$var$SHIELD_INFERNO_RADIUS);\n            context.arc(0, 0, shieldR, Math.PI, Math.PI + Math.PI * duration);\n            context.stroke();\n        }\n        context.globalAlpha = 1;\n    }\n    renderAircraft(player, context, isInvisibleProwler) {\n        const aircraftSpecs = (0, $da9f0f51a11e6713$export$de794ad9b3d6afb7)[player.type];\n        if (isInvisibleProwler) {\n            context.fillStyle = player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE ? constants.PLAYER_NOBITMAP_BLUE_TEAM_PROWLER_COLOR : player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED ? constants.PLAYER_NOBITMAP_RED_TEAM_PROWLER_COLOR : constants.PLAYER_NOBITMAP_PROWLER_COLOR;\n            const r = this.clip.scale($07b7249a5d8e4993$var$PROWLER_RADAR_CIRCLE_RADIUS);\n            context.beginPath();\n            context.arc(0, 0, r, 0, 2 * Math.PI);\n            context.fill();\n        } else if (this.context.settings.useBitmaps) {\n            const image = this.images[aircraftSpecs.name];\n            const imageScale = 1; // used to have larger images before\n            const targetWidth = this.clip.scale(image.width * imageScale);\n            const targetHeight = this.clip.scale(image.height * imageScale);\n            const actionX = targetWidth / 2;\n            const actionY = targetHeight / 2;\n            if (player.stealthed) // make prowler a ghost if stealthed\n            context.globalAlpha = 0.4;\n            context.drawImage(image, 0, 0, image.width, image.height, -actionX, -actionY, targetWidth, targetHeight);\n            context.globalAlpha = 1;\n        } else {\n            if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE) context.fillStyle = player.stealthed ? constants.PLAYER_NOBITMAP_BLUE_TEAM_PROWLER_COLOR : constants.PLAYER_NOBITMAP_BLUE_TEAM_COLOR;\n            else if (player.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED) context.fillStyle = player.stealthed ? constants.PLAYER_NOBITMAP_RED_TEAM_PROWLER_COLOR : constants.PLAYER_NOBITMAP_RED_TEAM_COLOR;\n            else context.fillStyle = player.stealthed ? constants.PLAYER_NOBITMAP_PROWLER_COLOR : constants.PLAYER_NOBITMAP_COLOR;\n            const hitCircles = aircraftSpecs.collisions;\n            for (const hitCircle of hitCircles){\n                const hitCirclePos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(this.clip.scale(hitCircle[0]), this.clip.scale(hitCircle[1]));\n                const r = this.clip.scale(hitCircle[2]);\n                context.beginPath();\n                context.arc(hitCirclePos.x, hitCirclePos.y, r, 0, 2 * Math.PI);\n                context.fill();\n            }\n        }\n    }\n    initFlagImages() {\n        for (const flag of Object.keys((0, $f956132f61210f83$export$c5279c2d460d3a22)))this.flagImages[flag] = document.getElementById(`flag-${flag}`);\n    }\n}\n\n\n\n\n\nclass $0476f79811a227d4$export$1a91dc5172ef13d1 {\n    constructor(context){\n        this.context = context;\n        this.scoreElement = document.getElementById(\"stats-score\");\n        this.upgradesElement = document.getElementById(\"stats-upgrades\");\n        this.killsElement = document.getElementById(\"stats-kills\");\n        this.deathsElement = document.getElementById(\"stats-deaths\");\n        this.upgrSpeedElement = document.getElementById(\"stats-speed\");\n        this.upgrDefenseElement = document.getElementById(\"stats-defense\");\n        this.upgrEnergyElement = document.getElementById(\"stats-energy\");\n        this.upgrMissileElement = document.getElementById(\"stats-missile\");\n        this.ctfInfo = document.getElementById(\"ctf-info\");\n        this.blueScore = document.getElementById(\"blue-score\");\n        this.redScore = document.getElementById(\"red-score\");\n        this.blueFlagLocation = document.getElementById(\"blue-flag-location\");\n        this.redFlagLocation = document.getElementById(\"red-flag-location\");\n    }\n    toString(n) {\n        if (n !== 0 && !n) return \"\";\n        return \"\" + n;\n    }\n    render() {\n        const me = this.context.state.getFocusedPlayer();\n        if (!me) return;\n        this.scoreElement.innerText = this.toString(me.score);\n        this.killsElement.innerText = this.toString(me.kills);\n        this.deathsElement.innerText = this.toString(me.deaths);\n        const upgrades = me.upgrades || new (0, $4133c675cdad3d12$export$f8aa58de3e528e10)();\n        this.upgradesElement.innerText = this.toString(upgrades.available);\n        this.upgrDefenseElement.innerText = this.toString(upgrades.defense);\n        this.upgrEnergyElement.innerText = this.toString(upgrades.energy);\n        this.upgrMissileElement.innerText = this.toString(upgrades.missile);\n        this.upgrSpeedElement.innerText = this.toString(upgrades.speed);\n        // CTF stats\n        if (this.context.gameType === (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF) {\n            if (this.ctfInfo.style.display !== \"block\") this.ctfInfo.style.display = \"block\";\n            const blueInfo = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE);\n            const redInfo = this.context.state.getCtfTeam((0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).RED);\n            const blueScore = blueInfo.score ? blueInfo.score : 0;\n            const redScore = redInfo.score ? redInfo.score : 0;\n            this.blueScore.innerText = this.toString(blueScore);\n            this.redScore.innerText = this.toString(redScore);\n            let blueFlagLocation = \"?\";\n            if (blueInfo.flagState === (0, $87b45d444a9d6cc7$export$dc70d30ea27a9c84).DYNAMIC) {\n                const carrierName = this.context.state.getPlayerName(blueInfo.flagTakenById);\n                blueFlagLocation = `taken by ${carrierName}`;\n            } else if (blueInfo.flagPos.equals((0, $6c828cc0e99890b6$export$94c011cc3650170c).blue)) blueFlagLocation = \"home\";\n            else blueFlagLocation = \"abandoned\";\n            this.blueFlagLocation.innerText = blueFlagLocation;\n            let redFlagLocation = \"?\";\n            if (redInfo.flagState === (0, $87b45d444a9d6cc7$export$dc70d30ea27a9c84).DYNAMIC) {\n                const carrierName = this.context.state.getPlayerName(redInfo.flagTakenById);\n                redFlagLocation = `taken by ${carrierName}`;\n            } else if (redInfo.flagPos.equals((0, $6c828cc0e99890b6$export$94c011cc3650170c).red)) redFlagLocation = \"home\";\n            else redFlagLocation = \"abandoned\";\n            this.redFlagLocation.innerText = redFlagLocation;\n        }\n    }\n}\n\n\n\n\nconst $aefae086674f5c56$var$CRATE_HALF_SIZE = 12;\nconst $aefae086674f5c56$var$CRATE_SIZE = $aefae086674f5c56$var$CRATE_HALF_SIZE * 2;\nconst $aefae086674f5c56$var$CRATE_ROTATION = Math.PI / 4;\nclass $aefae086674f5c56$export$8ea12f09ca9c4b43 {\n    constructor(context, clip){\n        this.context = context;\n        this.clip = clip;\n        this.logger = new (0, $ced59494b384773c$export$1ef0d431ba4bc4d)(context);\n    }\n    renderUpcrates(context) {\n        for (const crate of this.context.state.getUpcrates()){\n            const pos = crate.pos;\n            if (!pos || !this.clip.isVisible(pos)) continue;\n            let fillColor = constants.UPCRATES_UPGRADE_CRATE_COLOR;\n            switch(crate.mobType){\n                case (0, $87b45d444a9d6cc7$export$696edb37a517566d).INFERNO:\n                    fillColor = constants.UPCRATES_RAMPAGE_CRATE_COLOR;\n                    break;\n                case (0, $87b45d444a9d6cc7$export$696edb37a517566d).SHIELD:\n                    fillColor = constants.UPCRATES_SHIELD_CRATE_COLOR;\n                    break;\n            }\n            const clipPos = this.clip.translate(pos);\n            context.translate(clipPos.x, clipPos.y);\n            context.rotate($aefae086674f5c56$var$CRATE_ROTATION);\n            context.beginPath();\n            context.fillStyle = fillColor;\n            const halfSize = this.clip.scale($aefae086674f5c56$var$CRATE_HALF_SIZE);\n            const size = this.clip.scale($aefae086674f5c56$var$CRATE_SIZE);\n            context.rect(-halfSize, -halfSize, size, size);\n            context.fill();\n            context.strokeStyle = constants.UPCRATES_BORDER_COLOR;\n            context.stroke();\n            context.rotate(-$aefae086674f5c56$var$CRATE_ROTATION);\n            context.translate(-clipPos.x, -clipPos.y);\n        }\n    }\n}\n\n\n/* tslint:disable */ /** some stats: the walls have 12 different radii,\r\n * distributed in steps of 12 like this:\r\n * \r\n * radius : number of walls\r\n  '36': 4,\r\n  '48': 24,\r\n  '60': 52,\r\n  '72': 53,\r\n  '84': 62,\r\n  '96': 50,\r\n  '108': 142,\r\n  '120': 77,\r\n  '132': 43,\r\n  '144': 9,\r\n  '156': 2,\r\n  '168': 2\r\n */ const $7982582df104c162$export$538e3d9fdc6b7eea = [\n    [\n        1009,\n        -2308,\n        108\n    ],\n    [\n        1241,\n        -2490,\n        60\n    ],\n    [\n        1157,\n        -2379,\n        84\n    ],\n    [\n        622,\n        -2126,\n        48\n    ],\n    [\n        669,\n        -2187,\n        72\n    ],\n    [\n        -392,\n        -1669,\n        132\n    ],\n    [\n        -273,\n        -1746,\n        60\n    ],\n    [\n        -252,\n        -1504,\n        120\n    ],\n    [\n        1553,\n        -2016,\n        48\n    ],\n    [\n        1637,\n        -1972,\n        60\n    ],\n    [\n        1736,\n        -1922,\n        60\n    ],\n    [\n        2150,\n        -2406,\n        72\n    ],\n    [\n        2238,\n        -2318,\n        108\n    ],\n    [\n        2364,\n        -2391,\n        72\n    ],\n    [\n        2491,\n        -2682,\n        72\n    ],\n    [\n        2596,\n        -2671,\n        108\n    ],\n    [\n        -150,\n        -3147,\n        48\n    ],\n    [\n        -155,\n        -3044,\n        84\n    ],\n    [\n        -427,\n        -3600,\n        48\n    ],\n    [\n        -259,\n        -2982,\n        60\n    ],\n    [\n        -379,\n        -3529,\n        72\n    ],\n    [\n        -665,\n        -3052,\n        60\n    ],\n    [\n        20,\n        -1816,\n        60\n    ],\n    [\n        127,\n        -1799,\n        60\n    ],\n    [\n        263,\n        -2572,\n        48\n    ],\n    [\n        405,\n        -2570,\n        108\n    ],\n    [\n        851,\n        -4183,\n        120\n    ],\n    [\n        754,\n        -3971,\n        108\n    ],\n    [\n        1757,\n        -5065,\n        132\n    ],\n    [\n        1169,\n        -4453,\n        108\n    ],\n    [\n        2054,\n        -5244,\n        108\n    ],\n    [\n        1631,\n        -4901,\n        108\n    ],\n    [\n        2305,\n        -5281,\n        108\n    ],\n    [\n        1007,\n        -4281,\n        96\n    ],\n    [\n        2766,\n        -5202,\n        96\n    ],\n    [\n        2927,\n        -5204,\n        84\n    ],\n    [\n        3206,\n        -5218,\n        36\n    ],\n    [\n        3099,\n        -5193,\n        72\n    ],\n    [\n        1417,\n        -4726,\n        120\n    ],\n    [\n        2844,\n        -1513,\n        60\n    ],\n    [\n        3206,\n        -1464,\n        120\n    ],\n    [\n        2881,\n        -1403,\n        108\n    ],\n    [\n        3804,\n        -2025,\n        84\n    ],\n    [\n        4116,\n        -1778,\n        108\n    ],\n    [\n        3715,\n        -1508,\n        72\n    ],\n    [\n        4247,\n        -1126,\n        72\n    ],\n    [\n        3860,\n        268,\n        60\n    ],\n    [\n        4334,\n        -1011,\n        132\n    ],\n    [\n        3849,\n        349,\n        72\n    ],\n    [\n        3956,\n        490,\n        96\n    ],\n    [\n        4073,\n        667,\n        108\n    ],\n    [\n        3583,\n        -864,\n        96\n    ],\n    [\n        4135,\n        836,\n        120\n    ],\n    [\n        4785,\n        -743,\n        120\n    ],\n    [\n        4993,\n        -839,\n        108\n    ],\n    [\n        5224,\n        -482,\n        84\n    ],\n    [\n        5235,\n        -1238,\n        132\n    ],\n    [\n        5419,\n        -1346,\n        72\n    ],\n    [\n        6075,\n        -5099,\n        96\n    ],\n    [\n        5767,\n        -4953,\n        108\n    ],\n    [\n        5896,\n        -4967,\n        108\n    ],\n    [\n        5384,\n        -4642,\n        108\n    ],\n    [\n        5704,\n        -4857,\n        108\n    ],\n    [\n        5563,\n        -4697,\n        108\n    ],\n    [\n        5406,\n        -4470,\n        132\n    ],\n    [\n        5352,\n        -3964,\n        108\n    ],\n    [\n        5309,\n        -3665,\n        132\n    ],\n    [\n        5247,\n        -3464,\n        108\n    ],\n    [\n        5300,\n        -3121,\n        108\n    ],\n    [\n        3524,\n        -3340,\n        132\n    ],\n    [\n        3661,\n        -3589,\n        108\n    ],\n    [\n        7236,\n        -1376,\n        72\n    ],\n    [\n        7624,\n        -1610,\n        96\n    ],\n    [\n        7403,\n        -1555,\n        84\n    ],\n    [\n        7514,\n        -1568,\n        108\n    ],\n    [\n        3660,\n        -2705,\n        108\n    ],\n    [\n        3374,\n        -2813,\n        96\n    ],\n    [\n        7347,\n        -1447,\n        108\n    ],\n    [\n        7236,\n        -775,\n        60\n    ],\n    [\n        7207,\n        -631,\n        108\n    ],\n    [\n        7303,\n        -468,\n        108\n    ],\n    [\n        7262,\n        -1263,\n        108\n    ],\n    [\n        7404,\n        -350,\n        120\n    ],\n    [\n        7589,\n        -305,\n        108\n    ],\n    [\n        7741,\n        -1589,\n        120\n    ],\n    [\n        7949,\n        -1594,\n        120\n    ],\n    [\n        8152,\n        -1599,\n        132\n    ],\n    [\n        8378,\n        -1602,\n        144\n    ],\n    [\n        7873,\n        -321,\n        72\n    ],\n    [\n        8543,\n        -1661,\n        84\n    ],\n    [\n        7790,\n        -259,\n        120\n    ],\n    [\n        8675,\n        -1573,\n        120\n    ],\n    [\n        8163,\n        -245,\n        84\n    ],\n    [\n        8329,\n        -311,\n        84\n    ],\n    [\n        8275,\n        -229,\n        120\n    ],\n    [\n        8447,\n        -277,\n        120\n    ],\n    [\n        8824,\n        -1447,\n        108\n    ],\n    [\n        7221,\n        -1140,\n        60\n    ],\n    [\n        8924,\n        -1273,\n        108\n    ],\n    [\n        6844,\n        -950,\n        120\n    ],\n    [\n        8949,\n        -1060,\n        132\n    ],\n    [\n        8904,\n        -920,\n        96\n    ],\n    [\n        8582,\n        -338,\n        84\n    ],\n    [\n        8963,\n        -803,\n        120\n    ],\n    [\n        8680,\n        -322,\n        108\n    ],\n    [\n        8811,\n        -449,\n        108\n    ],\n    [\n        8910,\n        -610,\n        108\n    ],\n    [\n        6855,\n        114,\n        96\n    ],\n    [\n        6971,\n        241,\n        120\n    ],\n    [\n        6852,\n        656,\n        60\n    ],\n    [\n        6980,\n        706,\n        108\n    ],\n    [\n        6946,\n        939,\n        120\n    ],\n    [\n        6027,\n        -560,\n        72\n    ],\n    [\n        7521,\n        425,\n        48\n    ],\n    [\n        7599,\n        389,\n        60\n    ],\n    [\n        5863,\n        -431,\n        108\n    ],\n    [\n        9392,\n        262,\n        108\n    ],\n    [\n        7521,\n        512,\n        72\n    ],\n    [\n        9807,\n        1027,\n        60\n    ],\n    [\n        9554,\n        237,\n        120\n    ],\n    [\n        9346,\n        392,\n        144\n    ],\n    [\n        9789,\n        1142,\n        84\n    ],\n    [\n        9747,\n        -532,\n        96\n    ],\n    [\n        8591,\n        347,\n        72\n    ],\n    [\n        9951,\n        -509,\n        120\n    ],\n    [\n        9308,\n        2417,\n        60\n    ],\n    [\n        10185,\n        -522,\n        108\n    ],\n    [\n        10330,\n        2147,\n        72\n    ],\n    [\n        9350,\n        2480,\n        84\n    ],\n    [\n        10503,\n        2124,\n        108\n    ],\n    [\n        12500,\n        2628,\n        60\n    ],\n    [\n        13188,\n        2864,\n        60\n    ],\n    [\n        12637,\n        2659,\n        84\n    ],\n    [\n        13262,\n        2899,\n        60\n    ],\n    [\n        13777,\n        5168,\n        60\n    ],\n    [\n        15709,\n        6399,\n        48\n    ],\n    [\n        13539,\n        5664,\n        60\n    ],\n    [\n        15660,\n        6474,\n        48\n    ],\n    [\n        13743,\n        5248,\n        84\n    ],\n    [\n        15482,\n        6600,\n        48\n    ],\n    [\n        15591,\n        6525,\n        36\n    ],\n    [\n        13487,\n        5738,\n        84\n    ],\n    [\n        15407,\n        6702,\n        72\n    ],\n    [\n        8171,\n        -2568,\n        60\n    ],\n    [\n        16001,\n        6015,\n        72\n    ],\n    [\n        16017,\n        6110,\n        48\n    ],\n    [\n        6496,\n        -1491,\n        60\n    ],\n    [\n        6626,\n        -1480,\n        84\n    ],\n    [\n        6190,\n        -1022,\n        96\n    ],\n    [\n        8325,\n        -2615,\n        120\n    ],\n    [\n        8222,\n        -2412,\n        120\n    ],\n    [\n        9204,\n        -2288,\n        108\n    ],\n    [\n        9279,\n        -2216,\n        120\n    ],\n    [\n        10375,\n        -1558,\n        96\n    ],\n    [\n        10309,\n        -1421,\n        108\n    ],\n    [\n        10247,\n        -1216,\n        144\n    ],\n    [\n        10079,\n        -2310,\n        108\n    ],\n    [\n        10320,\n        -2330,\n        120\n    ],\n    [\n        10942,\n        -2963,\n        108\n    ],\n    [\n        10807,\n        -2778,\n        132\n    ],\n    [\n        12989,\n        -1929,\n        72\n    ],\n    [\n        12613,\n        -1181,\n        48\n    ],\n    [\n        12559,\n        -1120,\n        60\n    ],\n    [\n        11642,\n        -1900,\n        84\n    ],\n    [\n        11558,\n        -1692,\n        108\n    ],\n    [\n        11509,\n        -1479,\n        60\n    ],\n    [\n        12559,\n        -2673,\n        96\n    ],\n    [\n        12446,\n        -2487,\n        120\n    ],\n    [\n        12375,\n        -2303,\n        108\n    ],\n    [\n        10363,\n        -3514,\n        84\n    ],\n    [\n        10290,\n        -3340,\n        108\n    ],\n    [\n        10162,\n        -3207,\n        84\n    ],\n    [\n        9003,\n        -3048,\n        108\n    ],\n    [\n        9161,\n        -3119,\n        72\n    ],\n    [\n        14550,\n        -3462,\n        108\n    ],\n    [\n        14407,\n        -3335,\n        108\n    ],\n    [\n        14366,\n        -4493,\n        108\n    ],\n    [\n        14477,\n        -4437,\n        120\n    ],\n    [\n        15305,\n        -4230,\n        108\n    ],\n    [\n        15481,\n        -4283,\n        108\n    ],\n    [\n        15349,\n        -5009,\n        48\n    ],\n    [\n        11874,\n        -4879,\n        72\n    ],\n    [\n        15453,\n        -4984,\n        84\n    ],\n    [\n        11907,\n        -4742,\n        96\n    ],\n    [\n        12440,\n        -4278,\n        60\n    ],\n    [\n        11980,\n        -4582,\n        108\n    ],\n    [\n        12131,\n        -4387,\n        132\n    ],\n    [\n        15681,\n        -4973,\n        120\n    ],\n    [\n        12591,\n        -4252,\n        96\n    ],\n    [\n        12777,\n        -4244,\n        108\n    ],\n    [\n        12969,\n        -4227,\n        108\n    ],\n    [\n        15897,\n        -5071,\n        108\n    ],\n    [\n        13204,\n        -4228,\n        120\n    ],\n    [\n        11592,\n        -5261,\n        84\n    ],\n    [\n        12743,\n        -4826,\n        48\n    ],\n    [\n        10102,\n        -5078,\n        84\n    ],\n    [\n        12854,\n        -4782,\n        108\n    ],\n    [\n        10191,\n        -5033,\n        84\n    ],\n    [\n        10523,\n        -5133,\n        120\n    ],\n    [\n        10336,\n        -4977,\n        132\n    ],\n    [\n        10667,\n        -5250,\n        96\n    ],\n    [\n        9665,\n        -6403,\n        84\n    ],\n    [\n        10798,\n        -5379,\n        60\n    ],\n    [\n        9670,\n        -5547,\n        108\n    ],\n    [\n        9834,\n        -6369,\n        120\n    ],\n    [\n        9864,\n        -5572,\n        132\n    ],\n    [\n        11362,\n        -3957,\n        108\n    ],\n    [\n        11162,\n        -3830,\n        120\n    ],\n    [\n        8922,\n        -6173,\n        120\n    ],\n    [\n        9003,\n        -5368,\n        60\n    ],\n    [\n        8453,\n        -6153,\n        72\n    ],\n    [\n        8954,\n        -5229,\n        108\n    ],\n    [\n        8905,\n        -5072,\n        96\n    ],\n    [\n        8704,\n        -3873,\n        108\n    ],\n    [\n        8578,\n        -6105,\n        96\n    ],\n    [\n        8508,\n        -3710,\n        84\n    ],\n    [\n        8614,\n        -5400,\n        60\n    ],\n    [\n        8788,\n        -4922,\n        132\n    ],\n    [\n        8936,\n        -3905,\n        72\n    ],\n    [\n        9701,\n        -4613,\n        108\n    ],\n    [\n        6973,\n        -4776,\n        72\n    ],\n    [\n        7016,\n        -4674,\n        108\n    ],\n    [\n        9124,\n        -3853,\n        108\n    ],\n    [\n        7253,\n        -4648,\n        96\n    ],\n    [\n        6602,\n        -4591,\n        72\n    ],\n    [\n        8510,\n        -5322,\n        108\n    ],\n    [\n        6687,\n        -3810,\n        84\n    ],\n    [\n        9525,\n        -4492,\n        132\n    ],\n    [\n        7461,\n        -4705,\n        108\n    ],\n    [\n        9280,\n        -3812,\n        96\n    ],\n    [\n        6467,\n        -2811,\n        36\n    ],\n    [\n        6842,\n        -3820,\n        96\n    ],\n    [\n        6483,\n        -2725,\n        72\n    ],\n    [\n        7675,\n        -4864,\n        132\n    ],\n    [\n        6991,\n        -2885,\n        108\n    ],\n    [\n        6610,\n        -2664,\n        108\n    ],\n    [\n        6822,\n        -2736,\n        108\n    ],\n    [\n        6763,\n        -4582,\n        108\n    ],\n    [\n        6509,\n        -2490,\n        108\n    ],\n    [\n        7216,\n        -3865,\n        132\n    ],\n    [\n        7018,\n        -3708,\n        120\n    ],\n    [\n        2254,\n        -3301,\n        96\n    ],\n    [\n        6378,\n        -2310,\n        96\n    ],\n    [\n        7197,\n        -2857,\n        108\n    ],\n    [\n        2609,\n        -3483,\n        60\n    ],\n    [\n        2449,\n        -3385,\n        108\n    ],\n    [\n        4585,\n        -2889,\n        84\n    ],\n    [\n        4470,\n        -2768,\n        96\n    ],\n    [\n        4083,\n        -4033,\n        108\n    ],\n    [\n        1568,\n        -2869,\n        48\n    ],\n    [\n        4336,\n        -4105,\n        144\n    ],\n    [\n        1977,\n        -1678,\n        60\n    ],\n    [\n        1412,\n        -3642,\n        60\n    ],\n    [\n        1570,\n        -2792,\n        72\n    ],\n    [\n        1932,\n        -1586,\n        72\n    ],\n    [\n        1310,\n        -3547,\n        72\n    ],\n    [\n        3611,\n        1391,\n        120\n    ],\n    [\n        3558,\n        2174,\n        108\n    ],\n    [\n        3431,\n        1563,\n        108\n    ],\n    [\n        3142,\n        2813,\n        84\n    ],\n    [\n        3330,\n        2296,\n        132\n    ],\n    [\n        3001,\n        2818,\n        72\n    ],\n    [\n        3703,\n        2044,\n        48\n    ],\n    [\n        2872,\n        3863,\n        108\n    ],\n    [\n        3125,\n        2942,\n        132\n    ],\n    [\n        2841,\n        4018,\n        132\n    ],\n    [\n        2402,\n        5140,\n        72\n    ],\n    [\n        2511,\n        5167,\n        96\n    ],\n    [\n        -14607,\n        -5112,\n        108\n    ],\n    [\n        -14430,\n        -5180,\n        108\n    ],\n    [\n        -14197,\n        -5222,\n        144\n    ],\n    [\n        -14895,\n        -4703,\n        60\n    ],\n    [\n        -14797,\n        -4728,\n        48\n    ],\n    [\n        -14697,\n        -4739,\n        48\n    ],\n    [\n        -13919,\n        -5281,\n        132\n    ],\n    [\n        -13646,\n        -5170,\n        84\n    ],\n    [\n        -13400,\n        -5068,\n        144\n    ],\n    [\n        -13099,\n        -5108,\n        132\n    ],\n    [\n        -12824,\n        -5092,\n        108\n    ],\n    [\n        -12631,\n        -5044,\n        108\n    ],\n    [\n        -12427,\n        -4914,\n        108\n    ],\n    [\n        -12270,\n        -4816,\n        84\n    ],\n    [\n        -11772,\n        -4983,\n        84\n    ],\n    [\n        -11940,\n        -4867,\n        108\n    ],\n    [\n        -12091,\n        -4699,\n        108\n    ],\n    [\n        -12270,\n        -4529,\n        84\n    ],\n    [\n        -12460,\n        -4396,\n        108\n    ],\n    [\n        -13058,\n        -4252,\n        108\n    ],\n    [\n        -12894,\n        -4096,\n        84\n    ],\n    [\n        -12738,\n        -4077,\n        84\n    ],\n    [\n        -13546,\n        -4341,\n        48\n    ],\n    [\n        -13428,\n        -4299,\n        108\n    ],\n    [\n        -14679,\n        -4192,\n        84\n    ],\n    [\n        -14368,\n        -4308,\n        84\n    ],\n    [\n        -14495,\n        -4133,\n        132\n    ],\n    [\n        -12072,\n        -3824,\n        96\n    ],\n    [\n        -11904,\n        -3648,\n        120\n    ],\n    [\n        -11654,\n        -3569,\n        84\n    ],\n    [\n        -11648,\n        -3357,\n        108\n    ],\n    [\n        -11420,\n        -3359,\n        108\n    ],\n    [\n        -11296,\n        -3135,\n        84\n    ],\n    [\n        -10782,\n        -2838,\n        96\n    ],\n    [\n        -11410,\n        -3039,\n        36\n    ],\n    [\n        -10581,\n        -2773,\n        132\n    ],\n    [\n        -11118,\n        -5114,\n        96\n    ],\n    [\n        -10675,\n        -5079,\n        108\n    ],\n    [\n        -10205,\n        -4890,\n        96\n    ],\n    [\n        -11543,\n        -4164,\n        96\n    ],\n    [\n        -11287,\n        -4244,\n        60\n    ],\n    [\n        -10018,\n        -4747,\n        120\n    ],\n    [\n        -9278,\n        419,\n        60\n    ],\n    [\n        -9341,\n        470,\n        60\n    ],\n    [\n        -9180,\n        496,\n        96\n    ],\n    [\n        -11365,\n        -4131,\n        120\n    ],\n    [\n        -9353,\n        0,\n        72\n    ],\n    [\n        -8975,\n        528,\n        120\n    ],\n    [\n        -9413,\n        89,\n        108\n    ],\n    [\n        -8230,\n        770,\n        48\n    ],\n    [\n        -9231,\n        17,\n        84\n    ],\n    [\n        -6808,\n        1667,\n        60\n    ],\n    [\n        -6694,\n        1622,\n        96\n    ],\n    [\n        -8285,\n        855,\n        72\n    ],\n    [\n        -6793,\n        1796,\n        96\n    ],\n    [\n        -6865,\n        1935,\n        60\n    ],\n    [\n        -7043,\n        2222,\n        72\n    ],\n    [\n        -7083,\n        2368,\n        72\n    ],\n    [\n        -7103,\n        2533,\n        84\n    ],\n    [\n        -7099,\n        2721,\n        96\n    ],\n    [\n        -7178,\n        2874,\n        48\n    ],\n    [\n        -6964,\n        3110,\n        84\n    ],\n    [\n        -6246,\n        4191,\n        72\n    ],\n    [\n        -6735,\n        3446,\n        48\n    ],\n    [\n        -6722,\n        3537,\n        84\n    ],\n    [\n        -6396,\n        3388,\n        108\n    ],\n    [\n        -6787,\n        3140,\n        108\n    ],\n    [\n        -6227,\n        4488,\n        84\n    ],\n    [\n        -6281,\n        3953,\n        72\n    ],\n    [\n        -6530,\n        3576,\n        132\n    ],\n    [\n        -6147,\n        3994,\n        132\n    ],\n    [\n        -6141,\n        4292,\n        144\n    ],\n    [\n        -6377,\n        5578,\n        84\n    ],\n    [\n        -6152,\n        4569,\n        108\n    ],\n    [\n        -6222,\n        4769,\n        84\n    ],\n    [\n        -6266,\n        4956,\n        72\n    ],\n    [\n        -6233,\n        5414,\n        108\n    ],\n    [\n        -6347,\n        5646,\n        84\n    ],\n    [\n        -6400,\n        6066,\n        84\n    ],\n    [\n        -6411,\n        6261,\n        96\n    ],\n    [\n        -6565,\n        7043,\n        72\n    ],\n    [\n        -6377,\n        6415,\n        108\n    ],\n    [\n        -6440,\n        6614,\n        84\n    ],\n    [\n        -5944,\n        1954,\n        60\n    ],\n    [\n        -6001,\n        2039,\n        96\n    ],\n    [\n        -6467,\n        7070,\n        108\n    ],\n    [\n        -4963,\n        3608,\n        72\n    ],\n    [\n        -4776,\n        3510,\n        48\n    ],\n    [\n        -5785,\n        1998,\n        132\n    ],\n    [\n        -3708,\n        3449,\n        72\n    ],\n    [\n        -3790,\n        3582,\n        108\n    ],\n    [\n        -4031,\n        3697,\n        84\n    ],\n    [\n        -4859,\n        3634,\n        120\n    ],\n    [\n        -3850,\n        3730,\n        120\n    ],\n    [\n        -4689,\n        4605,\n        108\n    ],\n    [\n        -3492,\n        2892,\n        72\n    ],\n    [\n        -4507,\n        4483,\n        72\n    ],\n    [\n        -4829,\n        2745,\n        108\n    ],\n    [\n        -4435,\n        4273,\n        108\n    ],\n    [\n        -3383,\n        2930,\n        108\n    ],\n    [\n        -4888,\n        2821,\n        108\n    ],\n    [\n        -5372,\n        5172,\n        60\n    ],\n    [\n        -5036,\n        2981,\n        108\n    ],\n    [\n        -9895,\n        -1942,\n        120\n    ],\n    [\n        -9371,\n        -2159,\n        72\n    ],\n    [\n        -9995,\n        -1773,\n        108\n    ],\n    [\n        -5280,\n        5218,\n        108\n    ],\n    [\n        -5079,\n        5183,\n        108\n    ],\n    [\n        -5149,\n        3079,\n        72\n    ],\n    [\n        -9695,\n        -2048,\n        120\n    ],\n    [\n        -5063,\n        5374,\n        108\n    ],\n    [\n        -9504,\n        -2059,\n        120\n    ],\n    [\n        -8948,\n        -2140,\n        84\n    ],\n    [\n        -9262,\n        -2081,\n        132\n    ],\n    [\n        -9068,\n        -2071,\n        120\n    ],\n    [\n        -8861,\n        -2045,\n        132\n    ],\n    [\n        -8654,\n        -2083,\n        120\n    ],\n    [\n        -8473,\n        -2048,\n        120\n    ],\n    [\n        -8283,\n        -1965,\n        120\n    ],\n    [\n        -8182,\n        -1863,\n        108\n    ],\n    [\n        -10037,\n        -1579,\n        108\n    ],\n    [\n        -10063,\n        -1365,\n        108\n    ],\n    [\n        -10074,\n        -1190,\n        108\n    ],\n    [\n        -8167,\n        -1225,\n        60\n    ],\n    [\n        -8188,\n        -1087,\n        96\n    ],\n    [\n        -9975,\n        -1022,\n        108\n    ],\n    [\n        -9835,\n        -910,\n        120\n    ],\n    [\n        -9709,\n        -848,\n        120\n    ],\n    [\n        -9532,\n        -792,\n        120\n    ],\n    [\n        -9348,\n        -779,\n        120\n    ],\n    [\n        -9131,\n        -784,\n        132\n    ],\n    [\n        -8754,\n        -795,\n        84\n    ],\n    [\n        -8587,\n        -797,\n        120\n    ],\n    [\n        -8424,\n        -856,\n        108\n    ],\n    [\n        -8246,\n        -921,\n        108\n    ],\n    [\n        -8153,\n        -1701,\n        84\n    ],\n    [\n        -6447,\n        -2137,\n        72\n    ],\n    [\n        -8153,\n        -1591,\n        60\n    ],\n    [\n        -7694,\n        -1393,\n        120\n    ],\n    [\n        -6541,\n        -2030,\n        84\n    ],\n    [\n        -7135,\n        -1547,\n        84\n    ],\n    [\n        -5885,\n        -2958,\n        72\n    ],\n    [\n        -7171,\n        -1440,\n        96\n    ],\n    [\n        -5620,\n        -3123,\n        72\n    ],\n    [\n        -6631,\n        -1866,\n        96\n    ],\n    [\n        -5882,\n        -3696,\n        96\n    ],\n    [\n        -5716,\n        -2944,\n        108\n    ],\n    [\n        -5949,\n        -3528,\n        60\n    ],\n    [\n        -6869,\n        -4052,\n        96\n    ],\n    [\n        -7081,\n        -2673,\n        60\n    ],\n    [\n        -6725,\n        -4069,\n        72\n    ],\n    [\n        -10487,\n        -2295,\n        60\n    ],\n    [\n        -7032,\n        -2749,\n        72\n    ],\n    [\n        -10769,\n        -3817,\n        72\n    ],\n    [\n        -6607,\n        -4081,\n        60\n    ],\n    [\n        -10849,\n        -1824,\n        84\n    ],\n    [\n        -10479,\n        -2146,\n        108\n    ],\n    [\n        -7003,\n        -2611,\n        108\n    ],\n    [\n        -10749,\n        -1511,\n        72\n    ],\n    [\n        -10697,\n        -1953,\n        120\n    ],\n    [\n        -10848,\n        -1330,\n        108\n    ],\n    [\n        -10912,\n        -1220,\n        60\n    ],\n    [\n        -9843,\n        -2685,\n        84\n    ],\n    [\n        -10823,\n        -3717,\n        84\n    ],\n    [\n        -9697,\n        -2713,\n        72\n    ],\n    [\n        -10080,\n        -3431,\n        48\n    ],\n    [\n        -10648,\n        -3844,\n        108\n    ],\n    [\n        -9530,\n        -2695,\n        120\n    ],\n    [\n        -2387,\n        -6791,\n        108\n    ],\n    [\n        -8465,\n        -5037,\n        84\n    ],\n    [\n        -2550,\n        -6627,\n        108\n    ],\n    [\n        -9325,\n        -2822,\n        84\n    ],\n    [\n        -10140,\n        -3346,\n        96\n    ],\n    [\n        -8461,\n        -4908,\n        108\n    ],\n    [\n        8116,\n        -1076,\n        96\n    ],\n    [\n        8115,\n        -940,\n        96\n    ],\n    [\n        -2503,\n        -6359,\n        168\n    ],\n    [\n        -9062,\n        -1580,\n        96\n    ],\n    [\n        8120,\n        -790,\n        96\n    ],\n    [\n        -9065,\n        -1444,\n        96\n    ],\n    [\n        -2615,\n        -6159,\n        120\n    ],\n    [\n        -2744,\n        -5943,\n        132\n    ],\n    [\n        -3713,\n        -4955,\n        108\n    ],\n    [\n        -9061,\n        -1292,\n        96\n    ],\n    [\n        -1551,\n        -4718,\n        60\n    ],\n    [\n        5251,\n        -6249,\n        60\n    ],\n    [\n        5192,\n        -6181,\n        48\n    ],\n    [\n        -2898,\n        -5732,\n        108\n    ],\n    [\n        -1705,\n        -4629,\n        96\n    ],\n    [\n        1618,\n        -7035,\n        60\n    ],\n    [\n        -3829,\n        -4776,\n        108\n    ],\n    [\n        -2851,\n        -5589,\n        132\n    ],\n    [\n        -2974,\n        -5399,\n        132\n    ],\n    [\n        -3952,\n        -4568,\n        108\n    ],\n    [\n        -4135,\n        -4368,\n        132\n    ],\n    [\n        -3428,\n        -5104,\n        132\n    ],\n    [\n        -3167,\n        -5254,\n        108\n    ],\n    [\n        -3049,\n        -6916,\n        120\n    ],\n    [\n        -3097,\n        -6722,\n        108\n    ],\n    [\n        -3190,\n        -6493,\n        120\n    ],\n    [\n        -3318,\n        -6284,\n        132\n    ],\n    [\n        -4672,\n        -5861,\n        132\n    ],\n    [\n        -4480,\n        -5668,\n        120\n    ],\n    [\n        -4294,\n        -5548,\n        108\n    ],\n    [\n        -3433,\n        -6072,\n        120\n    ],\n    [\n        -3568,\n        -5881,\n        120\n    ],\n    [\n        -3736,\n        -5698,\n        144\n    ],\n    [\n        -3978,\n        -7517,\n        108\n    ],\n    [\n        -3956,\n        -5572,\n        120\n    ],\n    [\n        -4103,\n        -5400,\n        120\n    ],\n    [\n        -4281,\n        -5240,\n        120\n    ],\n    [\n        -4409,\n        -5034,\n        120\n    ],\n    [\n        -4475,\n        -4808,\n        108\n    ],\n    [\n        -2777,\n        -7546,\n        120\n    ],\n    [\n        -2542,\n        -7502,\n        108\n    ],\n    [\n        -2398,\n        -7364,\n        108\n    ],\n    [\n        -2350,\n        -7151,\n        108\n    ],\n    [\n        -2315,\n        -6976,\n        96\n    ],\n    [\n        -3749,\n        -7488,\n        120\n    ],\n    [\n        -2995,\n        -7596,\n        144\n    ],\n    [\n        -3253,\n        -7558,\n        132\n    ],\n    [\n        -3468,\n        -7472,\n        120\n    ],\n    [\n        -5028,\n        -6473,\n        120\n    ],\n    [\n        -3604,\n        -7301,\n        132\n    ],\n    [\n        -3678,\n        -7078,\n        132\n    ],\n    [\n        -3835,\n        -6826,\n        132\n    ],\n    [\n        -3935,\n        -6595,\n        120\n    ],\n    [\n        -5214,\n        -7381,\n        120\n    ],\n    [\n        -4065,\n        -6416,\n        132\n    ],\n    [\n        -4174,\n        -6231,\n        84\n    ],\n    [\n        -4556,\n        -6940,\n        120\n    ],\n    [\n        -4663,\n        -6781,\n        120\n    ],\n    [\n        -4748,\n        -6548,\n        156\n    ],\n    [\n        -4847,\n        -6257,\n        132\n    ],\n    [\n        -4806,\n        -6016,\n        108\n    ],\n    [\n        -4950,\n        -7410,\n        168\n    ],\n    [\n        -5470,\n        -7251,\n        156\n    ],\n    [\n        -5637,\n        -7038,\n        120\n    ],\n    [\n        -5593,\n        -6819,\n        120\n    ],\n    [\n        -5406,\n        -6727,\n        120\n    ],\n    [\n        -5263,\n        -6580,\n        120\n    ],\n    [\n        -4636,\n        -7476,\n        120\n    ],\n    [\n        -4399,\n        -7496,\n        108\n    ],\n    [\n        -6769,\n        -7571,\n        108\n    ],\n    [\n        -6853,\n        -7377,\n        108\n    ],\n    [\n        -8273,\n        -7231,\n        60\n    ],\n    [\n        -4182,\n        -7512,\n        108\n    ],\n    [\n        -7525,\n        -5855,\n        108\n    ],\n    [\n        -7495,\n        -6329,\n        60\n    ],\n    [\n        -7297,\n        -6946,\n        108\n    ],\n    [\n        -8148,\n        -7137,\n        84\n    ],\n    [\n        -7030,\n        -7301,\n        84\n    ]\n];\n\n\n\nconst $6fbb097bbff99c32$var$MOUNTAIN_BITMAP_SCALE = 1.4;\nconst $6fbb097bbff99c32$var$MIN_RADIUS_FOR_LARGE = 132;\nconst $6fbb097bbff99c32$var$MIN_RADIUS_FOR_MEDIUM = 120;\nconst $6fbb097bbff99c32$var$MIN_RADIUS_FOR_REGULAR = 108;\nconst $6fbb097bbff99c32$var$MIN_RADIUS_FOR_SMALL = 84;\nconst $6fbb097bbff99c32$var$MIN_RADIUS_FOR_SMALLER = 60;\nclass $6fbb097bbff99c32$export$ad1bda8f994200fe {\n    constructor(clip, context){\n        this.clip = clip;\n        this.context = context;\n        const medium = document.getElementById(\"mountain-medium\");\n        const large = document.getElementById(\"mountain-large\");\n        const regular = [];\n        regular.push(document.getElementById(\"mountain-regular-a\"));\n        regular.push(document.getElementById(\"mountain-regular-b\"));\n        regular.push(document.getElementById(\"mountain-regular-c\"));\n        const small = document.getElementById(\"mountain-small\");\n        const smaller = document.getElementById(\"mountain-smaller\");\n        const mini = document.getElementById(\"mountain-mini\");\n        // assign images to each wall\n        let wallNum = 0;\n        this.wallImages = {};\n        for (const wall of (0, $7982582df104c162$export$538e3d9fdc6b7eea)){\n            const radius = wall[2];\n            let img;\n            if (radius >= $6fbb097bbff99c32$var$MIN_RADIUS_FOR_LARGE) img = large;\n            else if (radius >= $6fbb097bbff99c32$var$MIN_RADIUS_FOR_MEDIUM) img = medium;\n            else if (radius >= $6fbb097bbff99c32$var$MIN_RADIUS_FOR_REGULAR) img = regular[wallNum % regular.length];\n            else if (radius >= $6fbb097bbff99c32$var$MIN_RADIUS_FOR_SMALL) img = small;\n            else if (radius >= $6fbb097bbff99c32$var$MIN_RADIUS_FOR_SMALLER) img = smaller;\n            else img = mini;\n            wall[3] = wallNum;\n            this.wallImages[wallNum] = img;\n            wallNum++;\n        }\n    }\n    renderWalls(context) {\n        for (const wall of (0, $7982582df104c162$export$538e3d9fdc6b7eea)){\n            const pos = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(wall[0], wall[1]);\n            const radius = wall[2];\n            const topLeft = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(pos.x - radius, pos.y - radius);\n            const bottRight = new (0, $ca9820f5036d37f5$export$88719fa01a501de5)(pos.x + radius, pos.y + radius);\n            if (this.clip.isVisible(topLeft) || this.clip.isVisible(bottRight)) {\n                const clipPos = this.clip.translate(pos);\n                if (this.context.settings.useBitmaps) {\n                    const scaledRadius = this.clip.scale(radius) * $6fbb097bbff99c32$var$MOUNTAIN_BITMAP_SCALE;\n                    const wallNum = wall[3];\n                    const img = this.wallImages[wallNum];\n                    context.drawImage(img, 0, 0, img.width, img.height, clipPos.x - scaledRadius, clipPos.y - scaledRadius, scaledRadius * 2, scaledRadius * 2);\n                } else {\n                    const scaledradius = this.clip.scale(radius);\n                    context.fillStyle = constants.WALLS_NOBITMAP_COLOR;\n                    context.beginPath();\n                    context.arc(clipPos.x, clipPos.y, scaledradius, 0, 2 * Math.PI);\n                    context.fill();\n                }\n            }\n        }\n    }\n}\n\n\nclass $243a668d12848bf5$export$88530751e3977073 {\n    constructor(context){\n        this.context = context;\n        this.ignoredPlayers = [];\n        this.getUiElements();\n        this.periodicLogger = new (0, $ced59494b384773c$export$1ef0d431ba4bc4d)(context);\n        this.clip = new (0, $a0ff52c2bc39c2e1$export$c0979c0656c7edae)(context);\n        this.backgroundRenderer = new (0, $85dbc8b8658f9f46$export$93fe6a6199f696cb)(this.clip, context);\n        this.wallsRenderer = new (0, $6fbb097bbff99c32$export$ad1bda8f994200fe)(this.clip, context);\n        this.flagRenderer = new (0, $6a2e7908822773d5$export$7c38ebd1f7ca6a5a)(context, this.clip);\n        this.upcratesRenderer = new (0, $aefae086674f5c56$export$8ea12f09ca9c4b43)(context, this.clip);\n        this.playersRenderer = new (0, $07b7249a5d8e4993$export$b9132fa03224950b)(context, this.clip);\n        this.missilesRenderer = new (0, $a778820b52fc3fb6$export$c7649bc6c14cc54c)(context, this.clip);\n        this.explosionsRenderer = new (0, $f1e7e6e56a469954$export$18323953f4cd5fe9)(context, this.clip);\n        this.minimapRenderer = new (0, $088ca4e4a37a500d$export$25dfd1a564ba016f)(context);\n        this.playerListRenderer = new (0, $7657f5cb72609293$export$e1a40e859738b26d)(context);\n        this.statsRenderer = new (0, $0476f79811a227d4$export$1a91dc5172ef13d1)(context);\n        this.debugInfoRenderer = new (0, $ccaa89f0ff8dda92$export$874de3a4c08b1e3c)(context);\n        this.pathRenderer = new (0, $f34d2923ac0d5280$export$96efaeec00b6a653)(this.clip, context);\n    }\n    addMessageToPlayer(msg) {\n        this.chatBox.innerHTML += `<div class=\"chat chat-warning\">${msg}</div>`;\n        this.chatBox.scrollTop = this.chatBox.scrollHeight;\n    }\n    addChat(playerId, playerName, chatType, msg, to) {\n        if (this.ignoredPlayers.indexOf(playerId) !== -1) return;\n        playerName = playerName.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n        msg = msg.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n        if (chatType === (0, $75d2662fce9f31ac$export$d1763b2f7574d334).SAY) this.playersRenderer.addSay(playerId, msg);\n        else {\n            let type = \"\";\n            let typeLabel = \"\";\n            if (chatType === (0, $75d2662fce9f31ac$export$d1763b2f7574d334).TEAM) {\n                type = \"chat-team\";\n                typeLabel = \" =&gt; team\";\n            } else if (chatType === (0, $75d2662fce9f31ac$export$d1763b2f7574d334).WHISPER) {\n                type = \"chat-whisper\";\n                if (playerId === this.context.state.myPlayerId) {\n                    const other = this.context.state.getPlayerName(to);\n                    typeLabel = \" =&gt; \" + other;\n                } else typeLabel = \" =&gt; me\";\n            }\n            const safePlayerName = encodeURI(playerName);\n            this.chatBox.innerHTML += `<div class=\"chat ${type}\"><strong class=\"player-name\" ` + `data-name=\"${safePlayerName}\" data-id=\"${playerId}\">` + `${playerName}${typeLabel}</strong>: ${msg}</div>`;\n            this.chatBox.scrollTop = this.chatBox.scrollHeight;\n        }\n    }\n    showServerMessage(type, durationMs, text) {\n        this.serverMessageStopwatch = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)(durationMs);\n        this.serverMessage.innerHTML = text;\n    }\n    hideServerMessageAfterTimeout() {\n        if (!this.serverMessageStopwatch) return;\n        if (this.serverMessageStopwatch.hasTimedOut) {\n            this.serverMessage.innerHTML = \"\";\n            this.serverMessageStopwatch = null;\n        }\n    }\n    showStats() {\n        this.statsRenderer.render();\n    }\n    showPing() {\n        this.pingElement.innerText = \"\" + this.context.state.ping + \" ms\";\n    }\n    highlightPlayerOnMinimap(playerId) {\n        this.minimapRenderer.highlight(playerId);\n    }\n    ignorePlayer(playerId) {\n        if (this.ignoredPlayers.indexOf(playerId) === -1 && playerId !== this.context.state.id) this.ignoredPlayers.push(playerId);\n    }\n    unignorePlayer(playerId) {\n        this.ignoredPlayers = this.ignoredPlayers.filter((x)=>x !== playerId);\n    }\n    renderMinimap() {\n        this.minimapRenderer.render();\n    }\n    renderPlayerList() {\n        this.playerListRenderer.render();\n    }\n    renderHit() {\n        this.canvas.className = \"shake-hit\";\n        this.stopShaking();\n    }\n    renderKill() {\n        this.canvas.className = \"shake-kill\";\n        this.stopShaking();\n    }\n    renderGame(isFirstTick) {\n        if (isFirstTick) // this may be the first tick after a panic,\n        // purge any unnecessary stuff to keep up.\n        this.context.state.purgeAfterPanic();\n        if (!this.context.state.getFocusedPlayer()) return;\n        const canvasCtx = this.canvasContext;\n        this.clip.setClip(this.canvas);\n        // background\n        this.backgroundRenderer.renderBackground(canvasCtx);\n        // draw walls\n        this.wallsRenderer.renderWalls(canvasCtx);\n        this.pathRenderer.renderPath(canvasCtx); // bot path\n        // upgrade and powerup crates\n        this.upcratesRenderer.renderUpcrates(canvasCtx);\n        // draw players\n        this.playersRenderer.renderPlayers(canvasCtx);\n        // draw missiles\n        this.missilesRenderer.renderMissiles(canvasCtx);\n        // explosions and kills\n        this.explosionsRenderer.renderExplosions(canvasCtx);\n        if (this.context.gameType === (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF) this.flagRenderer.render(canvasCtx);\n        this.debugInfoRenderer.render();\n    }\n    getUiElements() {\n        this.canvas = document.getElementById(\"canvas\");\n        this.canvasContext = this.canvas.getContext(\"2d\");\n        this.chatBox = document.getElementById(\"chat\");\n        this.serverMessage = document.getElementById(\"server-message\");\n        this.pingElement = document.getElementById(\"stats-ping\");\n    }\n    stopShaking() {\n        if (this.shakeTimeout) this.context.tm.clearTimeout(this.shakeTimeout);\n        this.shakeTimeout = this.context.tm.setTimeout(()=>this.canvas.className = \"\", 1000);\n    }\n}\n\n\nclass $0994f77e21259343$export$407d81fed3aadf8c {\n    constructor(context){\n        this.context = context;\n        const raptor = document.getElementById(\"select-raptor\");\n        raptor.onclick = ()=>this.selectAircraft(\"1\");\n        const spirit = document.getElementById(\"select-spirit\");\n        spirit.onclick = ()=>this.selectAircraft(\"2\");\n        const mohawk = document.getElementById(\"select-mohawk\");\n        mohawk.onclick = ()=>this.selectAircraft(\"3\");\n        const tornado = document.getElementById(\"select-tornado\");\n        tornado.onclick = ()=>this.selectAircraft(\"4\");\n        const prowler = document.getElementById(\"select-prowler\");\n        prowler.onclick = ()=>this.selectAircraft(\"5\");\n    }\n    selectAircraft(selection) {\n        this.context.connection.sendCommand(\"respawn\", selection);\n    }\n}\n\n\nclass $01916f20cc6acfae$export$42b438d73b8c4813 {\n    constructor(context){\n        this.context = context;\n        const speed = document.getElementById(\"select-speed\");\n        speed.onclick = ()=>this.applyUpgrade(\"1\");\n        const defense = document.getElementById(\"select-defense\");\n        defense.onclick = ()=>this.applyUpgrade(\"2\");\n        const energy = document.getElementById(\"select-energy\");\n        energy.onclick = ()=>this.applyUpgrade(\"3\");\n        const missile = document.getElementById(\"select-missile\");\n        missile.onclick = ()=>this.applyUpgrade(\"4\");\n        const drop = document.getElementById(\"drop-upgrade\");\n        drop.onclick = ()=>this.dropUpgrade();\n    }\n    applyUpgrade(selection) {\n        this.context.connection.sendCommand(\"upgrade\", selection);\n    }\n    dropUpgrade() {\n        this.context.connection.sendCommand(\"upgrades\", \"drop\");\n    }\n}\n\n\n\n\nclass $91c0951a886107eb$export$19b903fd083c557c {\n    constructor(context){\n        this.context = context;\n        this.commandRegex = /^\\/(\\w+)(?:\\s(.+))?$/;\n        this.input = document.getElementById(\"chat-input-textbox\");\n        this.input.addEventListener(\"blur\", ()=>this.hide());\n        this.hide();\n        const instructionSpan = document.getElementById(\"input-instruction\");\n        instructionSpan.addEventListener(\"click\", ()=>this.showAndFocus());\n    }\n    showAndFocus() {\n        this.input.style.display = \"block\";\n        this.input.focus();\n    }\n    hide() {\n        this.input.style.display = \"none\";\n    }\n    startChat(suggestedText) {\n        this.showAndFocus();\n        this.input.value = suggestedText;\n    }\n    isChatInputFocused() {\n        return this.input.style.display.toLowerCase() === \"block\";\n    }\n    submit() {\n        const text = this.input.value;\n        if (text) {\n            this.input.value = \"\";\n            const commandMatch = this.commandRegex.exec(text);\n            if (!commandMatch) this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_SEND, {\n                text: text,\n                type: (0, $75d2662fce9f31ac$export$d1763b2f7574d334).CHAT\n            });\n            else {\n                const command = commandMatch[1];\n                const args = commandMatch[2];\n                if (command === \"t\") this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_SEND, {\n                    text: args,\n                    type: (0, $75d2662fce9f31ac$export$d1763b2f7574d334).TEAM\n                });\n                else if (command === \"s\") this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_SEND, {\n                    text: args,\n                    type: (0, $75d2662fce9f31ac$export$d1763b2f7574d334).SAY\n                });\n                else if (command === \"w\") {\n                    const allPlayers = this.context.state.getPlayers();\n                    allPlayers.sort((a, b)=>b.name.length - a.name.length);\n                    let player;\n                    for (const targetPlayer of allPlayers)if (args.startsWith(targetPlayer.name)) {\n                        player = targetPlayer;\n                        break;\n                    }\n                    if (player) {\n                        const whisperText = args.substr(player.name.length + 1);\n                        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).CHAT_SEND, {\n                            playerId: player.id,\n                            text: whisperText,\n                            type: (0, $75d2662fce9f31ac$export$d1763b2f7574d334).WHISPER\n                        });\n                    } else this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).MESSAGE_TO_PLAYER, {\n                        message: \"Unknown player, message not sent.\"\n                    });\n                } else this.context.connection.sendCommand(command, args || \"\");\n            }\n            this.hide();\n        }\n    }\n}\n\n\n\n\nclass $281b583cc7804df9$export$24fb9f64148439b8 {\n    constructor(context, chatInput, applyUpgrades, dropFlag, autoFire, spectate, aircraftSelection, playerDropdownMenu){\n        this.context = context;\n        this.chatInput = chatInput;\n        this.applyUpgrades = applyUpgrades;\n        this.dropFlag = dropFlag;\n        this.autoFire = autoFire;\n        this.spectate = spectate;\n        this.aircraftSelection = aircraftSelection;\n        this.playerDropdownMenu = playerDropdownMenu;\n        document.addEventListener(\"keydown\", (e)=>this.onKey(e, true));\n        document.addEventListener(\"keyup\", (e)=>this.onKey(e, false));\n        const canvas = document.getElementById(\"canvas\");\n        canvas.addEventListener(\"mousedown\", (e)=>this.onMouseFire(e, true));\n        canvas.addEventListener(\"mouseup\", (e)=>this.onMouseFire(e, false));\n        // listen for clicks on usernames in chat and player list\n        const chat = document.getElementById(\"chat\");\n        const playerList = document.getElementById(\"player-list\");\n        chat.addEventListener(\"mouseup\", (e)=>this.onMouseUpInChatOrPlayerList(e, false));\n        chat.addEventListener(\"contextmenu\", (e)=>this.onMouseUpInChatOrPlayerList(e, true));\n        playerList.addEventListener(\"mouseup\", (e)=>this.onMouseUpInChatOrPlayerList(e, false));\n        playerList.addEventListener(\"contextmenu\", (e)=>this.onMouseUpInChatOrPlayerList(e, true));\n    }\n    onMouseUpInChatOrPlayerList(e, isContextMenu) {\n        // if the landing page is still shown, do nothing here\n        if (!this.context.isActive) return;\n        const element = e.target;\n        if (!element.className || element.className.indexOf(\"player-name\") === -1) {\n            this.playerDropdownMenu.hide();\n            return;\n        }\n        if (!isContextMenu && e.button === 2) // regular right-click will be handled by contextmenu event.\n        return;\n        const playerName = element.dataset.name;\n        const playerId = element.dataset.id;\n        this.playerDropdownMenu.show(e.x, e.y, playerId, playerName);\n        e.preventDefault();\n        e.stopPropagation();\n    }\n    onMouseFire(e, isButtonDown) {\n        // if the landing page is still shown, do nothing here\n        if (!this.context.isActive) return;\n        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).KEYBOARD, {\n            key: (0, $76f6b37726981285$export$5fb656eb8279cede).FIRE,\n            state: isButtonDown\n        });\n        this.playerDropdownMenu.hide();\n    }\n    onKey(e, isKeyDown) {\n        // if the landing page is still shown, do nothing here\n        if (!this.context.isActive) return;\n        const isChatInputFocused = this.chatInput.isChatInputFocused();\n        // do limited key detection when typing in the chat box\n        if (isChatInputFocused) {\n            if (isKeyDown) {\n                if (e.keyCode === 27) this.chatInput.hide();\n                if (e.keyCode === 13) this.chatInput.submit();\n            }\n            return;\n        }\n        let preventDefault = false;\n        let keyToSend;\n        switch(e.keyCode){\n            case 16:\n            case 17:\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL;\n                break;\n            case 32:\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).FIRE;\n                break;\n            case 65:\n            case 37:\n                preventDefault = true;\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).LEFT;\n                break;\n            case 87:\n            case 38:\n                preventDefault = true;\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).UP;\n                break;\n            case 68:\n            case 39:\n                preventDefault = true;\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).RIGHT;\n                break;\n            case 83:\n            case 40:\n                preventDefault = true;\n                keyToSend = (0, $76f6b37726981285$export$5fb656eb8279cede).DOWN;\n                break;\n            case 13:\n                if (isKeyDown) this.chatInput.showAndFocus();\n                break;\n            case 86:\n                if (isKeyDown) this.spectate.spectate();\n                break;\n            case 88:\n                if (isKeyDown) this.applyUpgrades.dropUpgrade();\n                break;\n            case 89:\n                if (isKeyDown) this.dropFlag.dropFlag();\n                break;\n            case 90:\n                if (isKeyDown) this.autoFire.toggleAutoFire();\n                break;\n            case 49:\n            case 50:\n            case 51:\n            case 52:\n                if (isKeyDown) this.applyUpgrades.applyUpgrade(\"\" + (e.keyCode - 48));\n                break;\n            case 112:\n            case 113:\n            case 114:\n            case 115:\n            case 116:\n                preventDefault = true;\n                if (isKeyDown) this.aircraftSelection.selectAircraft(\"\" + (e.keyCode - 111));\n        }\n        if (keyToSend && !e.repeat) {\n            // if bot is active: stop it.\n            this.context.botstate.stop();\n            this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).KEYBOARD, {\n                key: keyToSend,\n                state: isKeyDown\n            });\n        }\n        if (preventDefault) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    }\n}\n\n\n\nclass $99755b491367fbff$export$45eb9afb13d4eaf2 {\n    constructor(context, chatInput, renderer){\n        this.context = context;\n        this.chatInput = chatInput;\n        this.renderer = renderer;\n        this.menu = document.getElementById(\"player-context-menu\");\n        this.menuTitle = document.getElementById(\"menu-title\");\n        this.menuStats = document.getElementById(\"menu-stats\");\n        // add handlers\n        const items = this.menu.getElementsByClassName(\"menu-item\");\n        for (const item of items)item.addEventListener(\"click\", ()=>this.onMenuItemClicked(item));\n    }\n    show(x, y, id, name) {\n        this.menu.style.left = x + \"px\";\n        this.menu.style.top = y + \"px\";\n        this.menu.style.display = \"block\";\n        this.currentId = Number(id);\n        this.currentName = decodeURI(name);\n        const player = this.context.state.getPlayerById(Number(id));\n        this.menuTitle.innerText = this.currentName;\n        this.menuStats.innerText = \"Kills: \" + player.kills + \"; Deaths: \" + player.deaths + \"\\n\" + \"Damage: \" + player.damage + \"; Ping: \" + player.ping + (this.context.gameType === (0, $87b45d444a9d6cc7$export$8b45ddaeb7c31e28).CTF ? \"\\nCaptures: \" + (player.captures ?? 0) : \"\");\n    }\n    hide() {\n        this.menu.style.display = \"none\";\n    }\n    onMenuItemClicked(item) {\n        this.hide();\n        const player = this.context.state.getPlayerById(this.currentId);\n        if (!player || player.name === \"Server\") return;\n        switch(item.id){\n            case \"menu-flag\":\n                this.context.connection.sendCommand(\"flag\", (0, $f956132f61210f83$export$66d1dac76b8287de)[\"\" + player.flag]);\n                break;\n            case \"menu-whisper\":\n                this.chatInput.startChat(`/w ${this.currentName} `);\n                break;\n            case \"menu-ignore\":\n                this.renderer.ignorePlayer(player.id);\n                this.renderer.addMessageToPlayer(\"Player chats will be ignored for player \" + player.name);\n                break;\n            case \"menu-unignore\":\n                this.renderer.unignorePlayer(player.id);\n                this.renderer.addMessageToPlayer(\"Removed player from the ignore list.\");\n                break;\n            case \"menu-votemute\":\n                this.context.connection.voteMute(player.id);\n                this.renderer.addMessageToPlayer(\"You have voted to mute player \" + player.name);\n                break;\n            case \"menu-locate\":\n                this.renderer.highlightPlayerOnMinimap(player.id);\n                break;\n            case \"menu-spectate\":\n                // start spectating\n                if (!this.context.state.spectatingId) this.context.connection.sendCommand(\"spectate\", \"-3\");\n                // spectate player\n                this.context.connection.sendCommand(\"spectate\", player.id + \"\");\n                break;\n            case \"menu-kill\":\n                this.context.botstate.playerToKill = player.id;\n                break;\n        }\n    }\n}\n\n\n\n\nclass $4585058afdd09f47$export$258822cc09b57006 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).EACH_SECOND\n        ];\n    }\n    exec(ev) {\n        // only do this when spectating\n        if (!this.context.state.spectatingId) return;\n        this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL, true);\n    }\n}\n\n\nclass $eb2423c71c5b5cec$export$fd6c1e481edfbf49 {\n    constructor(context){\n        this.context = context;\n        const drop = document.getElementById(\"drop-flag\");\n        drop.onclick = ()=>this.dropFlag();\n    }\n    dropFlag() {\n        this.context.connection.sendCommand(\"drop\", \"\");\n    }\n}\n\n\nclass $94e5356c1e2e427f$export$109633a66cd35549 {\n    constructor(context){\n        this.context = context;\n        const autofireButton = document.getElementById(\"auto-fire\");\n        autofireButton.onclick = ()=>this.toggleAutoFire();\n    }\n    toggleAutoFire() {\n        this.context.botstate.autoFire = !this.context.botstate.autoFire;\n        this.context.botstate.autoFireToggledManually = this.context.botstate.autoFire;\n    }\n}\n\n\n\n\n\nconst $1d96c29ebf0e6ca7$var$AUTOFIRE_THRESHOLD_MS = 250;\nclass $1d96c29ebf0e6ca7$export$14da6c45a3a92149 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n        this.timer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.wasAutoFiring = false;\n    }\n    exec(ev) {\n        if (!this.wasAutoFiring && !this.context.botstate.autoFire) return;\n        if (this.timer.elapsedMs < $1d96c29ebf0e6ca7$var$AUTOFIRE_THRESHOLD_MS) return;\n        this.timer.start();\n        this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).FIRE, this.context.botstate.autoFire);\n        this.wasAutoFiring = this.context.botstate.autoFire;\n    }\n}\n\n\nclass $1f3a6d8bc825c746$export$bda121a3d6c3df26 {\n    constructor(context){\n        this.context = context;\n        const drop = document.getElementById(\"spectate\");\n        drop.onclick = ()=>this.spectate();\n    }\n    spectate() {\n        this.context.connection.sendCommand(\"spectate\", \"-3\");\n    }\n}\n\n\n\n\nclass $eafbdc7589b7c78c$export$8ed2720d4b202729 {\n    constructor(context){\n        this.context = context;\n        const switchSides = document.getElementById(\"switch-sides\");\n        switchSides.onclick = ()=>this.switch();\n    }\n    switch() {\n        // prevent an endless loop if spectating fails\n        if (this.timer && this.timer.elapsedSeconds > 5) {\n            this.showMessage(\"Switch failed, giving up.\");\n            this.timer = null;\n            return;\n        }\n        if (!this.timer) this.timer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        const c = this.context;\n        if (c.botstate.isOn()) {\n            this.showMessage(\"Switching, stopping automatic activity...\");\n            c.botstate.stop(true);\n            c.tm.setTimeout(()=>this.switch(), 2000);\n            return;\n        }\n        if (!c.state.spectatingId) {\n            this.showMessage(\"Switching, entering spec mode...\");\n            c.connection.sendCommand(\"spectate\", \"-3\");\n            c.tm.setTimeout(()=>this.switch(), 500 + this.timer.elapsedMs / 4);\n            return;\n        }\n        this.timer = null;\n        this.showMessage(\"Switching...\");\n        c.connection.sendCommand(\"switch\", \"\");\n        c.tm.setTimeout(()=>{\n            this.showMessage(\"Switching, respawning...\");\n            const myAircraft = c.state.getPlayerById(c.state.myPlayerId);\n            c.connection.sendCommand(\"respawn\", myAircraft.type.toString());\n        }, 500);\n    }\n    showMessage(msg) {\n        const servermessage = {\n            text: msg,\n            duration: 1000\n        };\n        this.context.eventQueue.pub((0, $9968c76574ffabad$export$ada873a34909da65).SERVER_ANNOUNCEMENT, servermessage);\n    }\n}\n\n\n\n\n\n\n\nclass $93b2dfe17d3998ce$export$9bdec6016cc824e2 {\n    static getAngleDiff(current, target) {\n        return Math.atan2(Math.sin(target - current), Math.cos(target - current));\n    }\n    static getTargetRotation(pos1, pos2) {\n        let theta = Math.atan2(pos2.x - pos1.x, pos1.y - pos2.y);\n        if (theta < 0) theta += Math.PI * 2;\n        return theta;\n    }\n}\n\n\nconst $dc39bf6d2a3cff8d$var$MS_PER_SEC = 1000;\nconst $dc39bf6d2a3cff8d$var$FPS = 60;\nconst $dc39bf6d2a3cff8d$var$MS_PER_FRAME = $dc39bf6d2a3cff8d$var$MS_PER_SEC / $dc39bf6d2a3cff8d$var$FPS;\nclass $dc39bf6d2a3cff8d$export$d40142cf9c563f29 {\n    constructor(context, me, locationToFace){\n        this.context = context;\n        this.me = me;\n        this.locationToFace = locationToFace;\n    }\n    execute() {\n        if (this.context.botstate.turningTimeout) return;\n        const pos = this.locationToFace;\n        const targetRotation = (0, $93b2dfe17d3998ce$export$9bdec6016cc824e2).getTargetRotation(this.me.pos, pos);\n        const rotDiff = (0, $93b2dfe17d3998ce$export$9bdec6016cc824e2).getAngleDiff(this.me.rot, targetRotation);\n        const absDiff = Math.abs(rotDiff);\n        let key;\n        let otherKey;\n        if (rotDiff > 0) {\n            key = (0, $76f6b37726981285$export$5fb656eb8279cede).RIGHT;\n            otherKey = (0, $76f6b37726981285$export$5fb656eb8279cede).LEFT;\n        } else {\n            key = (0, $76f6b37726981285$export$5fb656eb8279cede).LEFT;\n            otherKey = (0, $76f6b37726981285$export$5fb656eb8279cede).RIGHT;\n        }\n        // turnfactor = turning distance per frame\n        const turnFactor = (0, $da9f0f51a11e6713$export$de794ad9b3d6afb7)[this.me.type].turnFactor;\n        const framesNeededToTurn = absDiff / turnFactor;\n        const duration = framesNeededToTurn * $dc39bf6d2a3cff8d$var$MS_PER_FRAME;\n        this.context.botstate.enqueueKey(key, true, duration);\n        this.context.botstate.enqueueKey(otherKey, false);\n    }\n}\n\n\n\n\nclass $3bdf395871f08f45$export$1f333647865369bf {\n    static getDelta(first, second) {\n        if (!first || !second) return null;\n        const diffX = second.x - first.x;\n        const diffY = second.y - first.y;\n        const distance = Math.sqrt(diffX * diffX + diffY * diffY);\n        return {\n            diffX: diffX,\n            diffY: diffY,\n            distance: distance\n        };\n    }\n}\n\n\nconst $367927effb37cee8$var$MS_PER_SEC = 1000;\nconst $367927effb37cee8$var$FPS = 60;\nconst $367927effb37cee8$var$MS_PER_FRAME = $367927effb37cee8$var$MS_PER_SEC / $367927effb37cee8$var$FPS;\nclass $367927effb37cee8$export$e7a0742013817f1a {\n    static predictPosition(pos, speed, lookaheadMs) {\n        if (!speed || !pos) return pos;\n        const framesAhead = lookaheadMs / $367927effb37cee8$var$MS_PER_FRAME;\n        const pred = {\n            x: pos.x + speed.x * framesAhead,\n            y: pos.y + speed.y * framesAhead\n        };\n        return pred;\n    }\n}\n\n\n\nconst $bb452d04388de75d$var$DISTANCE_CLOSE = 300;\nconst $bb452d04388de75d$var$DISTANCE_TOO_CLOSE = 50;\nconst $bb452d04388de75d$var$DISTANCE_FAR = $bb452d04388de75d$var$DISTANCE_CLOSE * 2;\nconst $bb452d04388de75d$var$MS_PER_SEC = 1000;\nconst $bb452d04388de75d$var$FPS = 60;\nconst $bb452d04388de75d$var$MS_PER_FRAME = $bb452d04388de75d$var$MS_PER_SEC / $bb452d04388de75d$var$FPS;\nclass $bb452d04388de75d$export$b68a86b8e4024f3b {\n    constructor(context, me, posToGoTo, closeness = $bb452d04388de75d$var$DISTANCE_CLOSE, backupIfTooClose = true){\n        this.context = context;\n        this.me = me;\n        this.posToGoTo = posToGoTo;\n        this.closeness = closeness;\n        this.backupIfTooClose = backupIfTooClose;\n    }\n    finish(isClose, distance) {\n        this.context.botstate.path = null;\n        this.context.botstate.enqueueKey((0, $76f6b37726981285$export$5fb656eb8279cede).UP, false);\n        if (this.backupIfTooClose) this.context.botstate.enqueueKey((0, $76f6b37726981285$export$5fb656eb8279cede).DOWN, true);\n        return {\n            isClose: isClose,\n            distance: distance\n        };\n    }\n    execute(tickDuration, allowBoostRange = $bb452d04388de75d$var$DISTANCE_FAR) {\n        const { distance: distance } = (0, $3bdf395871f08f45$export$1f333647865369bf).getDelta(this.me.pos, this.posToGoTo);\n        this.context.botstate.distanceToTarget = Math.round(distance);\n        if (distance < $bb452d04388de75d$var$DISTANCE_TOO_CLOSE) return this.finish(true, distance);\n        this.context.botstate.initPathFindingWorker();\n        if (this.context.botstate.needsNewPath) {\n            // avoid players and missiles\n            const avoid = [];\n            for (const p of this.context.state.getPlayers()){\n                if (p.id === this.me.id || p.id === this.context.botstate.playerToKill) continue;\n                avoid.push((0, $367927effb37cee8$export$e7a0742013817f1a).predictPosition(p.mostReliablePos, p.speed, tickDuration));\n            }\n            for (const m of this.context.state.getMissiles()){\n                if (m.team === this.me.team) continue;\n                avoid.push((0, $367927effb37cee8$export$e7a0742013817f1a).predictPosition(m.pos, m.speed, tickDuration));\n            }\n            this.context.botstate.calcPath({\n                pos1: this.me.pos,\n                pos2: this.posToGoTo,\n                aircraftType: this.me.type,\n                pointsToAvoid: avoid\n            });\n        }\n        if (!this.context.botstate.path) // still calculating\n        return {\n            isClose: false,\n            distance: distance\n        };\n        const path = this.context.botstate.path;\n        const nextStep = this.nextStep(path, tickDuration);\n        if (!nextStep) return this.finish(true, distance);\n        const faceLocation = new (0, $dc39bf6d2a3cff8d$export$d40142cf9c563f29)(this.context, this.me, nextStep);\n        faceLocation.execute();\n        const isClose = distance < this.closeness;\n        if (isClose) return this.finish(true, distance);\n        else {\n            this.context.botstate.enqueueKey((0, $76f6b37726981285$export$5fb656eb8279cede).UP, true);\n            if (this.me.type === (0, $da9f0f51a11e6713$export$aa1d7fff11452d37).PREDATOR) this.context.botstate.autoBoost = distance > allowBoostRange;\n        }\n        return {\n            isClose: isClose,\n            distance: distance\n        };\n    }\n    nextStep(path, tickDurationMs) {\n        const firstStep = path[0];\n        if (!firstStep) return null;\n        const { distance: distance } = (0, $3bdf395871f08f45$export$1f333647865369bf).getDelta(this.me.mostReliablePos, firstStep);\n        const numFramesInPrevTick = tickDurationMs / $bb452d04388de75d$var$MS_PER_FRAME;\n        const distancePrevTick = Math.sqrt(Math.pow(this.me.speed.y, 2) + Math.pow(this.me.speed.x, 2)) * numFramesInPrevTick;\n        if (distance > distancePrevTick * 3) {\n            this.context.botstate.path = path.slice(1);\n            return firstStep;\n        }\n        return this.nextStep(path.slice(1), tickDurationMs);\n    }\n}\n\n\n\n\nconst $bea75fb613efa0dd$var$BOT_TICK_MS = 250;\nconst $bea75fb613efa0dd$var$SHOOTING_RANGE = 1000;\nclass $bea75fb613efa0dd$export$32f32f5cf98c6d99 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n        this.timer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)($bea75fb613efa0dd$var$BOT_TICK_MS);\n        this.timer.start();\n    }\n    exec(ev) {\n        if (!this.timer.hasTimedOut) return;\n        if (this.context.botstate.autoPilotToFlag) this.autoPilot();\n        else if (this.context.botstate.playerToKill) this.followPlayer();\n        this.doSteering();\n        this.timer.start();\n    }\n    autoPilot() {\n        const otherTeam = this.context.state.getOtherCtfTeam(this.context.state.team);\n        if (!otherTeam) return;\n        const me = this.context.state.getFocusedPlayer();\n        let posToGoTo = otherTeam.flagPos;\n        if (otherTeam.flagState === (0, $87b45d444a9d6cc7$export$dc70d30ea27a9c84).DYNAMIC) {\n            // flag is on the move\n            if (otherTeam.flagTakenById === this.context.state.myPlayerId) {\n                // I'm carrying the flag\n                // fly back to our own flag\n                if (this.context.state.team === (0, $87b45d444a9d6cc7$export$d26f8cc6b574a220).BLUE) posToGoTo = (0, $6c828cc0e99890b6$export$94c011cc3650170c).blue;\n                else posToGoTo = (0, $6c828cc0e99890b6$export$94c011cc3650170c).red;\n            } else {\n                const carrier = this.context.state.getPlayerById(otherTeam.flagTakenById);\n                if (carrier) posToGoTo = carrier.mostReliablePos;\n            }\n        }\n        const goto = new (0, $bb452d04388de75d$export$b68a86b8e4024f3b)(this.context, me, posToGoTo, 10, false);\n        goto.execute(this.timer.elapsedMs);\n    }\n    followPlayer() {\n        const killPlayer = this.context.state.getPlayerById(this.context.botstate.playerToKill);\n        if (!killPlayer) {\n            this.context.botstate.playerToKill = null;\n            return;\n        }\n        if (killPlayer.status !== (0, $87b45d444a9d6cc7$export$757f4d82d38e44cb).ALIVE) return;\n        const me = this.context.state.getFocusedPlayer();\n        const posToGoTo = killPlayer.mostReliablePos;\n        const goto = new (0, $bb452d04388de75d$export$b68a86b8e4024f3b)(this.context, me, posToGoTo);\n        const { isClose: isClose, distance: distance } = goto.execute(this.timer.elapsedMs, $bea75fb613efa0dd$var$SHOOTING_RANGE);\n        if (isClose) {\n            const faceLocation = new (0, $dc39bf6d2a3cff8d$export$d40142cf9c563f29)(this.context, me, posToGoTo);\n            faceLocation.execute();\n        }\n        if (distance < $bea75fb613efa0dd$var$SHOOTING_RANGE) this.context.botstate.autoFire = true;\n        else this.context.botstate.autoFire = false;\n    }\n    doSteering() {\n        const keyInstructions = this.context.botstate.eatKeyQueue();\n        const allKeys = [\n            (0, $76f6b37726981285$export$5fb656eb8279cede).UP,\n            (0, $76f6b37726981285$export$5fb656eb8279cede).DOWN,\n            (0, $76f6b37726981285$export$5fb656eb8279cede).LEFT,\n            (0, $76f6b37726981285$export$5fb656eb8279cede).RIGHT,\n            (0, $76f6b37726981285$export$5fb656eb8279cede).FIRE,\n            (0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL\n        ];\n        // only send the last state per key of all instructions\n        for (const keyCode of allKeys)for(let i = keyInstructions.length - 1; i >= 0; i--){\n            const instr = keyInstructions[i];\n            if (instr.key === keyCode) {\n                // in case of duration (= turning during a certain time, or boosting), only send the key if we aren't doing it already.\n                if (instr.duration > 0) {\n                    // check if we can reserve a timeout slot\n                    const timeoutAcquired = this.context.botstate.requestTimeoutFor(instr);\n                    if (timeoutAcquired) this.context.connection.sendKey(instr.key, instr.state);\n                } else this.context.connection.sendKey(instr.key, instr.state);\n                break;\n            }\n        }\n    }\n}\n\n\nclass $ab36003b7ef5a21c$export$73376787cff0536 {\n    constructor(context){\n        this.context = context;\n        const button = document.getElementById(\"fly-to-flag\");\n        button.onclick = ()=>this.autoPilotToFlag();\n    }\n    autoPilotToFlag() {\n        this.context.botstate.autoPilotToFlag = !this.context.botstate.autoPilotToFlag;\n    }\n}\n\n\n\n\n\nconst $463d127a4f96db4b$var$AUTOBOOST_THRESHOLD_MS = 1000;\nclass $463d127a4f96db4b$export$d3c56bb08f4622c8 {\n    constructor(context){\n        this.context = context;\n        this.handles = [\n            (0, $9968c76574ffabad$export$ada873a34909da65).TICK\n        ];\n        this.timer = new (0, $ed2bcfa6a550406e$export$81ce11201617bceb)();\n        this.wasAutoBoosting = false;\n    }\n    exec(ev) {\n        if (!this.wasAutoBoosting && !this.context.botstate.autoBoost) return;\n        if (this.timer.elapsedMs < $463d127a4f96db4b$var$AUTOBOOST_THRESHOLD_MS) return;\n        const enemyTeam = this.context.state.getOtherCtfTeam(this.context.state.team);\n        if (enemyTeam && enemyTeam.flagTakenById === this.context.state.myPlayerId) return;\n        this.timer.start();\n        this.context.connection.sendKey((0, $76f6b37726981285$export$5fb656eb8279cede).SPECIAL, this.context.botstate.autoBoost);\n        this.wasAutoBoosting = this.context.botstate.autoBoost;\n    }\n}\n\n\nclass $ce89236c681df704$export$2d00a038b309a8fa {\n    constructor(){\n        this.renderer = new (0, $243a668d12848bf5$export$88530751e3977073)(this);\n        this.botstate = new (0, $bbad732aa541d8da$export$7e611eda647c99e9)(this);\n        this.chatInput = new (0, $91c0951a886107eb$export$19b903fd083c557c)(this);\n        this.aircraftSelection = new (0, $0994f77e21259343$export$407d81fed3aadf8c)(this);\n        this.upgradeSelection = new (0, $01916f20cc6acfae$export$42b438d73b8c4813)(this);\n        this.dropFlag = new (0, $eb2423c71c5b5cec$export$fd6c1e481edfbf49)(this);\n        this.autofire = new (0, $94e5356c1e2e427f$export$109633a66cd35549)(this);\n        this.spectate = new (0, $1f3a6d8bc825c746$export$bda121a3d6c3df26)(this);\n        this.autoPilotToFlag = new (0, $ab36003b7ef5a21c$export$73376787cff0536)(this);\n        this.switchSides = new (0, $eafbdc7589b7c78c$export$8ed2720d4b202729)(this) // adds event handler to button\n        ;\n        this.playerDropdownMenu = new (0, $99755b491367fbff$export$45eb9afb13d4eaf2)(this, this.chatInput, this.renderer);\n        this.browserInitialization = new (0, $bf23c47bbc5287c8$export$2d4fc1947ee0ef49)(this);\n        this.browserVisibilityHandler = new (0, $522acc80766a1de1$export$694fff7a1fdd2092)(this);\n        this.keyboardInput = new (0, $281b583cc7804df9$export$24fb9f64148439b8)(this, this.chatInput, this.upgradeSelection, this.dropFlag, this.autofire, this.spectate, this.aircraftSelection, this.playerDropdownMenu);\n        this.browserInitialization.detectVisibilityChange();\n        this.browserInitialization.throttleZoom();\n        this.logger = new (0, $45c0f08d71a09fb6$export$f7a7c196f3347cb6)();\n        this.webSocketFactory = new (0, $388004d7e0733cf6$export$1fc7b7aa89fe6430)();\n        this.settings = new (0, $60e13f38b92dc041$export$c72f6eaae7b9adff)();\n        this.eventQueue = new (0, $83ea097b3d8b02b5$export$2fc6338444a158e6)();\n        this.tm = new (0, $01459c8a440766ec$export$7a3ed086e5f6e799)();\n        this.processor = new (0, $7477aee85877c805$export$a532fd855d35deb0)(this);\n        this.state = new (0, $5d431779d34d0e11$export$7254cc27399e90bd)();\n        this.connection = new (0, $2678f6b020b306a6$export$98b66c25bb38499d)(this);\n        this.handlers = [\n            ...(0, $5aa44addb5d309de$export$1c97c34345443340).getDefaultHandlers(this),\n            new (0, $b305ac19c5b8613b$export$6f5bdb10fc1e8bcf)(this),\n            new (0, $2b19eb4d00b066ef$export$7844237461c8aa85)(this),\n            new (0, $efe7aa38ca456f2f$export$3c77209166e9f341)(this),\n            new (0, $967dee051c5605c1$export$5aeec621b3135ec8)(this),\n            new (0, $3f0b29c9b9b818dd$export$475e1b6ebd5909d3)(this),\n            new (0, $df691a74ed020c82$export$c1d8b1ebee9937a)(this),\n            new (0, $b24ad1d080064890$export$c339d1be4f8ccc8c)(this),\n            new (0, $107c71edb2e354cd$export$85d64bac6bfa9f17)(this),\n            new (0, $1d69ee043a1b2d46$export$a6a698d3755b38ea)(this),\n            new (0, $eb9d75dfdd8bcf6d$export$debf6dbafc38d822)(this),\n            new (0, $5f638201e24c3bf1$export$669c6859c790e38f)(this),\n            new (0, $49a8accf75f9ad17$export$80b0c53878a17868)(this),\n            // client tools\n            new (0, $4585058afdd09f47$export$258822cc09b57006)(this),\n            new (0, $1d96c29ebf0e6ca7$export$14da6c45a3a92149)(this),\n            new (0, $463d127a4f96db4b$export$d3c56bb08f4622c8)(this),\n            // bot\n            new (0, $bea75fb613efa0dd$export$32f32f5cf98c6d99)(this)\n        ];\n    }\n    async start() {\n        this.logger.info(\"Initializing app\");\n        this.processor.startProcessingEventQueue();\n        await this.connection.init();\n        this.isActive = true;\n        this.logger.info(\"Initialization finished\");\n    }\n    setBrowserVisibility(isVisible) {\n        this.isBrowserVisible = isVisible;\n        if (!isVisible) this.browserVisibilityHandler.clearKeys();\n    }\n}\n\n\n\n\nvar $b302555736d21bd7$exports = {};\n\n$b302555736d21bd7$exports = (parcelRequire(\"7we3r\"));\n\n\nclass $63cb6858cb4f8cdd$export$3705b54de0e001da {\n}\n\n\nclass $d523b41cd20d3b4b$export$532f6546a3761db5 {\n}\n\n\nclass $8907ee98afb1028f$export$84364f9bc5016998 {\n}\n\n\nconst $450e6aededd4f07e$var$GAMES_URL = \"https://data.airmash.rocks/games?main=1&_=\";\nconst $450e6aededd4f07e$var$FALLBACK_URL = \"https://raw.githubusercontent.com/airmash-refugees/airmash-games/master/games.txt?_=\";\nconst $450e6aededd4f07e$var$LOCAL_SERVER_URL = \"wss://ffa.airmash.click\";\nclass $450e6aededd4f07e$export$853f5eec935cba76 {\n    addLocalServerUrl(serverInfo) {\n        // if running locally, add the local server url to connect to\n        if (!$450e6aededd4f07e$var$LOCAL_SERVER_URL) return;\n        const localUrl = new URL($450e6aededd4f07e$var$LOCAL_SERVER_URL);\n        serverInfo.data.unshift({\n            games: [\n                {\n                    host: localUrl.host,\n                    id: \"local\",\n                    name: \"Local\",\n                    nameShort: \"local\",\n                    path: localUrl.pathname.slice(1),\n                    players: 0,\n                    type: localUrl.protocol === \"ws:\" ? 0 : 1\n                }\n            ],\n            id: \"local\",\n            name: \"Local\"\n        });\n    }\n    async getServerInfo() {\n        let result;\n        try {\n            const response = await (0, (/*@__PURE__*/$parcel$interopDefault($b302555736d21bd7$exports))).get($450e6aededd4f07e$var$GAMES_URL + Date.now());\n            const data = response.data;\n            // the data property in the response is again stringified\n            data.data = JSON.parse(data.data);\n            result = data;\n        } catch (error) {\n            result = await this.getFallbackData();\n        }\n        this.addLocalServerUrl(result);\n        return result;\n    }\n    async getFallbackData() {\n        // fallback data\n        const response = await (0, (/*@__PURE__*/$parcel$interopDefault($b302555736d21bd7$exports))).get($450e6aededd4f07e$var$FALLBACK_URL + Date.now());\n        const data = response.data;\n        const lines = data.split(\"\\n\");\n        const result = new (0, $8907ee98afb1028f$export$84364f9bc5016998)();\n        result.country = \"?\";\n        result.protocol = 1;\n        result.data = [];\n        for (const line of lines){\n            const fields = line.split(\"|\");\n            let region = result.data.find((x)=>x.name === fields[0]);\n            if (!region) {\n                region = new (0, $d523b41cd20d3b4b$export$532f6546a3761db5)();\n                region.name = fields[0];\n                region.id = fields[0];\n                region.games = [];\n                result.data.push(region);\n            }\n            const game = new (0, $63cb6858cb4f8cdd$export$3705b54de0e001da)();\n            game.name = fields[3];\n            game.nameShort = fields[4];\n            game.host = fields[5];\n            game.path = fields[6];\n            region.games.push(game);\n        }\n        return result;\n    }\n}\n\n\nclass $8b37cc73752ebf78$export$e7bb156bab272e0b {\n    async loadStyle(url) {\n        // replace all image files with this style\n        const images = document.querySelectorAll(\"img\");\n        for (const img of images)img.src = img.src.replace(this.lastUrl, url);\n        // replace css link in header\n        const link = document.getElementById(\"ui-styling\");\n        link.href = link.href.replace(this.lastUrl, url);\n        this.lastUrl = url;\n    }\n    constructor(){\n        this.lastUrl = \"styles/default/\";\n    }\n}\n\n\nconst $9b0c53c9efd7c1a8$var$LOGIN_URL = \"https://login.airmash.rocks\";\nconst $9b0c53c9efd7c1a8$var$AUTH_DATA_KEY = \"auth-data\";\nclass $9b0c53c9efd7c1a8$export$24087d0993113155 {\n    constructor(context){\n        this.context = context;\n        this.loginButton = document.getElementById(\"loginButton\");\n        this.loginSelector = document.getElementById(\"loginselector\");\n        this.overlay = document.getElementById(\"overlay\");\n        this.loginMessage = document.getElementById(\"loginMessage\");\n        this.orgLoginMessageText = this.loginMessage.innerHTML;\n        this.orgLoginButtonText = this.loginButton.value;\n        this.loginButton.addEventListener(\"click\", ()=>{\n            const isLoggedIn = !!this.context.auth;\n            if (isLoggedIn) this.logout();\n            else {\n                // show login stuff\n                this.overlay.style.display = \"block\";\n                this.loginSelector.style.display = \"block\";\n            }\n        });\n        this.overlay.addEventListener(\"click\", ()=>this.finish());\n        const loginButtons = document.querySelectorAll(\".loginbutton\");\n        for (const btn of loginButtons){\n            const provider = btn.getAttribute(\"data-provider\");\n            btn.addEventListener(\"click\", ()=>this.loginPopup(Number(provider)));\n        }\n        this.loadPreviousLoginData();\n    }\n    async loadPreviousLoginData() {\n        try {\n            const raw = localStorage.getItem($9b0c53c9efd7c1a8$var$AUTH_DATA_KEY);\n            if (raw) {\n                const data = JSON.parse(raw);\n                this.context.auth = data;\n            }\n        } catch (error) {\n            this.context.logger.error(\"Auth data could not be loaded\", error);\n        }\n        this.toggleLoginMessage();\n    }\n    toggleLoginMessage() {\n        const isLoggedIn = !!this.context.auth;\n        if (isLoggedIn) {\n            this.loginButton.value = \"Log out\";\n            this.loginMessage.innerHTML = `Logged in as ${this.context.auth.loginName}`;\n        } else {\n            this.loginButton.value = this.orgLoginButtonText;\n            this.loginMessage.innerHTML = this.orgLoginMessageText;\n        }\n    }\n    finish() {\n        this.overlay.style.display = \"none\";\n        this.loginSelector.style.display = \"none\";\n    }\n    getRandomToken(length) {\n        let token = window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16);\n        if (length - token.length > 0) token += this.getRandomToken(length - token.length);\n        return token.substr(0, length);\n    }\n    /*\r\n     * The popup window opened on login.airmash.rocks ends up posting a message\r\n     * back to the main window like so:\r\n     *\r\n     *   <html>\r\n     *     <head>\r\n     *       <script type=\"text/javascript\">\r\n     *         function closePopup(){\r\n     *           window.opener.postMessage({\r\n     *               nonce:       \"…\",  // randomly generated by client, for CSRF prevention\r\n     *               tokens:      \"…\",  // tokens used by client to authenticate with settings service and game servers\r\n     *               provider:     …,   // number indicating which identity provider  }- these are for client\r\n     *               loginname:   \"…\",  // account name or email                      }  display only\r\n     *              }, \"https://…\"); // expected to match origin of window.opener e.g. https://airmash.rocks\r\n     *           window.close();\r\n     *         }\r\n     *       </script>\r\n     *     </head>\r\n     *     <body onload=\"closePopup()\"></body>\r\n     *   </html>\r\n     *\r\n     * On the original airma.sh, the login window could call window.opener.loginSuccess()\r\n     * directly as they had the same origin. But now we will want to use the same login\r\n     * flow from multiple domains (airmash.rocks, starma.sh, ...),\r\n     * therefore use Window.postMessage() and Window.addEventListener() for cross-origin\r\n     * communication\r\n     *\r\n     */ loginPopup(provider) {\n        window.addEventListener(\"message\", (e)=>this.receiveLoginMessage(e), {\n            once: true\n        });\n        this.usedProvider = provider;\n        this.loginToken = this.getRandomToken(32);\n        const url = `${$9b0c53c9efd7c1a8$var$LOGIN_URL}/login?provider=${provider}&nonce=${this.loginToken}&origin=${window.origin}`;\n        const width = provider === 4 ? 900 : 400;\n        const height = provider === 5 ? 800 : 600;\n        this.openLoginWindow(url, \"Login\", width, height);\n    }\n    openLoginWindow(url, windowTitle, width, height) {\n        const screenLeft = window.screenLeft ? window.screenLeft : window.screenX;\n        const screenTop = window.screenTop ? window.screenTop : window.screenY;\n        const left = (window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width) / 2 - width / 2 + screenLeft;\n        const top = (window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height) / 2 - height / 2 + screenTop;\n        window.open(url, windowTitle, \"width=\" + width + \", height=\" + height + \", top=\" + top + \", left=\" + left);\n    }\n    receiveLoginMessage(e) {\n        if (e.origin !== $9b0c53c9efd7c1a8$var$LOGIN_URL) {\n            this.context.logger.error(\"bad origin for login message: \" + e.origin);\n            return;\n        }\n        if (e.data.provider !== this.usedProvider) {\n            this.context.logger.error(\"identity provider does not match: \" + e.data.provider);\n            return;\n        }\n        if (e.data.nonce !== this.loginToken) {\n            this.context.logger.error(\"nonce does not match: \" + e.data.nonce);\n            return;\n        }\n        this.loginToken = null;\n        this.usedProvider = null;\n        this.loginSuccess({\n            identityProvider: e.data.provider,\n            loginName: e.data.loginname,\n            tokens: e.data.tokens\n        });\n    }\n    loginSuccess(data) {\n        this.context.auth = data;\n        localStorage.setItem($9b0c53c9efd7c1a8$var$AUTH_DATA_KEY, JSON.stringify(data));\n        this.toggleLoginMessage();\n        this.finish();\n    }\n    logout() {\n        localStorage.removeItem($9b0c53c9efd7c1a8$var$AUTH_DATA_KEY);\n        this.context.auth = null;\n        this.toggleLoginMessage();\n    }\n}\n\n\nclass $1c970cb51b56fb85$export$355f3d6a1f8b250c {\n    constructor(context){\n        this.context = context;\n        this.serverGamesRepository = new (0, $450e6aededd4f07e$export$853f5eec935cba76)();\n        this.stylesRepository = new (0, $8b37cc73752ebf78$export$e7bb156bab272e0b)();\n        this.nameInput = document.getElementById(\"playerName\");\n        this.styleSelect = document.getElementById(\"styleSelect\");\n        this.zoomSelect = document.getElementById(\"zoomSelect\");\n        this.thirdPartyLogin = new (0, $9b0c53c9efd7c1a8$export$24087d0993113155)(context);\n    }\n    async run() {\n        this.doBackground();\n        await this.populateServerList();\n        this.loadAllFlags();\n        this.fillInPrevSettings();\n        this.loadConstantsPromise = this.stylesRepository.loadStyle(\"styles/default/\");\n        this.styleSelect.addEventListener(\"change\", ()=>{\n            if (this.styleSelect.value !== \"no-bitmaps\") this.loadConstantsPromise = this.stylesRepository.loadStyle(this.styleSelect.value);\n        });\n    }\n    fillInPrevSettings() {\n        const prevSettingsString = (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).get(\"settings\");\n        if (!prevSettingsString) return;\n        const prevSettings = JSON.parse(prevSettingsString);\n        this.nameInput.value = prevSettings.playerName;\n        this.select(this.zoomSelect, prevSettings.zoom.toString());\n        if (!prevSettings.useBitmaps) this.styleSelect.options[1].selected = true;\n    }\n    select(selectElement, value) {\n        for (const option of selectElement.options)if (option.value === value) {\n            option.selected = true;\n            break;\n        }\n    }\n    async startGame(websocketUrl) {\n        this.context.settings.playerName = this.nameInput.value || \"Unknown\";\n        this.context.settings.websocketUrl = websocketUrl;\n        this.context.settings.zoom = Number(this.zoomSelect.value) || 1;\n        this.context.settings.useBitmaps = this.styleSelect.value !== \"no-bitmaps\";\n        this.context.settings.horizonX = window.innerWidth / 2;\n        this.context.settings.horizonY = window.innerHeight / 2;\n        (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).set(\"settings\", JSON.stringify(this.context.settings), {\n            expires: 365\n        });\n        document.getElementById(\"nameAndGame\").style.display = \"none\";\n        document.getElementById(\"chat\").style.display = \"block\";\n        document.getElementById(\"chat-input\").style.display = \"block\";\n        document.getElementById(\"aircraftSelection\").style.display = \"block\";\n        document.getElementById(\"stats\").style.display = \"block\";\n        document.getElementById(\"upgradeSelection\").style.display = \"block\";\n        document.getElementById(\"actionButtons\").style.display = \"block\";\n        document.getElementById(\"minimap\").style.display = \"block\";\n        document.getElementById(\"player-list\").style.display = \"block\";\n        document.getElementById(\"server-message\").style.display = \"block\";\n        if (location.href.indexOf(\"debug\") > -1) {\n            document.getElementById(\"debugPanel\").style.display = \"block\";\n            this.context.settings.shouldShowDebugInfo = true;\n        }\n        await this.loadConstantsPromise;\n        // ctf-block will be shown later\n        window.document.body.style.backgroundImage = \"inherit\";\n        this.context.start();\n        // expose context to manipulation in F12 :)\n        window.gameContext = this.context;\n    }\n    async populateServerList() {\n        const serverInfo = await this.serverGamesRepository.getServerInfo();\n        const flag = (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).get(\"flag\") || serverInfo.country;\n        this.context.settings.flag = flag;\n        const gamesContainer = document.getElementById(\"games\");\n        const table = document.createElement(\"table\");\n        table.innerHTML = \"<tr><th>Region</th><th>Game</th><th>Players online</th><th></th></tr>\";\n        gamesContainer.append(table);\n        for (const server of serverInfo.data)for (const game of server.games){\n            const row = document.createElement(\"tr\");\n            table.append(row);\n            const cellRegion = document.createElement(\"td\");\n            row.append(cellRegion);\n            cellRegion.innerText = server.name;\n            cellRegion.className = \"region\";\n            const cellGameName = document.createElement(\"td\");\n            row.append(cellGameName);\n            cellGameName.innerText = game.name;\n            cellGameName.className = \"game-name\";\n            const cellNumPlayers = document.createElement(\"td\");\n            row.append(cellNumPlayers);\n            cellNumPlayers.innerText = game.players || game.players === 0 ? game.players.toString() : \"?\";\n            cellNumPlayers.className = \"num-players\";\n            const cellButton = document.createElement(\"td\");\n            row.append(cellButton);\n            const button = document.createElement(\"input\");\n            cellButton.append(button);\n            cellButton.className = \"start-button\";\n            button.type = \"button\";\n            button.value = \"Start\";\n            let protocol = \"wss\";\n            if (game.type === 0) protocol = \"ws\"; // no https\n            const url = `${protocol}://${game.host}/${game.path}`;\n            button.onclick = ()=>this.startGame(url);\n        }\n    }\n    loadAllFlags() {\n        for (const flag of Object.keys((0, $f956132f61210f83$export$c5279c2d460d3a22))){\n            const img = document.createElement(\"img\");\n            img.src = `flags/${flag}.png`;\n            img.style.display = \"none\";\n            img.id = `flag-${flag}`;\n            document.body.appendChild(img);\n        }\n    }\n    doBackground() {\n        const map = document.getElementById(\"map\");\n        window.document.body.style.backgroundImage = `url(${map.src})`;\n        window.document.body.style.backgroundSize = \"cover\";\n    }\n}\n\n\n(0, $bbad732aa541d8da$export$7e611eda647c99e9).createPathFindingWorker = ()=>new Worker('browser-worker.js?v=' + timestamp);\nconst $39417c10a2068975$var$landingPage = new (0, $1c970cb51b56fb85$export$355f3d6a1f8b250c)(new (0, $ce89236c681df704$export$2d00a038b309a8fa)());\n$39417c10a2068975$var$landingPage.run();\n\n\n//# sourceMappingURL=index.614c9a53.js.map\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\naxios.VERSION = require('./env/data').version;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return Array.isArray(val);\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return toString.call(val) === '[object FormData]';\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return toString.call(val) === '[object URLSearchParams]';\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(configOrUrl, config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof configOrUrl === 'string') {\n    config = config || {};\n    config.url = configOrUrl;\n  } else {\n    config = configOrUrl || {};\n  }\n\n  if (!config.url) {\n    throw new Error('Provided config url is not valid');\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean),\n      forcedJSONParsing: validators.transitional(validators.boolean),\n      clarifyTimeoutError: validators.transitional(validators.boolean)\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  if (!config.url) {\n    throw new Error('Provided config url is not valid');\n  }\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new Cancel('canceled');\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional || defaults.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar defaults = require('../defaults');\nvar Cancel = require('../cancel/Cancel');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n    var onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      var transitional = config.transitional || defaults.transitional;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = function(cancel) {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || (cancel && cancel.type) ? new Cancel('canceled') : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      return getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(prop) {\n    if (prop in config2) {\n      return getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  var mergeMap = {\n    'url': valueFromConfig2,\n    'method': valueFromConfig2,\n    'data': valueFromConfig2,\n    'baseURL': defaultToConfig2,\n    'transformRequest': defaultToConfig2,\n    'transformResponse': defaultToConfig2,\n    'paramsSerializer': defaultToConfig2,\n    'timeout': defaultToConfig2,\n    'timeoutMessage': defaultToConfig2,\n    'withCredentials': defaultToConfig2,\n    'adapter': defaultToConfig2,\n    'responseType': defaultToConfig2,\n    'xsrfCookieName': defaultToConfig2,\n    'xsrfHeaderName': defaultToConfig2,\n    'onUploadProgress': defaultToConfig2,\n    'onDownloadProgress': defaultToConfig2,\n    'decompress': defaultToConfig2,\n    'maxContentLength': defaultToConfig2,\n    'maxBodyLength': defaultToConfig2,\n    'transport': defaultToConfig2,\n    'httpAgent': defaultToConfig2,\n    'httpsAgent': defaultToConfig2,\n    'cancelToken': defaultToConfig2,\n    'socketPath': defaultToConfig2,\n    'responseEncoding': defaultToConfig2,\n    'validateStatus': mergeDirectKeys\n  };\n\n  utils.forEach(Object.keys(config1).concat(Object.keys(config2)), function computeConfigValue(prop) {\n    var merge = mergeMap[prop] || mergeDeepProperties;\n    var configValue = merge(prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n};\n","'use strict';\n\nvar VERSION = require('../env/data').version;\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')));\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  assertOptions: assertOptions,\n  validators: validators\n};\n","module.exports = {\n  \"version\": \"0.25.0\"\n};","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n\n  // eslint-disable-next-line func-names\n  this.promise.then(function(cancel) {\n    if (!token._listeners) return;\n\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n    token._listeners = null;\n  });\n\n  // eslint-disable-next-line func-names\n  this.promise.then = function(onfulfilled) {\n    var _resolve;\n    // eslint-disable-next-line func-names\n    var promise = new Promise(function(resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Subscribe to the cancel signal\n */\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n\n/**\n * Unsubscribe from the cancel signal\n */\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n  var index = this._listeners.indexOf(listener);\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n};\n","declare var timestamp: string;\r\n\r\nimport { BotState } from \"./botting/bot-state\";\r\nimport { BrowserContext } from \"./browser-impl/browser-context\";\r\nimport { LandingPage } from \"./browser-impl/landing-page\";\r\n\r\nBotState.createPathFindingWorker = () => new Worker('browser-worker.js?v=' + timestamp);\r\n\r\nconst landingPage = new LandingPage(new BrowserContext());\r\nlandingPage.run();\r\n\r\n","import { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { IPos } from \"../models/ipos\";\r\nimport { IFindPathConfig } from \"./ifindpath-config\";\r\nimport { IKeyInstruction } from \"./key-instruction\";\r\n\r\nconst PATHFINDING_TIMEOUT = 500; // ms\r\nconst PATHFINDING_STALE = 500; // ms\r\n\r\nexport class BotState {\r\n    playerToKill: number;\r\n    turningTimeout: any;\r\n    boostTimeout: any;\r\n    path: IPos[];\r\n    distanceToTarget: number;\r\n    autoPilotToFlag: boolean;\r\n    autoFire: boolean;\r\n    autoFireToggledManually: boolean;\r\n    autoBoost: boolean;\r\n\r\n    pathFindingWorker: Worker;\r\n    calculatingPathStopwatch: StopWatch;\r\n    public static createPathFindingWorker: () => Worker;\r\n\r\n    private keyQueue: IKeyInstruction[] = [];\r\n    private isWorkerInitializing = false;\r\n    private readonly stopwatchAfterCalculatingPath = new StopWatch();\r\n\r\n    constructor(private context: IContext) {\r\n        this.initPathFindingWorker();\r\n    }\r\n\r\n    initPathFindingWorker() {\r\n        if (!this.isWorkerInitializing && this.calculatingPathStopwatch && this.calculatingPathStopwatch.elapsedMs > PATHFINDING_TIMEOUT) {\r\n            // error in worker probably\r\n            this.context.logger.warn(\"Recycling pathfindingworker after \" + this.calculatingPathStopwatch.elapsedMs + \" ms\");\r\n            this.pathFindingWorker.terminate();\r\n            this.pathFindingWorker = null;\r\n            this.calculatingPathStopwatch = null;\r\n        }\r\n\r\n        if (!this.pathFindingWorker) {\r\n            this.isWorkerInitializing = true;\r\n            this.pathFindingWorker = BotState.createPathFindingWorker();\r\n            this.pathFindingWorker.onmessage = e => {\r\n                if (e.data === \"ready\") {\r\n                    this.isWorkerInitializing = false;\r\n                    return;\r\n                }\r\n                const calculatedPath = JSON.parse(e.data);\r\n\r\n                if (this.calculatingPathStopwatch.elapsedMs < PATHFINDING_STALE) {\r\n                    this.path = calculatedPath.path;\r\n                }\r\n\r\n                this.calculatingPathStopwatch = null;\r\n                this.stopwatchAfterCalculatingPath.start();\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n    get needsNewPath(): boolean {\r\n        const isCalculating = !!this.calculatingPathStopwatch;\r\n        return !isCalculating && this.stopwatchAfterCalculatingPath.elapsedMs > PATHFINDING_STALE;\r\n    }\r\n\r\n\r\n    calcPath(config: IFindPathConfig) {\r\n        this.pathFindingWorker.postMessage(JSON.stringify(config));\r\n        this.calculatingPathStopwatch = new StopWatch();\r\n    }\r\n\r\n    stop(force = false) {\r\n        this.path = null;\r\n        this.playerToKill = null;\r\n        this.autoPilotToFlag = false;\r\n        this.autoBoost = false;\r\n        if (!this.autoFireToggledManually || force) {\r\n            this.autoFire = false;\r\n        }\r\n    }\r\n\r\n    isOn(): boolean {\r\n        return !!this.path || !!this.playerToKill || !!this.autoPilotToFlag || !!this.autoFire;\r\n    }\r\n\r\n    enqueueKey(key: KEY_CODES, state: boolean, duration = 0) {\r\n        this.keyQueue.push({ key, state, duration });\r\n    }\r\n\r\n    eatKeyQueue(): IKeyInstruction[] {\r\n        const result = this.keyQueue;\r\n        this.keyQueue = [];\r\n        return result;\r\n    }\r\n\r\n    requestTimeoutFor(instr: IKeyInstruction) {\r\n        switch (instr.key) {\r\n            case KEY_CODES.SPECIAL:\r\n                if (this.boostTimeout) {\r\n                    return null;\r\n                }\r\n                this.boostTimeout = setTimeout(() => {\r\n                    this.context.connection.sendKey(instr.key, !instr.state);\r\n                    this.context.botstate.boostTimeout = null;\r\n                }, instr.duration);\r\n\r\n                return this.boostTimeout;\r\n            default:\r\n                if (this.turningTimeout) {\r\n                    return null;\r\n                }\r\n                this.turningTimeout = setTimeout(() => {\r\n                    this.context.connection.sendKey(instr.key, !instr.state);\r\n                    this.context.botstate.turningTimeout = null;\r\n                }, instr.duration);\r\n\r\n                return this.turningTimeout;\r\n        }\r\n    }\r\n\r\n}","import * as ClientPackets from './types/packets-client';\r\nimport * as ServerPackets from './types/packets-server';\r\n\r\nexport { ClientPackets, ServerPackets };\r\nexport * from './support/errors';\r\nexport * from './packets';\r\nexport { default as CLIENT_PACKETS } from './packets/client';\r\nexport { default as SERVER_PACKETS } from './packets/server';\r\nexport { default as CLIENT_SCHEMAS } from './schemas/client';\r\nexport { default as SERVER_SCHEMAS } from './schemas/server';\r\nexport * from './marshaling';\r\nexport * from './unmarshaling';\r\nexport * from './types/client';\r\nexport * from './types/server';\r\nexport * from './types/data';\r\nexport * from './types/flags';\r\nexport * from './support/utils';\r\nexport * from './decoding';\r\nexport * from './encoding';\r\n","import { ProtocolPacket } from '../packets';\r\n\r\n/**\r\n * Login request.\r\n * First request after connection open.\r\n */\r\nexport interface Login extends ProtocolPacket {\r\n  /**\r\n   * Protocol major version.\r\n   */\r\n  protocol?: number;\r\n\r\n  /**\r\n   * Desired player name.\r\n   */\r\n  name?: string;\r\n\r\n  /**\r\n   * User session.\r\n   */\r\n  session?: string;\r\n\r\n  /**\r\n   * Half-width screen value.\r\n   * Game map units.\r\n   */\r\n  horizonX?: number;\r\n\r\n  /**\r\n   * Half-height screen value.\r\n   * Game map units.\r\n   */\r\n  horizonY?: number;\r\n\r\n  /**\r\n   * Desired country flag.\r\n   */\r\n  flag?: string;\r\n}\r\n\r\n/**\r\n * Request from backup connection to associate with the player.\r\n */\r\nexport interface Backup extends ProtocolPacket {\r\n  /**\r\n   * Token from `Login` response.\r\n   */\r\n  token?: string;\r\n}\r\n\r\n/**\r\n * Request new viewport size.\r\n */\r\nexport interface Horizon extends ProtocolPacket {\r\n  /**\r\n   * Half-width screen value.\r\n   * Game map units.\r\n   */\r\n  horizonX?: number;\r\n\r\n  /**\r\n   * Half-height screen value.\r\n   * Game map units.\r\n   */\r\n  horizonY?: number;\r\n}\r\n\r\n/**\r\n * Ack.\r\n * Look for an explanation on HN.\r\n */\r\nexport interface Ack extends ProtocolPacket {}\r\n\r\n/**\r\n * Response to `Ping` request.\r\n */\r\nexport interface Pong extends ProtocolPacket {\r\n  /**\r\n   * Response validation token.\r\n   */\r\n  num?: number;\r\n}\r\n\r\n/**\r\n * Update key state.\r\n */\r\nexport interface Key extends ProtocolPacket {\r\n  /**\r\n   * Key press/release increasing id.\r\n   */\r\n  seq?: number;\r\n\r\n  /**\r\n   * Key code.\r\n   */\r\n  key?: number;\r\n\r\n  /**\r\n   * Press state.\r\n   * true — pressed.\r\n   */\r\n  state?: boolean;\r\n}\r\n\r\n/**\r\n * Send command.\r\n */\r\nexport interface Command extends ProtocolPacket {\r\n  /**\r\n   * Command name.\r\n   */\r\n  com?: string;\r\n\r\n  /**\r\n   * Command arguments.\r\n   */\r\n  data?: string;\r\n}\r\n\r\n/**\r\n * Request `ScoreDetailed`, `ScoreDetailedCtf` or `ScoreDetailedBtr` response.\r\n */\r\nexport interface Scoredetailed extends ProtocolPacket {}\r\n\r\n/**\r\n * Send message in the public chat.\r\n */\r\nexport interface Chat extends ProtocolPacket {\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * Send private message to player.\r\n */\r\nexport interface Whisper extends ProtocolPacket {\r\n  /**\r\n   * Recipient ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * Send message in the say chat.\r\n */\r\nexport interface Say extends ProtocolPacket {\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * Send message in the team chat.\r\n */\r\nexport interface Teamchat extends ProtocolPacket {\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * Vote to mute player.\r\n */\r\nexport interface Votemute extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * Currently not used.\r\n */\r\nexport interface Localping extends ProtocolPacket {\r\n  auth?: number;\r\n}\r\n","import { ProtocolPacket } from '../packets';\r\nimport {\r\n  CTF_TEAMS,\r\n  CTF_FLAG_STATE,\r\n  SERVER_CUSTOM_TYPES,\r\n  SERVER_MESSAGE_TYPES,\r\n  MOB_DESPAWN_TYPES,\r\n  MOB_TYPES,\r\n  LEAVE_HORIZON_TYPES,\r\n  PLAYER_LEVEL_UPDATE_TYPES,\r\n  PLAYER_POWERUP_TYPES,\r\n  BTR_FIREWALL_STATUS,\r\n  PLAYER_STATUS,\r\n  ClockTime,\r\n  SERVER_ERRORS,\r\n  COMMAND_REPLY_TYPES,\r\n  PLAYER_UPGRADE_TYPES,\r\n} from './server';\r\n\r\n/**\r\n * Connected player.\r\n */\r\nexport interface LoginPlayer {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player alive status.\r\n   */\r\n  status?: PLAYER_STATUS;\r\n\r\n  /**\r\n   * Account level.\r\n   */\r\n  level?: number;\r\n\r\n  /**\r\n   * Unique player name assigned by server.\r\n   */\r\n  name?: string;\r\n\r\n  /**\r\n   * Airplane type.\r\n   */\r\n  type?: number;\r\n\r\n  /**\r\n   * Player team ID.\r\n   */\r\n  team?: number;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Player country flag.\r\n   */\r\n  flag?: number;\r\n\r\n  /**\r\n   * `encodeUpgrades` result. See lib function.\r\n   */\r\n  upgrades?: number;\r\n}\r\n\r\nexport interface LoginBot {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * Response on client `Login`.\r\n */\r\nexport interface Login extends ProtocolPacket {\r\n  /**\r\n   * Currently not used.\r\n   */\r\n  success?: boolean;\r\n\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player team.\r\n   */\r\n  team?: number;\r\n\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Token to init backup connection.\r\n   */\r\n  token?: string;\r\n\r\n  /**\r\n   * Airplane type.\r\n   */\r\n  type?: number;\r\n\r\n  /**\r\n   * Server name.\r\n   */\r\n  room?: string;\r\n\r\n  /**\r\n   * List of connected players.\r\n   */\r\n  players?: LoginPlayer[];\r\n\r\n  /**\r\n   * Server configuration.\r\n   */\r\n  serverConfiguration?: string;\r\n\r\n  /**\r\n   * List of bots ID.\r\n   */\r\n  bots?: LoginBot[];\r\n}\r\n\r\n/**\r\n * Empty packet. Currently not used.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\r\nexport interface Backup extends ProtocolPacket {}\r\n\r\n/**\r\n * Ping request.\r\n */\r\nexport interface Ping extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Random number to validate `Pong` response.\r\n   */\r\n  num?: number;\r\n}\r\n\r\n/**\r\n * Response on client `Pong`.\r\n */\r\nexport interface PingResult extends ProtocolPacket {\r\n  /**\r\n   * Player ping, ms.\r\n   */\r\n  ping?: number;\r\n\r\n  /**\r\n   * Total players among the servers group (like EU, US, ASIA, etc.).\r\n   */\r\n  playerstotal?: number;\r\n\r\n  /**\r\n   * Total players on this game server.\r\n   */\r\n  playersgame?: number;\r\n}\r\n\r\n/**\r\n * Empty packet. Currently not used.\r\n */\r\nexport interface Ack extends ProtocolPacket {}\r\n\r\n/**\r\n * Error notification. Only informing, it doesn't disconnect the player.\r\n */\r\nexport interface Error extends ProtocolPacket {\r\n  /**\r\n   * Error ID.\r\n   */\r\n  error?: SERVER_ERRORS;\r\n}\r\n\r\n/**\r\n * Response on the client `Command`.\r\n */\r\nexport interface CommandReply extends ProtocolPacket {\r\n  /**\r\n   * Reply type ID.\r\n   */\r\n  type?: COMMAND_REPLY_TYPES;\r\n\r\n  /**\r\n   * Reply content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * New player connected.\r\n */\r\nexport interface PlayerNew extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player alive status.\r\n   */\r\n  status?: PLAYER_STATUS;\r\n\r\n  /**\r\n   * Unique player name assigned by server.\r\n   */\r\n  name?: string;\r\n\r\n  /**\r\n   * Airplane type.\r\n   */\r\n  type?: number;\r\n\r\n  /**\r\n   * Player team.\r\n   */\r\n  team?: number;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Player country code.\r\n   */\r\n  flag?: number;\r\n\r\n  /**\r\n   * `encodeUpgrades` result. See lib function.\r\n   */\r\n  upgrades?: number;\r\n\r\n  /**\r\n   * Is player a bot.\r\n   */\r\n  isBot?: boolean;\r\n}\r\n\r\n/**\r\n * Player disconnected.\r\n */\r\nexport interface PlayerLeave extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * Player update state.\r\n */\r\nexport interface PlayerUpdate extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * `encodeKeystate` result. See lib function.\r\n   */\r\n  keystate?: number;\r\n\r\n  /**\r\n   * `encodeUpgrades` result. See lib function.\r\n   */\r\n  upgrades?: number;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Player velocity vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Player velocity vector Y.\r\n   */\r\n  speedY?: number;\r\n}\r\n\r\n/**\r\n * Player fired projectile.\r\n */\r\nexport interface PlayerFireProjectile {\r\n  /**\r\n   * Projectile ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Projectile type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Projectile high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Projectile high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Projectile start velocity vector X.\r\n   * Depends on player velocity and flight direction.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Projectile start velocity vector Y.\r\n   * Depends on player velocity and flight direction.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Acceleration vector X.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  accelX?: number;\r\n\r\n  /**\r\n   * Acceleration vector Y.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  accelY?: number;\r\n\r\n  /**\r\n   * Maximum projectile speed.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  maxSpeed?: number;\r\n}\r\n\r\n/**\r\n * Player fired projectiles.\r\n */\r\nexport interface PlayerFire extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player energy.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Energy regen.\r\n   * Depends on player upgrades.\r\n   */\r\n  energyRegen?: number;\r\n\r\n  /**\r\n   * Fired projectiles.\r\n   */\r\n  projectiles?: PlayerFireProjectile[];\r\n}\r\n\r\n/**\r\n * Player respawned.\r\n */\r\nexport interface PlayerRespawn extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * `encodeUpgrades` result. See lib function.\r\n   */\r\n  upgrades?: number;\r\n}\r\n\r\n/**\r\n * Player country flag update.\r\n */\r\nexport interface PlayerFlag extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Flag country code.\r\n   */\r\n  flag?: number;\r\n}\r\n\r\n/**\r\n * Hurted victim.\r\n */\r\nexport interface PlayerHitPlayer {\r\n  /**\r\n   * Victim ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Victim health.\r\n   */\r\n  health?: number;\r\n\r\n  /**\r\n   * Victim health regen.\r\n   * Depends on victim airplane type.\r\n   */\r\n  healthRegen?: number;\r\n}\r\n\r\n/**\r\n * Projectile hit player(s).\r\n */\r\nexport interface PlayerHit extends ProtocolPacket {\r\n  /**\r\n   * Projectile ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Projectile type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Hit high-res position X (projectile explosion position).\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Hit high-res position Y (projectile explosion position).\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Projectile owner ID.\r\n   */\r\n  owner?: number;\r\n\r\n  /**\r\n   * Hurted victims.\r\n   */\r\n  players?: PlayerHitPlayer[];\r\n}\r\n\r\n/**\r\n * Player was killed or removed from the map.\r\n * Used with spectate packet for the fast remove\r\n * spectator from the map (spectator receives {spectatorId, 0, 0, 0}).\r\n */\r\nexport interface PlayerKill extends ProtocolPacket {\r\n  /**\r\n   * Victim ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Killer ID.\r\n   */\r\n  killer?: number;\r\n\r\n  /**\r\n   * Death high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Death high-res position Y.\r\n   */\r\n  posY?: number;\r\n}\r\n\r\n/**\r\n * Player applied (but not picked up the box) or lost upgrades.\r\n */\r\nexport interface PlayerUpgrade extends ProtocolPacket {\r\n  /**\r\n   * Player free upgrades.\r\n   */\r\n  upgrades?: number;\r\n\r\n  /**\r\n   * Action type: lose or apply.\r\n   */\r\n  type?: PLAYER_UPGRADE_TYPES;\r\n\r\n  /**\r\n   * Active speed upgrades.\r\n   */\r\n  speed?: number;\r\n\r\n  /**\r\n   * Active defense upgrades.\r\n   */\r\n  defense?: number;\r\n\r\n  /**\r\n   * Active energy upgrades.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Active missile upgrades.\r\n   */\r\n  missile?: number;\r\n}\r\n\r\n/**\r\n * Player changed airplane type.\r\n */\r\nexport interface PlayerType extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Airplane type.\r\n   */\r\n  type?: number;\r\n}\r\n\r\n/**\r\n * Player received powerup.\r\n */\r\nexport interface PlayerPowerup extends ProtocolPacket {\r\n  /**\r\n   * Powerup type.\r\n   */\r\n  type?: PLAYER_POWERUP_TYPES;\r\n\r\n  /**\r\n   * Powerup duration.\r\n   */\r\n  duration?: number;\r\n}\r\n\r\n/**\r\n * Player level info.\r\n */\r\nexport interface PlayerLevel extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Level info type.\r\n   */\r\n  type?: PLAYER_LEVEL_UPDATE_TYPES;\r\n\r\n  /**\r\n   * Player level > 0.\r\n   */\r\n  level?: number;\r\n}\r\n\r\n/**\r\n * New player team.\r\n */\r\nexport interface PlayerReteamPlayers {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player new team ID.\r\n   */\r\n  team?: number;\r\n}\r\n\r\n/**\r\n * Players changed their teams.\r\n */\r\nexport interface PlayerReteam extends ProtocolPacket {\r\n  /**\r\n   * Players list.\r\n   */\r\n  players?: PlayerReteamPlayers[];\r\n}\r\n\r\n/**\r\n * Update CTF flag state or team score.\r\n */\r\nexport interface GameFlag extends ProtocolPacket {\r\n  /**\r\n   * Flag state.\r\n   */\r\n  type?: CTF_FLAG_STATE;\r\n\r\n  /**\r\n   * Flag team.\r\n   */\r\n  flag?: CTF_TEAMS;\r\n\r\n  /**\r\n   * Flag owner ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Flag high-res position X.\r\n   * If CTF_FLAG_STATE = DYNAMIC it doesn't matter.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Flag high-res position Y.\r\n   * If CTF_FLAG_STATE = DYNAMIC it doesn't matter.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Blue team score.\r\n   */\r\n  blueteam?: number;\r\n\r\n  /**\r\n   * Red team score.\r\n   */\r\n  redteam?: number;\r\n}\r\n\r\n/**\r\n * Switch into spectator mode or change spectating player.\r\n */\r\nexport interface GameSpectate extends ProtocolPacket {\r\n  /**\r\n   * ID of spectated player.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * BTF game state.\r\n */\r\nexport interface GamePlayersalive extends ProtocolPacket {\r\n  /**\r\n   * Total players alive.\r\n   */\r\n  players?: number;\r\n}\r\n\r\n/**\r\n * BTF firewall state.\r\n */\r\nexport interface GameFirewall extends ProtocolPacket {\r\n  /**\r\n   * Currently not used.\r\n   */\r\n  type?: number;\r\n\r\n  /**\r\n   * Firewall activity status.\r\n   */\r\n  status?: BTR_FIREWALL_STATUS;\r\n\r\n  /**\r\n   * Firewall high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Firewall high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Firewall radius.\r\n   */\r\n  radius?: number;\r\n\r\n  /**\r\n   * Firewall reducing speed.\r\n   */\r\n  speed?: number;\r\n}\r\n\r\n/**\r\n * Repeled victim.\r\n */\r\nexport interface EventRepelPlayer {\r\n  /**\r\n   * Victim ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * `encodeKeystate` result. See lib function.\r\n   */\r\n  keystate?: number;\r\n\r\n  /**\r\n   * Victim high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Victim high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Victim rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Victim speed vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Victim speed vector Y.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Victim energy.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Victim energy regen.\r\n   * Depends on victim upgrades.\r\n   */\r\n  energyRegen?: number;\r\n\r\n  /**\r\n   * Victim health.\r\n   */\r\n  playerHealth?: number;\r\n\r\n  /**\r\n   * Victim health regen.\r\n   */\r\n  playerHealthRegen?: number;\r\n}\r\n\r\n/**\r\n * Repeled projectile.\r\n */\r\nexport interface EventRepelMob {\r\n  /**\r\n   * Projectile ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Projectile type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Projectile high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Projectile high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Projectile new velocity vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Projectile new velocity vector Y.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Projectile new acceleration vector X.\r\n   */\r\n  accelX?: number;\r\n\r\n  /**\r\n   * Projectile new acceleration vector Y.\r\n   */\r\n  accelY?: number;\r\n\r\n  /**\r\n   * Maximum projectile speed.\r\n   */\r\n  maxSpeed?: number;\r\n}\r\n\r\nexport interface EventRepel extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Repel owner.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Repel center position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Repel center position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Owner rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Owner velocity vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Owner velocity vector Y.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Owner energy.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Owner energy regen.\r\n   * Depends on player upgrades.\r\n   */\r\n  energyRegen?: number;\r\n\r\n  /**\r\n   * Repeled players.\r\n   */\r\n  players?: EventRepelPlayer[];\r\n\r\n  /**\r\n   * Repeled projectiles.\r\n   */\r\n  mobs?: EventRepelMob[];\r\n}\r\n\r\n/**\r\n * Predator start or stop boost.\r\n */\r\nexport interface EventBoost extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * true — boost start, false — stop.\r\n   */\r\n  boost?: boolean;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Player velocity vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Player velocity vector Y.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Player energy.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Player energy regen.\r\n   * Depends on player upgrades.\r\n   */\r\n  energyRegen?: number;\r\n}\r\n\r\n/**\r\n * Player bounced from the mountain.\r\n */\r\nexport interface EventBounce extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * `encodeKeystate` result. See lib function.\r\n   */\r\n  keystate?: number;\r\n\r\n  /**\r\n   * Player high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Player high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Player rotation.\r\n   */\r\n  rot?: number;\r\n\r\n  /**\r\n   * Player new velocity vector X after bounce.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Player new velocity vector Y after bounce.\r\n   */\r\n  speedY?: number;\r\n}\r\n\r\n/**\r\n * Prowler stealth state.\r\n */\r\nexport interface EventStealth extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * true — player invisible, false — visible.\r\n   */\r\n  state?: boolean;\r\n\r\n  /**\r\n   * Player energy.\r\n   */\r\n  energy?: number;\r\n\r\n  /**\r\n   * Player energy regen.\r\n   * Depends on player upgrades.\r\n   */\r\n  energyRegen?: number;\r\n}\r\n\r\n/**\r\n * Player or mob (projectile, powerup or upgrade) leaves screen\r\n * of the player received the packet. Actually not the screen,\r\n * but the viewport, which depends on scale factor. It may be more\r\n * or less of the player real screen.\r\n */\r\nexport interface EventLeavehorizon extends ProtocolPacket {\r\n  /**\r\n   * Object type\r\n   */\r\n  type?: LEAVE_HORIZON_TYPES;\r\n\r\n  /**\r\n   * Mob/Player ID.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * Spawn projectile on the player screen.\r\n */\r\nexport interface MobUpdate extends ProtocolPacket {\r\n  /**\r\n   * Packet time.\r\n   */\r\n  clock?: ClockTime;\r\n\r\n  /**\r\n   * Projectile ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Projectile type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Projectile high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Projectile high-res position Y.\r\n   */\r\n  posY?: number;\r\n\r\n  /**\r\n   * Projectile velocity vector X.\r\n   */\r\n  speedX?: number;\r\n\r\n  /**\r\n   * Projectile velocity vector Y.\r\n   */\r\n  speedY?: number;\r\n\r\n  /**\r\n   * Projectile acceleration vector X.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  accelX?: number;\r\n\r\n  /**\r\n   * Projectile acceleration vector Y.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  accelY?: number;\r\n\r\n  /**\r\n   * Maximum projectile speed.\r\n   * Depends on owner upgrades at the moment of fire.\r\n   */\r\n  maxSpeed?: number;\r\n}\r\n\r\n/**\r\n * Spawn/show box (powerup or upgrade) on the player screen.\r\n */\r\nexport interface MobUpdateStationary extends ProtocolPacket {\r\n  /**\r\n   * Mob ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Mob type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Mob high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Mob high-res position Y.\r\n   */\r\n  posY?: number;\r\n}\r\n\r\n/**\r\n * Projectile, powerup or upgrade was despawned or picked up (boxes only).\r\n */\r\nexport interface MobDespawn extends ProtocolPacket {\r\n  /**\r\n   * Mob ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Mob despawn reason.\r\n   */\r\n  type?: MOB_DESPAWN_TYPES;\r\n}\r\n\r\n/**\r\n * Projectile hit a mountain.\r\n */\r\nexport interface MobDespawnCoords extends ProtocolPacket {\r\n  /**\r\n   * Projectile ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Projectile type.\r\n   */\r\n  type?: MOB_TYPES;\r\n\r\n  /**\r\n   * Projectile high-res position X.\r\n   */\r\n  posX?: number;\r\n\r\n  /**\r\n   * Projectile high-res position Y.\r\n   */\r\n  posY?: number;\r\n}\r\n\r\n/**\r\n * Player was killed, killed another player, got a new level\r\n * or picked up an upgrade.\r\n */\r\nexport interface ScoreUpdate extends ProtocolPacket {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player score.\r\n   */\r\n  score?: number;\r\n\r\n  /**\r\n   * Only for accounts.\r\n   *\r\n   * Total score acquired by player over the entire account life.\r\n   */\r\n  earnings?: number;\r\n\r\n  /**\r\n   * Free player upgrades.\r\n   */\r\n  upgrades?: number;\r\n\r\n  /**\r\n   * Total player account (or current guest session) kills.\r\n   */\r\n  totalkills?: number;\r\n\r\n  /**\r\n   * Total player account (or current guest session) deaths.\r\n   */\r\n  totaldeaths?: number;\r\n}\r\n\r\n/**\r\n * Sorted list of players.\r\n */\r\nexport interface ScoreBoardData {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player score.\r\n   */\r\n  score?: number;\r\n\r\n  /**\r\n   * Player level.\r\n   */\r\n  level?: number;\r\n}\r\n\r\n/**\r\n * Sorted list of players.\r\n * If position (0, 0) — player in spectator mode.\r\n */\r\nexport interface ScoreBoardRanking {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Low resolution position X.\r\n   */\r\n  x?: number;\r\n\r\n  /**\r\n   * Low resolution position Y.\r\n   */\r\n  y?: number;\r\n}\r\n\r\n/**\r\n * Minimap and players rates and states update.\r\n */\r\nexport interface ScoreBoard extends ProtocolPacket {\r\n  /**\r\n   * Players score.\r\n   */\r\n  data?: ScoreBoardData[];\r\n\r\n  /**\r\n   * Players location and state (spectate or not).\r\n   */\r\n  rankings?: ScoreBoardRanking[];\r\n}\r\n\r\n/**\r\n * FFA rating item.\r\n */\r\nexport interface ScoreDetailedScore {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player level.\r\n   */\r\n  level?: number;\r\n\r\n  /**\r\n   * Player score during game session.\r\n   */\r\n  score?: number;\r\n\r\n  /**\r\n   * Player kills during game session.\r\n   */\r\n  kills?: number;\r\n\r\n  /**\r\n   * Player deaths during game session.\r\n   */\r\n  deaths?: number;\r\n\r\n  /**\r\n   * Player damage during game session.\r\n   */\r\n  damage?: number;\r\n\r\n  /**\r\n   * Player last ping value.\r\n   */\r\n  ping?: number;\r\n}\r\n\r\n/**\r\n * FFA sorted players list.\r\n */\r\nexport interface ScoreDetailed extends ProtocolPacket {\r\n  scores?: ScoreDetailedScore[];\r\n}\r\n\r\n/**\r\n * CTF rating item.\r\n */\r\nexport interface ScoreDetailedCtfScore {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player level.\r\n   */\r\n  level?: number;\r\n\r\n  /**\r\n   * Flag captures by player during game session.\r\n   */\r\n  captures?: number;\r\n\r\n  /**\r\n   * Player score during game session.\r\n   */\r\n  score?: number;\r\n\r\n  /**\r\n   * Player kills during game session.\r\n   */\r\n  kills?: number;\r\n\r\n  /**\r\n   * Player deaths during game session.\r\n   */\r\n  deaths?: number;\r\n\r\n  /**\r\n   * Player damage during game session.\r\n   */\r\n  damage?: number;\r\n\r\n  /**\r\n   * Player last ping value.\r\n   */\r\n  ping?: number;\r\n}\r\n\r\n/**\r\n * CTF sorted players list.\r\n */\r\nexport interface ScoreDetailedCtf extends ProtocolPacket {\r\n  /**\r\n   * Players score.\r\n   */\r\n  scores?: ScoreDetailedCtfScore[];\r\n}\r\n\r\n/**\r\n * BTR rating item.\r\n */\r\nexport interface ScoreDetailedBtrScore {\r\n  /**\r\n   * Player ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Player level.\r\n   */\r\n  level?: number;\r\n\r\n  /**\r\n   * Player alive or not.\r\n   */\r\n  alive?: boolean;\r\n\r\n  /**\r\n   * Player wins during game session.\r\n   */\r\n  wins?: number;\r\n\r\n  /**\r\n   * Player score during game session.\r\n   */\r\n  score?: number;\r\n\r\n  /**\r\n   * Player kills during game session.\r\n   */\r\n  kills?: number;\r\n\r\n  /**\r\n   * Player deaths during game session.\r\n   */\r\n  deaths?: number;\r\n\r\n  /**\r\n   * Player damage during game session.\r\n   */\r\n  damage?: number;\r\n\r\n  /**\r\n   * Player last ping value.\r\n   */\r\n  ping?: number;\r\n}\r\n\r\n/**\r\n * BTR sorted players list.\r\n */\r\nexport interface ScoreDetailedBtr extends ProtocolPacket {\r\n  /**\r\n   * Players score.\r\n   */\r\n  scores?: ScoreDetailedBtrScore[];\r\n}\r\n\r\n/**\r\n * New team chat message by player.\r\n */\r\nexport interface ChatTeam extends ProtocolPacket {\r\n  /**\r\n   * Message owner ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * New public chat message by player.\r\n */\r\nexport interface ChatPublic extends ProtocolPacket {\r\n  /**\r\n   * Message owner ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * New public say message by player.\r\n */\r\nexport interface ChatSay extends ProtocolPacket {\r\n  /**\r\n   * Message owner ID.\r\n   */\r\n  id?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * New whisper message.\r\n */\r\nexport interface ChatWhisper extends ProtocolPacket {\r\n  /**\r\n   * Message owner ID.\r\n   */\r\n  from?: number;\r\n\r\n  /**\r\n   * Recipient ID.\r\n   */\r\n  to?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * Player was muted.\r\n */\r\nexport interface ChatVotemutepassed extends ProtocolPacket {\r\n  /**\r\n   * Muted player ID.\r\n   */\r\n  id?: number;\r\n}\r\n\r\n/**\r\n * Player was muted. Response on player attempt to chat.\r\n */\r\nexport interface ChatVotemuted extends ProtocolPacket {}\r\n\r\n/**\r\n * Server HTML message.\r\n */\r\nexport interface ServerMessage extends ProtocolPacket {\r\n  type?: SERVER_MESSAGE_TYPES;\r\n\r\n  /**\r\n   * Duration on the screen.\r\n   */\r\n  duration?: number;\r\n\r\n  /**\r\n   * Message content.\r\n   */\r\n  text?: string;\r\n}\r\n\r\n/**\r\n * CTF end game alert data.\r\n */\r\nexport interface ServerCustomCTFData {\r\n  /**\r\n   * Winner team.\r\n   */\r\n  w: CTF_TEAMS;\r\n\r\n  /**\r\n   * Bounty reward.\r\n   */\r\n  b: number;\r\n\r\n  /**\r\n   * Alert duration.\r\n   */\r\n  t: number;\r\n}\r\n\r\n/**\r\n * BTR end game alert data.\r\n */\r\nexport interface ServerCustomBTRData {\r\n  /**\r\n   * Winner country flag code.\r\n   */\r\n  f: number;\r\n\r\n  /**\r\n   * Winner name.\r\n   */\r\n  p: string;\r\n\r\n  /**\r\n   * Winner kills.\r\n   */\r\n  k: number;\r\n\r\n  /**\r\n   * Bounty reward.\r\n   */\r\n  b: number;\r\n\r\n  /**\r\n   * Alert duration.\r\n   */\r\n  t: number;\r\n}\r\n\r\n/**\r\n * CTF or BTR end game alert.\r\n */\r\nexport interface ServerCustom extends ProtocolPacket {\r\n  /**\r\n   * Game mode type.\r\n   */\r\n  type?: SERVER_CUSTOM_TYPES;\r\n\r\n  /**\r\n   * JSON.\r\n   */\r\n  data?: string;\r\n}\r\n","/* eslint-disable max-classes-per-file */\r\nexport class ProtocolError {\r\n  public name: string;\r\n\r\n  public message: string;\r\n\r\n  constructor(message = '') {\r\n    this.name = this.constructor.name;\r\n    this.message = message;\r\n  }\r\n}\r\n\r\nexport class StringEncodeError extends ProtocolError {}\r\n\r\nexport class StringDecodeError extends ProtocolError {}\r\n","export interface WSPacket {\r\n  /**\r\n   * Packet code.\r\n   */\r\n  c?: number;\r\n}\r\n\r\nexport interface ProtocolPacket extends WSPacket {\r\n  [index: string]: {}[] | number | string | boolean;\r\n}\r\n","export default {\r\n  LOGIN: 0,\r\n  BACKUP: 1,\r\n  HORIZON: 2,\r\n  ACK: 5,\r\n  PONG: 6,\r\n  KEY: 10,\r\n  COMMAND: 11,\r\n  SCOREDETAILED: 12,\r\n  CHAT: 20,\r\n  WHISPER: 21,\r\n  SAY: 22,\r\n  TEAMCHAT: 23,\r\n  VOTEMUTE: 24,\r\n  LOCALPING: 255,\r\n};\r\n","export default {\r\n  LOGIN: 0,\r\n  BACKUP: 1,\r\n  PING: 5,\r\n  PING_RESULT: 6,\r\n  ACK: 7,\r\n  ERROR: 8,\r\n  COMMAND_REPLY: 9,\r\n  PLAYER_NEW: 10,\r\n  PLAYER_LEAVE: 11,\r\n  PLAYER_UPDATE: 12,\r\n  PLAYER_FIRE: 13,\r\n  PLAYER_HIT: 14,\r\n  PLAYER_RESPAWN: 15,\r\n  PLAYER_FLAG: 16,\r\n  PLAYER_KILL: 17,\r\n  PLAYER_UPGRADE: 18,\r\n  PLAYER_TYPE: 19,\r\n  PLAYER_POWERUP: 20,\r\n  PLAYER_LEVEL: 21,\r\n  PLAYER_RETEAM: 22,\r\n  GAME_FLAG: 30,\r\n  GAME_SPECTATE: 31,\r\n  GAME_PLAYERSALIVE: 32,\r\n  GAME_FIREWALL: 33,\r\n  EVENT_REPEL: 40,\r\n  EVENT_BOOST: 41,\r\n  EVENT_BOUNCE: 42,\r\n  EVENT_STEALTH: 43,\r\n  EVENT_LEAVEHORIZON: 44,\r\n  MOB_UPDATE: 60,\r\n  MOB_UPDATE_STATIONARY: 61,\r\n  MOB_DESPAWN: 62,\r\n  MOB_DESPAWN_COORDS: 63,\r\n  CHAT_PUBLIC: 70,\r\n  CHAT_TEAM: 71,\r\n  CHAT_SAY: 72,\r\n  CHAT_WHISPER: 73,\r\n  CHAT_VOTEMUTEPASSED: 78,\r\n  CHAT_VOTEMUTED: 79,\r\n  SCORE_UPDATE: 80,\r\n  SCORE_BOARD: 81,\r\n  SCORE_DETAILED: 82,\r\n  SCORE_DETAILED_CTF: 83,\r\n  SCORE_DETAILED_BTR: 84,\r\n  SERVER_MESSAGE: 90,\r\n  SERVER_CUSTOM: 91,\r\n};\r\n","/* eslint-disable @typescript-eslint/no-empty-interface */\r\nimport CLIENT_PACKETS from '../packets/client';\r\nimport { DATA_TYPES } from '../types/data';\r\n\r\nexport default {\r\n  [CLIENT_PACKETS.LOGIN]: [\r\n    ['protocol', DATA_TYPES.uint8],\r\n    ['name', DATA_TYPES.text],\r\n    ['session', DATA_TYPES.text],\r\n    ['horizonX', DATA_TYPES.uint16],\r\n    ['horizonY', DATA_TYPES.uint16],\r\n    ['flag', DATA_TYPES.text],\r\n  ],\r\n  [CLIENT_PACKETS.BACKUP]: [['token', DATA_TYPES.text]],\r\n  [CLIENT_PACKETS.HORIZON]: [\r\n    ['horizonX', DATA_TYPES.uint16],\r\n    ['horizonY', DATA_TYPES.uint16],\r\n  ],\r\n  [CLIENT_PACKETS.ACK]: [],\r\n  [CLIENT_PACKETS.PONG]: [['num', DATA_TYPES.uint32]],\r\n  [CLIENT_PACKETS.KEY]: [\r\n    ['seq', DATA_TYPES.uint32],\r\n    ['key', DATA_TYPES.uint8],\r\n    ['state', DATA_TYPES.boolean],\r\n  ],\r\n  [CLIENT_PACKETS.COMMAND]: [\r\n    ['com', DATA_TYPES.text],\r\n    ['data', DATA_TYPES.text],\r\n  ],\r\n  [CLIENT_PACKETS.SCOREDETAILED]: [],\r\n  [CLIENT_PACKETS.CHAT]: [['text', DATA_TYPES.text]],\r\n  [CLIENT_PACKETS.WHISPER]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['text', DATA_TYPES.text],\r\n  ],\r\n  [CLIENT_PACKETS.SAY]: [['text', DATA_TYPES.text]],\r\n  [CLIENT_PACKETS.TEAMCHAT]: [['text', DATA_TYPES.text]],\r\n  [CLIENT_PACKETS.VOTEMUTE]: [['id', DATA_TYPES.uint16]],\r\n  [CLIENT_PACKETS.LOCALPING]: [['auth', DATA_TYPES.uint32]],\r\n};\r\n","export enum DATA_TYPES {\r\n  text = 1,\r\n  textbig = 2,\r\n  arraysmall = 4,\r\n  array = 3,\r\n  uint8 = 5,\r\n  uint16 = 6,\r\n  uint24 = 7,\r\n  uint32 = 8,\r\n  float32 = 9,\r\n  float64 = 10,\r\n  boolean = 11,\r\n  speed = 12,\r\n  accel = 13,\r\n  coordx = 14,\r\n  coordy = 15,\r\n  coord24 = 16,\r\n  rotation = 17,\r\n  healthenergy = 18,\r\n  regen = 19,\r\n}\r\n\r\nconst MAX_UINT8 = (1 << 8) - 1;\r\nconst MAX_UINT16 = (1 << 16) - 1;\r\nconst CHAR_BITS = 8;\r\n\r\nexport const DATA_TYPE_SIZE_BITS = {\r\n  [DATA_TYPES.text]: 8 + MAX_UINT8 * CHAR_BITS,\r\n  [DATA_TYPES.textbig]: 16 + MAX_UINT16 * CHAR_BITS,\r\n  [DATA_TYPES.arraysmall]: 8,\r\n  [DATA_TYPES.array]: 16,\r\n  [DATA_TYPES.uint8]: 8,\r\n  [DATA_TYPES.uint16]: 16,\r\n  [DATA_TYPES.uint24]: 24,\r\n  [DATA_TYPES.uint32]: 32,\r\n  [DATA_TYPES.float32]: 64,\r\n  [DATA_TYPES.float64]: 64,\r\n  [DATA_TYPES.boolean]: 8,\r\n  [DATA_TYPES.speed]: 16,\r\n  [DATA_TYPES.accel]: 16,\r\n  [DATA_TYPES.coordx]: 16,\r\n  [DATA_TYPES.coordy]: 16,\r\n  [DATA_TYPES.coord24]: 24,\r\n  [DATA_TYPES.rotation]: 16,\r\n  [DATA_TYPES.healthenergy]: 8,\r\n  [DATA_TYPES.regen]: 16,\r\n};\r\n","/* eslint-disable @typescript-eslint/no-empty-interface */\r\nimport SERVER_PACKETS from '../packets/server';\r\nimport { DATA_TYPES } from '../types/data';\r\n\r\nexport default {\r\n  [SERVER_PACKETS.LOGIN]: [\r\n    ['success', DATA_TYPES.boolean],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['team', DATA_TYPES.uint16],\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['token', DATA_TYPES.text],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['room', DATA_TYPES.text],\r\n    [\r\n      'players',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['status', DATA_TYPES.uint8],\r\n        ['level', DATA_TYPES.uint8],\r\n        ['name', DATA_TYPES.text],\r\n        ['type', DATA_TYPES.uint8],\r\n        ['team', DATA_TYPES.uint16],\r\n        ['posX', DATA_TYPES.coordx],\r\n        ['posY', DATA_TYPES.coordy],\r\n        ['rot', DATA_TYPES.rotation],\r\n        ['flag', DATA_TYPES.uint16],\r\n        ['upgrades', DATA_TYPES.uint8],\r\n      ],\r\n    ],\r\n    ['serverConfiguration', DATA_TYPES.textbig],\r\n    ['bots', DATA_TYPES.array, [['id', DATA_TYPES.uint16]]],\r\n  ],\r\n\r\n  [SERVER_PACKETS.BACKUP]: [],\r\n\r\n  [SERVER_PACKETS.PING]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['num', DATA_TYPES.uint32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PING_RESULT]: [\r\n    ['ping', DATA_TYPES.uint16],\r\n    ['playerstotal', DATA_TYPES.uint32],\r\n    ['playersgame', DATA_TYPES.uint32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.ACK]: [],\r\n\r\n  [SERVER_PACKETS.ERROR]: [['error', DATA_TYPES.uint8]],\r\n\r\n  [SERVER_PACKETS.COMMAND_REPLY]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['text', DATA_TYPES.textbig],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_NEW]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['status', DATA_TYPES.uint8],\r\n    ['name', DATA_TYPES.text],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['team', DATA_TYPES.uint16],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['flag', DATA_TYPES.uint16],\r\n    ['upgrades', DATA_TYPES.uint8],\r\n    ['isBot', DATA_TYPES.boolean],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_LEAVE]: [['id', DATA_TYPES.uint16]],\r\n\r\n  [SERVER_PACKETS.PLAYER_UPDATE]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['keystate', DATA_TYPES.uint8],\r\n    ['upgrades', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coord24],\r\n    ['posY', DATA_TYPES.coord24],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['speedX', DATA_TYPES.speed],\r\n    ['speedY', DATA_TYPES.speed],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_FIRE]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['energy', DATA_TYPES.healthenergy],\r\n    ['energyRegen', DATA_TYPES.regen],\r\n    [\r\n      'projectiles',\r\n      DATA_TYPES.arraysmall,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['type', DATA_TYPES.uint8],\r\n        ['posX', DATA_TYPES.coordx],\r\n        ['posY', DATA_TYPES.coordy],\r\n        ['speedX', DATA_TYPES.speed],\r\n        ['speedY', DATA_TYPES.speed],\r\n        ['accelX', DATA_TYPES.accel],\r\n        ['accelY', DATA_TYPES.accel],\r\n        ['maxSpeed', DATA_TYPES.speed],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  // [packet.PLAYER_SAY]: [['id', types.uint16], ['text', types.text]],\r\n\r\n  [SERVER_PACKETS.PLAYER_RESPAWN]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['posX', DATA_TYPES.coord24],\r\n    ['posY', DATA_TYPES.coord24],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['upgrades', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_FLAG]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['flag', DATA_TYPES.uint16],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_HIT]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n    ['owner', DATA_TYPES.uint16],\r\n    [\r\n      'players',\r\n      DATA_TYPES.arraysmall,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['health', DATA_TYPES.healthenergy],\r\n        ['healthRegen', DATA_TYPES.regen],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_KILL]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['killer', DATA_TYPES.uint16],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_UPGRADE]: [\r\n    ['upgrades', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['speed', DATA_TYPES.uint8],\r\n    ['defense', DATA_TYPES.uint8],\r\n    ['energy', DATA_TYPES.uint8],\r\n    ['missile', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_TYPE]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_POWERUP]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['duration', DATA_TYPES.uint32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_LEVEL]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['level', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.PLAYER_RETEAM]: [\r\n    [\r\n      'players',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['team', DATA_TYPES.uint16],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.GAME_FLAG]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['flag', DATA_TYPES.uint8],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['posX', DATA_TYPES.coord24],\r\n    ['posY', DATA_TYPES.coord24],\r\n    ['blueteam', DATA_TYPES.uint8],\r\n    ['redteam', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.GAME_SPECTATE]: [['id', DATA_TYPES.uint16]],\r\n\r\n  [SERVER_PACKETS.GAME_PLAYERSALIVE]: [['players', DATA_TYPES.uint16]],\r\n\r\n  [SERVER_PACKETS.GAME_FIREWALL]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['status', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n    ['radius', DATA_TYPES.float32],\r\n    ['speed', DATA_TYPES.float32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.EVENT_REPEL]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['speedX', DATA_TYPES.speed],\r\n    ['speedY', DATA_TYPES.speed],\r\n    ['energy', DATA_TYPES.healthenergy],\r\n    ['energyRegen', DATA_TYPES.regen],\r\n    [\r\n      'players',\r\n      DATA_TYPES.arraysmall,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['keystate', DATA_TYPES.uint8],\r\n        ['posX', DATA_TYPES.coordx],\r\n        ['posY', DATA_TYPES.coordy],\r\n        ['rot', DATA_TYPES.rotation],\r\n        ['speedX', DATA_TYPES.speed],\r\n        ['speedY', DATA_TYPES.speed],\r\n        ['energy', DATA_TYPES.healthenergy],\r\n        ['energyRegen', DATA_TYPES.regen],\r\n        ['playerHealth', DATA_TYPES.healthenergy],\r\n        ['playerHealthRegen', DATA_TYPES.regen],\r\n      ],\r\n    ],\r\n    [\r\n      'mobs',\r\n      DATA_TYPES.arraysmall,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['type', DATA_TYPES.uint8],\r\n        ['posX', DATA_TYPES.coordx],\r\n        ['posY', DATA_TYPES.coordy],\r\n        ['speedX', DATA_TYPES.speed],\r\n        ['speedY', DATA_TYPES.speed],\r\n        ['accelX', DATA_TYPES.accel],\r\n        ['accelY', DATA_TYPES.accel],\r\n        ['maxSpeed', DATA_TYPES.speed],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.EVENT_BOOST]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['boost', DATA_TYPES.boolean],\r\n    ['posX', DATA_TYPES.coord24],\r\n    ['posY', DATA_TYPES.coord24],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['speedX', DATA_TYPES.speed],\r\n    ['speedY', DATA_TYPES.speed],\r\n    ['energy', DATA_TYPES.healthenergy],\r\n    ['energyRegen', DATA_TYPES.regen],\r\n  ],\r\n\r\n  [SERVER_PACKETS.EVENT_BOUNCE]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['keystate', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coord24],\r\n    ['posY', DATA_TYPES.coord24],\r\n    ['rot', DATA_TYPES.rotation],\r\n    ['speedX', DATA_TYPES.speed],\r\n    ['speedY', DATA_TYPES.speed],\r\n  ],\r\n\r\n  [SERVER_PACKETS.EVENT_STEALTH]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['state', DATA_TYPES.boolean],\r\n    ['energy', DATA_TYPES.healthenergy],\r\n    ['energyRegen', DATA_TYPES.regen],\r\n  ],\r\n\r\n  [SERVER_PACKETS.EVENT_LEAVEHORIZON]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['id', DATA_TYPES.uint16],\r\n  ],\r\n\r\n  [SERVER_PACKETS.MOB_UPDATE]: [\r\n    ['clock', DATA_TYPES.uint32],\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n    ['speedX', DATA_TYPES.speed],\r\n    ['speedY', DATA_TYPES.speed],\r\n    ['accelX', DATA_TYPES.accel],\r\n    ['accelY', DATA_TYPES.accel],\r\n    ['maxSpeed', DATA_TYPES.speed],\r\n  ],\r\n\r\n  [SERVER_PACKETS.MOB_UPDATE_STATIONARY]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.float32],\r\n    ['posY', DATA_TYPES.float32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.MOB_DESPAWN]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n  ],\r\n\r\n  [SERVER_PACKETS.MOB_DESPAWN_COORDS]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['type', DATA_TYPES.uint8],\r\n    ['posX', DATA_TYPES.coordx],\r\n    ['posY', DATA_TYPES.coordy],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SCORE_UPDATE]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['score', DATA_TYPES.uint32],\r\n    ['earnings', DATA_TYPES.uint32],\r\n    ['upgrades', DATA_TYPES.uint16],\r\n    ['totalkills', DATA_TYPES.uint32],\r\n    ['totaldeaths', DATA_TYPES.uint32],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SCORE_BOARD]: [\r\n    [\r\n      'data',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['score', DATA_TYPES.uint32],\r\n        ['level', DATA_TYPES.uint8],\r\n      ],\r\n    ],\r\n    [\r\n      'rankings',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['x', DATA_TYPES.uint8],\r\n        ['y', DATA_TYPES.uint8],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SCORE_DETAILED]: [\r\n    [\r\n      'scores',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['level', DATA_TYPES.uint8],\r\n        ['score', DATA_TYPES.uint32],\r\n        ['kills', DATA_TYPES.uint16],\r\n        ['deaths', DATA_TYPES.uint16],\r\n        ['damage', DATA_TYPES.float32],\r\n        ['ping', DATA_TYPES.uint16],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SCORE_DETAILED_CTF]: [\r\n    [\r\n      'scores',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['level', DATA_TYPES.uint8],\r\n        ['captures', DATA_TYPES.uint16],\r\n        ['score', DATA_TYPES.uint32],\r\n        ['kills', DATA_TYPES.uint16],\r\n        ['deaths', DATA_TYPES.uint16],\r\n        ['damage', DATA_TYPES.float32],\r\n        ['ping', DATA_TYPES.uint16],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SCORE_DETAILED_BTR]: [\r\n    [\r\n      'scores',\r\n      DATA_TYPES.array,\r\n      [\r\n        ['id', DATA_TYPES.uint16],\r\n        ['level', DATA_TYPES.uint8],\r\n        ['alive', DATA_TYPES.boolean],\r\n        ['wins', DATA_TYPES.uint16],\r\n        ['score', DATA_TYPES.uint32],\r\n        ['kills', DATA_TYPES.uint16],\r\n        ['deaths', DATA_TYPES.uint16],\r\n        ['damage', DATA_TYPES.float32],\r\n        ['ping', DATA_TYPES.uint16],\r\n      ],\r\n    ],\r\n  ],\r\n\r\n  [SERVER_PACKETS.CHAT_TEAM]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['text', DATA_TYPES.text],\r\n  ],\r\n\r\n  [SERVER_PACKETS.CHAT_PUBLIC]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['text', DATA_TYPES.text],\r\n  ],\r\n\r\n  [SERVER_PACKETS.CHAT_SAY]: [\r\n    ['id', DATA_TYPES.uint16],\r\n    ['text', DATA_TYPES.text],\r\n  ],\r\n\r\n  [SERVER_PACKETS.CHAT_WHISPER]: [\r\n    ['from', DATA_TYPES.uint16],\r\n    ['to', DATA_TYPES.uint16],\r\n    ['text', DATA_TYPES.text],\r\n  ],\r\n\r\n  [SERVER_PACKETS.CHAT_VOTEMUTEPASSED]: [['id', DATA_TYPES.uint16]],\r\n\r\n  [SERVER_PACKETS.CHAT_VOTEMUTED]: [],\r\n\r\n  [SERVER_PACKETS.SERVER_MESSAGE]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['duration', DATA_TYPES.uint32],\r\n    ['text', DATA_TYPES.textbig],\r\n  ],\r\n\r\n  [SERVER_PACKETS.SERVER_CUSTOM]: [\r\n    ['type', DATA_TYPES.uint8],\r\n    ['data', DATA_TYPES.textbig],\r\n  ],\r\n};\r\n","import CLIENT_SCHEMAS from '../schemas/client';\r\nimport SERVER_SCHEMAS from '../schemas/server';\r\nimport { DATA_TYPES } from '../types/data';\r\nimport { encodeUTF8 } from '../support/utils';\r\nimport PREDEFINED_CLIENT_MARSHAL from './client';\r\nimport PREDEFINED_SERVER_MARSHAL from './server';\r\nimport { WSPacket, ProtocolPacket } from '../packets';\r\n\r\nconst SERVER_MESSAGE = 0;\r\nconst CLIENT_MESSAGE = 1;\r\n\r\nconst encodedStrings = new (class {\r\n  public storage: Uint8Array[];\r\n\r\n  constructor() {\r\n    this.storage = [];\r\n  }\r\n\r\n  last(): Uint8Array | null {\r\n    if (this.storage.length > 0) {\r\n      return this.storage[this.storage.length - 1];\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  put(str: Uint8Array): void {\r\n    this.storage.push(str);\r\n  }\r\n\r\n  shift(): Uint8Array {\r\n    return this.storage.shift();\r\n  }\r\n\r\n  flush(): void {\r\n    this.storage = [];\r\n  }\r\n})();\r\n\r\nconst flushVars = (): void => {\r\n  encodedStrings.flush();\r\n};\r\n\r\nconst calcBufferLength = (\r\n  data: ProtocolPacket,\r\n  dataSchema: [string, DATA_TYPES, [string, DATA_TYPES, []?][]?][]\r\n): number => {\r\n  let length = 0;\r\n\r\n  for (let fieldIndex = 0; fieldIndex < dataSchema.length; fieldIndex += 1) {\r\n    const [fieldName, fieldType, subSchema] = dataSchema[fieldIndex];\r\n    const fieldData = data[fieldName];\r\n\r\n    switch (fieldType) {\r\n      case DATA_TYPES.text:\r\n      case DATA_TYPES.textbig:\r\n        encodedStrings.put(encodeUTF8(fieldData as string));\r\n\r\n        if (fieldType === DATA_TYPES.textbig) {\r\n          length += 2;\r\n        } else {\r\n          length += 1;\r\n        }\r\n\r\n        length += encodedStrings.last().length;\r\n        break;\r\n\r\n      case DATA_TYPES.array:\r\n      case DATA_TYPES.arraysmall:\r\n        if (fieldType === DATA_TYPES.array) {\r\n          length += 2;\r\n        } else {\r\n          length += 1;\r\n        }\r\n\r\n        for (let index = 0; index < (fieldData as []).length; index += 1) {\r\n          length += calcBufferLength(fieldData[index], subSchema);\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.uint8:\r\n      case DATA_TYPES.boolean:\r\n      case DATA_TYPES.healthenergy:\r\n        length += 1;\r\n        break;\r\n\r\n      case DATA_TYPES.uint16:\r\n      case DATA_TYPES.speed:\r\n      case DATA_TYPES.accel:\r\n      case DATA_TYPES.coordx:\r\n      case DATA_TYPES.coordy:\r\n      case DATA_TYPES.rotation:\r\n      case DATA_TYPES.regen:\r\n        length += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.uint24:\r\n      case DATA_TYPES.coord24:\r\n        length += 3;\r\n        break;\r\n\r\n      case DATA_TYPES.uint32:\r\n      case DATA_TYPES.float32:\r\n        length += 4;\r\n        break;\r\n\r\n      case DATA_TYPES.float64:\r\n        length += 8;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return length;\r\n};\r\n\r\nconst fillBufferWithData = (\r\n  dataView: DataView,\r\n  startOffset: number,\r\n  data: WSPacket,\r\n  dataSchema: [string, DATA_TYPES, [string, DATA_TYPES, []?][]?][]\r\n): number => {\r\n  let offset = startOffset;\r\n\r\n  if (offset === 1) {\r\n    dataView.setUint8(0, data.c);\r\n  }\r\n\r\n  for (let fieldIndex = 0; fieldIndex < dataSchema.length; fieldIndex += 1) {\r\n    const [fieldName, fieldType, subSchema] = dataSchema[fieldIndex];\r\n    const fieldData = data[fieldName];\r\n\r\n    switch (fieldType) {\r\n      case DATA_TYPES.text:\r\n      case DATA_TYPES.textbig:\r\n        {\r\n          const encodedString = encodedStrings.shift();\r\n\r\n          if (fieldType === DATA_TYPES.textbig) {\r\n            dataView.setUint16(offset, encodedString.length, true);\r\n            offset += 2;\r\n          } else {\r\n            dataView.setUint8(offset, encodedString.length);\r\n            offset += 1;\r\n          }\r\n\r\n          for (let charOffset = 0; charOffset < encodedString.length; charOffset += 1) {\r\n            dataView.setUint8(offset + charOffset, encodedString[charOffset]);\r\n          }\r\n\r\n          offset += encodedString.length;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.array:\r\n      case DATA_TYPES.arraysmall:\r\n        if (fieldType === DATA_TYPES.array) {\r\n          dataView.setUint16(offset, fieldData.length, true);\r\n          offset += 2;\r\n        } else {\r\n          dataView.setUint8(offset, fieldData.length);\r\n          offset += 1;\r\n        }\r\n\r\n        for (\r\n          let arrayElementIndex = 0;\r\n          arrayElementIndex < fieldData.length;\r\n          arrayElementIndex += 1\r\n        ) {\r\n          offset = fillBufferWithData(dataView, offset, fieldData[arrayElementIndex], subSchema);\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.uint8:\r\n        dataView.setUint8(offset, fieldData);\r\n        offset += 1;\r\n        break;\r\n\r\n      case DATA_TYPES.healthenergy:\r\n        dataView.setUint8(offset, fieldData * 255);\r\n        offset += 1;\r\n        break;\r\n\r\n      case DATA_TYPES.uint16:\r\n        dataView.setUint16(offset, fieldData, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.regen:\r\n        dataView.setUint16(offset, fieldData * 1e6 + 32768, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.rotation:\r\n        dataView.setUint16(offset, fieldData * 6553.6, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.coordy:\r\n        dataView.setUint16(offset, fieldData * 4 + 32768, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.coordx:\r\n        dataView.setUint16(offset, fieldData * 2 + 32768, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.accel:\r\n        dataView.setUint16(offset, fieldData * 32768 + 32768, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.speed:\r\n        dataView.setUint16(offset, fieldData * 1638.4 + 32768, true);\r\n        offset += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.uint24:\r\n        {\r\n          const u8 = fieldData % 256;\r\n          const u16 = (fieldData - u8) / 256;\r\n\r\n          dataView.setUint16(offset, u16, true);\r\n          offset += 2;\r\n\r\n          dataView.setUint8(offset, u8);\r\n          offset += 1;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.coord24:\r\n        {\r\n          const value = fieldData * 512 + 8388608;\r\n          const u8 = value % 256;\r\n          const u16 = (value - u8) / 256;\r\n\r\n          dataView.setUint16(offset, u16, true);\r\n          offset += 2;\r\n          dataView.setUint8(offset, u8);\r\n          offset += 1;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.uint32:\r\n        dataView.setUint32(offset, fieldData, true);\r\n        offset += 4;\r\n        break;\r\n\r\n      case DATA_TYPES.float32:\r\n        dataView.setFloat32(offset, fieldData, true);\r\n        offset += 4;\r\n        break;\r\n\r\n      case DATA_TYPES.float64:\r\n        dataView.setFloat64(offset, fieldData, true);\r\n        offset += 8;\r\n        break;\r\n\r\n      case DATA_TYPES.boolean:\r\n        dataView.setUint8(offset, fieldData === false ? 0 : 1);\r\n        offset += 1;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return offset;\r\n};\r\n\r\nconst marshal = (\r\n  message: ProtocolPacket,\r\n  type: number,\r\n  usePredefinedMarshal: boolean\r\n): ArrayBuffer => {\r\n  flushVars();\r\n\r\n  const messageCode = message.c;\r\n\r\n  let schema = null;\r\n  let predefMarshal = null;\r\n\r\n  switch (type) {\r\n    case CLIENT_MESSAGE:\r\n      predefMarshal = PREDEFINED_CLIENT_MARSHAL[messageCode];\r\n      schema = CLIENT_SCHEMAS[messageCode];\r\n      break;\r\n\r\n    case SERVER_MESSAGE:\r\n      predefMarshal = PREDEFINED_SERVER_MARSHAL[messageCode];\r\n      schema = SERVER_SCHEMAS[messageCode];\r\n      break;\r\n\r\n    default:\r\n      return null;\r\n  }\r\n\r\n  if (schema === null) {\r\n    return null;\r\n  }\r\n\r\n  let buffer = null;\r\n\r\n  if (usePredefinedMarshal && predefMarshal) {\r\n    buffer = predefMarshal(message);\r\n  } else {\r\n    let dataView = null;\r\n    let bufferLength = 0;\r\n\r\n    bufferLength = 1 + calcBufferLength(message, schema);\r\n    buffer = new ArrayBuffer(bufferLength);\r\n    dataView = new DataView(buffer);\r\n\r\n    fillBufferWithData(dataView, 1, message, schema);\r\n  }\r\n\r\n  return buffer;\r\n};\r\n\r\n/**\r\n * Marshal client message object to binary packet.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */\r\nconst marshalClientMessage = (\r\n  message: ProtocolPacket,\r\n  usePredefinedMarshal = true\r\n): ArrayBuffer => {\r\n  return marshal(message, CLIENT_MESSAGE, usePredefinedMarshal);\r\n};\r\n\r\n/**\r\n * Marshal server message object to binary packet.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */\r\nconst marshalServerMessage = (\r\n  message: ProtocolPacket,\r\n  usePredefinedMarshal = true\r\n): ArrayBuffer => {\r\n  return marshal(message, SERVER_MESSAGE, usePredefinedMarshal);\r\n};\r\n\r\nexport { marshalClientMessage, marshalServerMessage };\r\n","/* eslint-disable no-plusplus */\r\n/* eslint-disable no-bitwise */\r\nimport { StringEncodeError, StringDecodeError } from './errors';\r\n\r\n/**\r\n * Marshals a string to an Uint8Array.\r\n * https://gist.github.com/pascaldekloe/62546103a1576803dade9269ccf76330\r\n *\r\n * @param s\r\n */\r\nconst encodeUTF8 = (s: string): Uint8Array => {\r\n  let i = 0;\r\n  const bytes = new Uint8Array(s.length * 4);\r\n\r\n  for (let ci = 0; ci !== s.length; ci += 1) {\r\n    let c = s.charCodeAt(ci);\r\n\r\n    if (c < 128) {\r\n      bytes[i++] = c;\r\n      // eslint-disable-next-line no-continue\r\n      continue;\r\n    }\r\n\r\n    if (c < 2048) {\r\n      bytes[i++] = (c >> 6) | 192;\r\n    } else {\r\n      if (c > 0xd7ff && c < 0xdc00) {\r\n        if (++ci >= s.length)\r\n          throw new StringEncodeError('UTF-8 encode: incomplete surrogate pair');\r\n\r\n        const c2 = s.charCodeAt(ci);\r\n\r\n        if (c2 < 0xdc00 || c2 > 0xdfff)\r\n          throw new StringEncodeError(\r\n            `UTF-8 encode: second surrogate character 0x${c2.toString(\r\n              16\r\n            )} at index ${ci} out of range`\r\n          );\r\n\r\n        c = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\r\n        bytes[i++] = (c >> 18) | 240;\r\n        bytes[i++] = ((c >> 12) & 63) | 128;\r\n      } else bytes[i++] = (c >> 12) | 224;\r\n\r\n      bytes[i++] = ((c >> 6) & 63) | 128;\r\n    }\r\n\r\n    bytes[i++] = (c & 63) | 128;\r\n  }\r\n\r\n  return bytes.subarray(0, i);\r\n};\r\n\r\n/**\r\n * Unmarshals a string from an Uint8Array.\r\n *\r\n * @param bytes\r\n */\r\nconst decodeUTF8 = (bytes: Uint8Array): string => {\r\n  let i = 0;\r\n  let s = '';\r\n\r\n  while (i < bytes.length) {\r\n    let c = bytes[i++];\r\n\r\n    if (c > 127) {\r\n      if (c > 191 && c < 224) {\r\n        if (i >= bytes.length)\r\n          throw new StringDecodeError('UTF-8 decode: incomplete 2-byte sequence');\r\n\r\n        c = ((c & 31) << 6) | (bytes[i++] & 63);\r\n      } else if (c > 223 && c < 240) {\r\n        if (i + 1 >= bytes.length)\r\n          throw new StringDecodeError('UTF-8 decode: incomplete 3-byte sequence');\r\n\r\n        c = ((c & 15) << 12) | ((bytes[i++] & 63) << 6) | (bytes[i++] & 63);\r\n      } else if (c > 239 && c < 248) {\r\n        if (i + 2 >= bytes.length)\r\n          throw new StringDecodeError('UTF-8 decode: incomplete 4-byte sequence');\r\n\r\n        c =\r\n          ((c & 7) << 18) |\r\n          ((bytes[i++] & 63) << 12) |\r\n          ((bytes[i++] & 63) << 6) |\r\n          (bytes[i++] & 63);\r\n      } else\r\n        throw new StringDecodeError(\r\n          `UTF-8 decode: unknown multibyte start 0x${c.toString(16)} at index ${i - 1}`\r\n        );\r\n    }\r\n\r\n    if (c <= 0xffff) s += String.fromCharCode(c);\r\n    else if (c <= 0x10ffff) {\r\n      c -= 0x10000;\r\n      s += String.fromCharCode((c >> 10) | 0xd800);\r\n      s += String.fromCharCode((c & 0x3ff) | 0xdc00);\r\n    } else\r\n      throw new StringDecodeError(\r\n        `UTF-8 decode: code point 0x${c.toString(16)} exceeds UTF-16 reach`\r\n      );\r\n  }\r\n\r\n  return s;\r\n};\r\n\r\nexport { decodeUTF8, encodeUTF8 };\r\n","/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */\r\n\r\nimport packet from '../packets/client';\r\nimport { encodeUTF8 } from '../support/utils';\r\nimport {\r\n  Login,\r\n  Backup,\r\n  Horizon,\r\n  Pong,\r\n  Key,\r\n  Command,\r\n  Chat,\r\n  Whisper,\r\n  Say,\r\n  Teamchat,\r\n  Votemute,\r\n  Localping,\r\n} from '../types/packets-client';\r\n\r\nconst staticAckPacket = ((): ArrayBuffer => {\r\n  const buffer = new ArrayBuffer(1);\r\n  const dataView = new DataView(buffer);\r\n\r\n  dataView.setUint8(0, 5);\r\n\r\n  return buffer;\r\n})();\r\nconst staticScoredetailedPacket = ((): ArrayBuffer => {\r\n  const buffer = new ArrayBuffer(1);\r\n  const dataView = new DataView(buffer);\r\n\r\n  dataView.setUint8(0, 12);\r\n\r\n  return buffer;\r\n})();\r\n\r\nexport default {\r\n  [packet.LOGIN]: (msg: Login): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const name = encodeUTF8(msg.name);\r\n    const session = encodeUTF8(msg.session);\r\n    const flag = encodeUTF8(msg.flag);\r\n\r\n    const buffer = new ArrayBuffer(9 + name.length + session.length + flag.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // protocol, uint8\r\n    dataView.setUint8(offset, msg.protocol);\r\n    offset += 1;\r\n\r\n    // name, text\r\n    dataView.setUint8(offset, name.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < name.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, name[charOffset]);\r\n    }\r\n\r\n    offset += name.length;\r\n\r\n    // session, text\r\n    dataView.setUint8(offset, session.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < session.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, session[charOffset]);\r\n    }\r\n\r\n    offset += session.length;\r\n\r\n    // horizonX, uint16\r\n    dataView.setUint16(offset, msg.horizonX, true);\r\n    offset += 2;\r\n\r\n    // horizonY, uint16\r\n    dataView.setUint16(offset, msg.horizonY, true);\r\n    offset += 2;\r\n\r\n    // flag, text\r\n    dataView.setUint8(offset, flag.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < flag.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, flag[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.BACKUP]: (msg: Backup): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const token = encodeUTF8(msg.token);\r\n\r\n    const buffer = new ArrayBuffer(2 + token.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // token, text\r\n    dataView.setUint8(offset, token.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < token.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, token[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.HORIZON]: (msg: Horizon): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(5);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // horizonX, uint16\r\n    dataView.setUint16(offset, msg.horizonX, true);\r\n    offset += 2;\r\n\r\n    // horizonY, uint16\r\n    dataView.setUint16(offset, msg.horizonY, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.ACK]: (): ArrayBuffer => staticAckPacket,\r\n\r\n  [packet.PONG]: (msg: Pong): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(5);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // num, uint32\r\n    dataView.setUint32(offset, msg.num, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.KEY]: (msg: Key): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(7);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // seq, uint32\r\n    dataView.setUint32(offset, msg.seq, true);\r\n    offset += 4;\r\n\r\n    // key, uint8\r\n    dataView.setUint8(offset, msg.key);\r\n    offset += 1;\r\n\r\n    // state, boolean\r\n    dataView.setUint8(offset, msg.state === false ? 0 : 1);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.COMMAND]: (msg: Command): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const com = encodeUTF8(msg.com);\r\n    const data = encodeUTF8(msg.data);\r\n\r\n    const buffer = new ArrayBuffer(3 + com.length + data.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // com, text\r\n    dataView.setUint8(offset, com.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < com.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, com[charOffset]);\r\n    }\r\n\r\n    offset += com.length;\r\n\r\n    // data, text\r\n    dataView.setUint8(offset, data.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < data.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, data[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SCOREDETAILED]: (): ArrayBuffer => staticScoredetailedPacket,\r\n\r\n  [packet.CHAT]: (msg: Chat): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(2 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.WHISPER]: (msg: Whisper): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(4 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SAY]: (msg: Say): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(2 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.TEAMCHAT]: (msg: Teamchat): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(2 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.VOTEMUTE]: (msg: Votemute): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(3);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.LOCALPING]: (msg: Localping): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(5);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // auth, uint32\r\n    dataView.setUint32(offset, msg.auth, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n};\r\n","/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */\r\n\r\nimport packet from '../packets/server';\r\nimport { encodeUTF8 } from '../support/utils';\r\nimport {\r\n  Login,\r\n  Ping,\r\n  PingResult,\r\n  Error,\r\n  CommandReply,\r\n  PlayerNew,\r\n  PlayerLeave,\r\n  PlayerUpdate,\r\n  PlayerFire,\r\n  PlayerHit,\r\n  PlayerRespawn,\r\n  PlayerFlag,\r\n  PlayerKill,\r\n  PlayerUpgrade,\r\n  PlayerType,\r\n  PlayerPowerup,\r\n  PlayerLevel,\r\n  PlayerReteam,\r\n  GameFlag,\r\n  GameSpectate,\r\n  GamePlayersalive,\r\n  GameFirewall,\r\n  EventRepel,\r\n  EventBoost,\r\n  EventBounce,\r\n  EventStealth,\r\n  EventLeavehorizon,\r\n  MobUpdate,\r\n  MobUpdateStationary,\r\n  MobDespawn,\r\n  MobDespawnCoords,\r\n  ChatPublic,\r\n  ChatTeam,\r\n  ChatSay,\r\n  ChatWhisper,\r\n  ChatVotemutepassed,\r\n  ScoreUpdate,\r\n  ScoreBoard,\r\n  ScoreDetailed,\r\n  ScoreDetailedCtf,\r\n  ScoreDetailedBtr,\r\n  ServerMessage,\r\n  ServerCustom,\r\n} from '../types/packets-server';\r\n\r\nconst staticBackupPacket = ((): ArrayBuffer => {\r\n  const buffer = new ArrayBuffer(1);\r\n  const dataView = new DataView(buffer);\r\n\r\n  dataView.setUint8(0, 1);\r\n\r\n  return buffer;\r\n})();\r\nconst staticAckPacket = ((): ArrayBuffer => {\r\n  const buffer = new ArrayBuffer(1);\r\n  const dataView = new DataView(buffer);\r\n\r\n  dataView.setUint8(0, 7);\r\n\r\n  return buffer;\r\n})();\r\nconst staticChatVotemutedPacket = ((): ArrayBuffer => {\r\n  const buffer = new ArrayBuffer(1);\r\n  const dataView = new DataView(buffer);\r\n\r\n  dataView.setUint8(0, 79);\r\n\r\n  return buffer;\r\n})();\r\n\r\nexport default {\r\n  [packet.LOGIN]: (msg: Login): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    const arrStrings = [];\r\n    let arrStringsOffset = 0;\r\n    let arraysSize = 0;\r\n\r\n    // Array \"players\" size calculation\r\n    for (let i = 0; i < msg.players.length; i += 1) {\r\n      arraysSize += 17;\r\n\r\n      // String \"name\" size calculation\r\n      arrStrings[arrStringsOffset] = encodeUTF8(msg.players[i].name);\r\n      arraysSize += arrStrings[arrStringsOffset].length;\r\n      arrStringsOffset += 1;\r\n    }\r\n\r\n    // Array \"bots\" size calculation\r\n    for (let i = 0; i < msg.bots.length; i += 1) {\r\n      arraysSize += 2;\r\n    }\r\n\r\n    // Root strings size calculation\r\n    const token = encodeUTF8(msg.token);\r\n    const room = encodeUTF8(msg.room);\r\n    const serverConfiguration = encodeUTF8(msg.serverConfiguration);\r\n\r\n    const buffer = new ArrayBuffer(\r\n      19 + token.length + room.length + serverConfiguration.length + arraysSize\r\n    );\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    arrStringsOffset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // success, boolean\r\n    dataView.setUint8(offset, msg.success === false ? 0 : 1);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // team, uint16\r\n    dataView.setUint16(offset, msg.team, true);\r\n    offset += 2;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // token, text\r\n    dataView.setUint8(offset, token.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < token.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, token[charOffset]);\r\n    }\r\n\r\n    offset += token.length;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // room, text\r\n    dataView.setUint8(offset, room.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < room.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, room[charOffset]);\r\n    }\r\n\r\n    offset += room.length;\r\n\r\n    // players, array\r\n    {\r\n      const { players } = msg;\r\n\r\n      dataView.setUint16(offset, players.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < players.length; i += 1) {\r\n        // players[id], uint16\r\n        dataView.setUint16(offset, players[i].id, true);\r\n        offset += 2;\r\n\r\n        // players[status], uint8\r\n        dataView.setUint8(offset, players[i].status);\r\n        offset += 1;\r\n\r\n        // players[level], uint8\r\n        dataView.setUint8(offset, players[i].level);\r\n        offset += 1;\r\n\r\n        // players[name], text\r\n        dataView.setUint8(offset, arrStrings[arrStringsOffset].length);\r\n        offset += 1;\r\n\r\n        for (\r\n          let charOffset = 0;\r\n          charOffset < arrStrings[arrStringsOffset].length;\r\n          charOffset += 1\r\n        ) {\r\n          dataView.setUint8(offset + charOffset, arrStrings[arrStringsOffset][charOffset]);\r\n        }\r\n\r\n        offset += arrStrings[arrStringsOffset].length;\r\n        arrStringsOffset += 1;\r\n\r\n        // players[type], uint8\r\n        dataView.setUint8(offset, players[i].type);\r\n        offset += 1;\r\n\r\n        // players[team], uint16\r\n        dataView.setUint16(offset, players[i].team, true);\r\n        offset += 2;\r\n\r\n        // players[posX], coordx\r\n        dataView.setUint16(offset, players[i].posX * 2 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[posY], coordy\r\n        dataView.setUint16(offset, players[i].posY * 4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[rot], rotation\r\n        dataView.setUint16(offset, players[i].rot * 6553.6, true);\r\n        offset += 2;\r\n\r\n        // players[flag], uint16\r\n        dataView.setUint16(offset, players[i].flag, true);\r\n        offset += 2;\r\n\r\n        // players[upgrades], uint8\r\n        dataView.setUint8(offset, players[i].upgrades);\r\n        offset += 1;\r\n      }\r\n    }\r\n\r\n    // serverConfiguration, textbig\r\n    dataView.setUint16(offset, serverConfiguration.length, true);\r\n    offset += 2;\r\n\r\n    for (let charOffset = 0; charOffset < serverConfiguration.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, serverConfiguration[charOffset]);\r\n    }\r\n\r\n    offset += serverConfiguration.length;\r\n\r\n    // bots, array\r\n    {\r\n      const { bots } = msg;\r\n\r\n      dataView.setUint16(offset, bots.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < bots.length; i += 1) {\r\n        // bots[id], uint16\r\n        dataView.setUint16(offset, bots[i].id, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.BACKUP]: (): ArrayBuffer => staticBackupPacket,\r\n\r\n  [packet.PING]: (msg: Ping): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(9);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // num, uint32\r\n    dataView.setUint32(offset, msg.num, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PING_RESULT]: (msg: PingResult): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(11);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // ping, uint16\r\n    dataView.setUint16(offset, msg.ping, true);\r\n    offset += 2;\r\n\r\n    // playerstotal, uint32\r\n    dataView.setUint32(offset, msg.playerstotal, true);\r\n    offset += 4;\r\n\r\n    // playersgame, uint32\r\n    dataView.setUint32(offset, msg.playersgame, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.ACK]: (): ArrayBuffer => staticAckPacket,\r\n\r\n  [packet.ERROR]: (msg: Error): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(2);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // error, uint8\r\n    dataView.setUint8(offset, msg.error);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.COMMAND_REPLY]: (msg: CommandReply): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(4 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // text, textbig\r\n    dataView.setUint16(offset, text.length, true);\r\n    offset += 2;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_NEW]: (msg: PlayerNew): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const name = encodeUTF8(msg.name);\r\n\r\n    const buffer = new ArrayBuffer(18 + name.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // status, uint8\r\n    dataView.setUint8(offset, msg.status);\r\n    offset += 1;\r\n\r\n    // name, text\r\n    dataView.setUint8(offset, name.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < name.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, name[charOffset]);\r\n    }\r\n\r\n    offset += name.length;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // team, uint16\r\n    dataView.setUint16(offset, msg.team, true);\r\n    offset += 2;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // flag, uint16\r\n    dataView.setUint16(offset, msg.flag, true);\r\n    offset += 2;\r\n\r\n    // upgrades, uint8\r\n    dataView.setUint8(offset, msg.upgrades);\r\n    offset += 1;\r\n\r\n    // isBot, boolean\r\n    dataView.setUint8(offset, msg.isBot === false ? 0 : 1);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_LEAVE]: (msg: PlayerLeave): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(3);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_UPDATE]: (msg: PlayerUpdate): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(21);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // keystate, uint8\r\n    dataView.setUint8(offset, msg.keystate);\r\n    offset += 1;\r\n\r\n    // upgrades, uint8\r\n    dataView.setUint8(offset, msg.upgrades);\r\n    offset += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const value = msg.posX * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const value = msg.posY * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // speedX, speed\r\n    dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedY, speed\r\n    dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_FIRE]: (msg: PlayerFire): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"projectiles\" size calculation\r\n    for (let i = 0; i < msg.projectiles.length; i += 1) {\r\n      arraysSize += 17;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(11 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // energy, healthenergy\r\n    dataView.setUint8(offset, msg.energy * 255);\r\n    offset += 1;\r\n\r\n    // energyRegen, regen\r\n    dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\r\n    offset += 2;\r\n\r\n    // projectiles, arraysmall\r\n    {\r\n      const { projectiles } = msg;\r\n\r\n      dataView.setUint8(offset, projectiles.length);\r\n      offset += 1;\r\n\r\n      for (let i = 0; i < projectiles.length; i += 1) {\r\n        // projectiles[id], uint16\r\n        dataView.setUint16(offset, projectiles[i].id, true);\r\n        offset += 2;\r\n\r\n        // projectiles[type], uint8\r\n        dataView.setUint8(offset, projectiles[i].type);\r\n        offset += 1;\r\n\r\n        // projectiles[posX], coordx\r\n        dataView.setUint16(offset, projectiles[i].posX * 2 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[posY], coordy\r\n        dataView.setUint16(offset, projectiles[i].posY * 4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[speedX], speed\r\n        dataView.setUint16(offset, projectiles[i].speedX * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[speedY], speed\r\n        dataView.setUint16(offset, projectiles[i].speedY * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[accelX], accel\r\n        dataView.setUint16(offset, projectiles[i].accelX * 32768 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[accelY], accel\r\n        dataView.setUint16(offset, projectiles[i].accelY * 32768 + 32768, true);\r\n        offset += 2;\r\n\r\n        // projectiles[maxSpeed], speed\r\n        dataView.setUint16(offset, projectiles[i].maxSpeed * 1638.4 + 32768, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_HIT]: (msg: PlayerHit): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"players\" size calculation\r\n    for (let i = 0; i < msg.players.length; i += 1) {\r\n      arraysSize += 5;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(11 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // owner, uint16\r\n    dataView.setUint16(offset, msg.owner, true);\r\n    offset += 2;\r\n\r\n    // players, arraysmall\r\n    {\r\n      const { players } = msg;\r\n\r\n      dataView.setUint8(offset, players.length);\r\n      offset += 1;\r\n\r\n      for (let i = 0; i < players.length; i += 1) {\r\n        // players[id], uint16\r\n        dataView.setUint16(offset, players[i].id, true);\r\n        offset += 2;\r\n\r\n        // players[health], healthenergy\r\n        dataView.setUint8(offset, players[i].health * 255);\r\n        offset += 1;\r\n\r\n        // players[healthRegen], regen\r\n        dataView.setUint16(offset, players[i].healthRegen * 1e6 + 32768, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_RESPAWN]: (msg: PlayerRespawn): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(12);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // posX, coord24\r\n    {\r\n      const value = msg.posX * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const value = msg.posY * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // upgrades, uint8\r\n    dataView.setUint8(offset, msg.upgrades);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_FLAG]: (msg: PlayerFlag): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(5);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // flag, uint16\r\n    dataView.setUint16(offset, msg.flag, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_KILL]: (msg: PlayerKill): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(9);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // killer, uint16\r\n    dataView.setUint16(offset, msg.killer, true);\r\n    offset += 2;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_UPGRADE]: (msg: PlayerUpgrade): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(8);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // upgrades, uint16\r\n    dataView.setUint16(offset, msg.upgrades, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // speed, uint8\r\n    dataView.setUint8(offset, msg.speed);\r\n    offset += 1;\r\n\r\n    // defense, uint8\r\n    dataView.setUint8(offset, msg.defense);\r\n    offset += 1;\r\n\r\n    // energy, uint8\r\n    dataView.setUint8(offset, msg.energy);\r\n    offset += 1;\r\n\r\n    // missile, uint8\r\n    dataView.setUint8(offset, msg.missile);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_TYPE]: (msg: PlayerType): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(4);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_POWERUP]: (msg: PlayerPowerup): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(6);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // duration, uint32\r\n    dataView.setUint32(offset, msg.duration, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_LEVEL]: (msg: PlayerLevel): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(5);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // level, uint8\r\n    dataView.setUint8(offset, msg.level);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.PLAYER_RETEAM]: (msg: PlayerReteam): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"players\" size calculation\r\n    for (let i = 0; i < msg.players.length; i += 1) {\r\n      arraysSize += 4;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(3 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // players, array\r\n    {\r\n      const { players } = msg;\r\n\r\n      dataView.setUint16(offset, players.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < players.length; i += 1) {\r\n        // players[id], uint16\r\n        dataView.setUint16(offset, players[i].id, true);\r\n        offset += 2;\r\n\r\n        // players[team], uint16\r\n        dataView.setUint16(offset, players[i].team, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.GAME_FLAG]: (msg: GameFlag): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(13);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // flag, uint8\r\n    dataView.setUint8(offset, msg.flag);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // posX, coord24\r\n    {\r\n      const value = msg.posX * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const value = msg.posY * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // blueteam, uint8\r\n    dataView.setUint8(offset, msg.blueteam);\r\n    offset += 1;\r\n\r\n    // redteam, uint8\r\n    dataView.setUint8(offset, msg.redteam);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.GAME_SPECTATE]: (msg: GameSpectate): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(3);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.GAME_PLAYERSALIVE]: (msg: GamePlayersalive): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(3);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // players, uint16\r\n    dataView.setUint16(offset, msg.players, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.GAME_FIREWALL]: (msg: GameFirewall): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(15);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // status, uint8\r\n    dataView.setUint8(offset, msg.status);\r\n    offset += 1;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // radius, float32\r\n    dataView.setFloat32(offset, msg.radius, true);\r\n    offset += 4;\r\n\r\n    // speed, float32\r\n    dataView.setFloat32(offset, msg.speed, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.EVENT_REPEL]: (msg: EventRepel): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"players\" size calculation\r\n    for (let i = 0; i < msg.players.length; i += 1) {\r\n      arraysSize += 19;\r\n    }\r\n\r\n    // Array \"mobs\" size calculation\r\n    for (let i = 0; i < msg.mobs.length; i += 1) {\r\n      arraysSize += 17;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(22 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // speedX, speed\r\n    dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedY, speed\r\n    dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // energy, healthenergy\r\n    dataView.setUint8(offset, msg.energy * 255);\r\n    offset += 1;\r\n\r\n    // energyRegen, regen\r\n    dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\r\n    offset += 2;\r\n\r\n    // players, arraysmall\r\n    {\r\n      const { players } = msg;\r\n\r\n      dataView.setUint8(offset, players.length);\r\n      offset += 1;\r\n\r\n      for (let i = 0; i < players.length; i += 1) {\r\n        // players[id], uint16\r\n        dataView.setUint16(offset, players[i].id, true);\r\n        offset += 2;\r\n\r\n        // players[keystate], uint8\r\n        dataView.setUint8(offset, players[i].keystate);\r\n        offset += 1;\r\n\r\n        // players[posX], coordx\r\n        dataView.setUint16(offset, players[i].posX * 2 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[posY], coordy\r\n        dataView.setUint16(offset, players[i].posY * 4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[rot], rotation\r\n        dataView.setUint16(offset, players[i].rot * 6553.6, true);\r\n        offset += 2;\r\n\r\n        // players[speedX], speed\r\n        dataView.setUint16(offset, players[i].speedX * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[speedY], speed\r\n        dataView.setUint16(offset, players[i].speedY * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[energy], healthenergy\r\n        dataView.setUint8(offset, players[i].energy * 255);\r\n        offset += 1;\r\n\r\n        // players[energyRegen], regen\r\n        dataView.setUint16(offset, players[i].energyRegen * 1e6 + 32768, true);\r\n        offset += 2;\r\n\r\n        // players[playerHealth], healthenergy\r\n        dataView.setUint8(offset, players[i].playerHealth * 255);\r\n        offset += 1;\r\n\r\n        // players[playerHealthRegen], regen\r\n        dataView.setUint16(offset, players[i].playerHealthRegen * 1e6 + 32768, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    // mobs, arraysmall\r\n    {\r\n      const { mobs } = msg;\r\n\r\n      dataView.setUint8(offset, mobs.length);\r\n      offset += 1;\r\n\r\n      for (let i = 0; i < mobs.length; i += 1) {\r\n        // mobs[id], uint16\r\n        dataView.setUint16(offset, mobs[i].id, true);\r\n        offset += 2;\r\n\r\n        // mobs[type], uint8\r\n        dataView.setUint8(offset, mobs[i].type);\r\n        offset += 1;\r\n\r\n        // mobs[posX], coordx\r\n        dataView.setUint16(offset, mobs[i].posX * 2 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[posY], coordy\r\n        dataView.setUint16(offset, mobs[i].posY * 4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[speedX], speed\r\n        dataView.setUint16(offset, mobs[i].speedX * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[speedY], speed\r\n        dataView.setUint16(offset, mobs[i].speedY * 1638.4 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[accelX], accel\r\n        dataView.setUint16(offset, mobs[i].accelX * 32768 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[accelY], accel\r\n        dataView.setUint16(offset, mobs[i].accelY * 32768 + 32768, true);\r\n        offset += 2;\r\n\r\n        // mobs[maxSpeed], speed\r\n        dataView.setUint16(offset, mobs[i].maxSpeed * 1638.4 + 32768, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.EVENT_BOOST]: (msg: EventBoost): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(23);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // boost, boolean\r\n    dataView.setUint8(offset, msg.boost === false ? 0 : 1);\r\n    offset += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const value = msg.posX * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const value = msg.posY * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // speedX, speed\r\n    dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedY, speed\r\n    dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // energy, healthenergy\r\n    dataView.setUint8(offset, msg.energy * 255);\r\n    offset += 1;\r\n\r\n    // energyRegen, regen\r\n    dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.EVENT_BOUNCE]: (msg: EventBounce): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(20);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // keystate, uint8\r\n    dataView.setUint8(offset, msg.keystate);\r\n    offset += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const value = msg.posX * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const value = msg.posY * 512 + 8388608;\r\n      const u8 = value % 256;\r\n      const u16 = (value - u8) / 256;\r\n\r\n      dataView.setUint16(offset, u16, true);\r\n      offset += 2;\r\n\r\n      dataView.setUint8(offset, u8);\r\n      offset += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    dataView.setUint16(offset, msg.rot * 6553.6, true);\r\n    offset += 2;\r\n\r\n    // speedX, speed\r\n    dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedY, speed\r\n    dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.EVENT_STEALTH]: (msg: EventStealth): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(7);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // state, boolean\r\n    dataView.setUint8(offset, msg.state === false ? 0 : 1);\r\n    offset += 1;\r\n\r\n    // energy, healthenergy\r\n    dataView.setUint8(offset, msg.energy * 255);\r\n    offset += 1;\r\n\r\n    // energyRegen, regen\r\n    dataView.setUint16(offset, msg.energyRegen * 1e6 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.EVENT_LEAVEHORIZON]: (msg: EventLeavehorizon): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(4);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.MOB_UPDATE]: (msg: MobUpdate): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(22);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // clock, uint32\r\n    dataView.setUint32(offset, msg.clock, true);\r\n    offset += 4;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedX, speed\r\n    dataView.setUint16(offset, msg.speedX * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // speedY, speed\r\n    dataView.setUint16(offset, msg.speedY * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    // accelX, accel\r\n    dataView.setUint16(offset, msg.accelX * 32768 + 32768, true);\r\n    offset += 2;\r\n\r\n    // accelY, accel\r\n    dataView.setUint16(offset, msg.accelY * 32768 + 32768, true);\r\n    offset += 2;\r\n\r\n    // maxSpeed, speed\r\n    dataView.setUint16(offset, msg.maxSpeed * 1638.4 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.MOB_UPDATE_STATIONARY]: (msg: MobUpdateStationary): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(12);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // posX, float32\r\n    dataView.setFloat32(offset, msg.posX, true);\r\n    offset += 4;\r\n\r\n    // posY, float32\r\n    dataView.setFloat32(offset, msg.posY, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.MOB_DESPAWN]: (msg: MobDespawn): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(4);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.MOB_DESPAWN_COORDS]: (msg: MobDespawnCoords): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(8);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // posX, coordx\r\n    dataView.setUint16(offset, msg.posX * 2 + 32768, true);\r\n    offset += 2;\r\n\r\n    // posY, coordy\r\n    dataView.setUint16(offset, msg.posY * 4 + 32768, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_PUBLIC]: (msg: ChatPublic): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(4 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_TEAM]: (msg: ChatTeam): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(4 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_SAY]: (msg: ChatSay): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(4 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_WHISPER]: (msg: ChatWhisper): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(6 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // from, uint16\r\n    dataView.setUint16(offset, msg.from, true);\r\n    offset += 2;\r\n\r\n    // to, uint16\r\n    dataView.setUint16(offset, msg.to, true);\r\n    offset += 2;\r\n\r\n    // text, text\r\n    dataView.setUint8(offset, text.length);\r\n    offset += 1;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_VOTEMUTEPASSED]: (msg: ChatVotemutepassed): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(3);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.CHAT_VOTEMUTED]: (): ArrayBuffer => staticChatVotemutedPacket,\r\n\r\n  [packet.SCORE_UPDATE]: (msg: ScoreUpdate): ArrayBuffer => {\r\n    const buffer = new ArrayBuffer(21);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // id, uint16\r\n    dataView.setUint16(offset, msg.id, true);\r\n    offset += 2;\r\n\r\n    // score, uint32\r\n    dataView.setUint32(offset, msg.score, true);\r\n    offset += 4;\r\n\r\n    // earnings, uint32\r\n    dataView.setUint32(offset, msg.earnings, true);\r\n    offset += 4;\r\n\r\n    // upgrades, uint16\r\n    dataView.setUint16(offset, msg.upgrades, true);\r\n    offset += 2;\r\n\r\n    // totalkills, uint32\r\n    dataView.setUint32(offset, msg.totalkills, true);\r\n    offset += 4;\r\n\r\n    // totaldeaths, uint32\r\n    dataView.setUint32(offset, msg.totaldeaths, true);\r\n    offset += 4;\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SCORE_BOARD]: (msg: ScoreBoard): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"data\" size calculation\r\n    for (let i = 0; i < msg.data.length; i += 1) {\r\n      arraysSize += 7;\r\n    }\r\n\r\n    // Array \"rankings\" size calculation\r\n    for (let i = 0; i < msg.rankings.length; i += 1) {\r\n      arraysSize += 4;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(5 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // data, array\r\n    {\r\n      const { data } = msg;\r\n\r\n      dataView.setUint16(offset, data.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < data.length; i += 1) {\r\n        // data[id], uint16\r\n        dataView.setUint16(offset, data[i].id, true);\r\n        offset += 2;\r\n\r\n        // data[score], uint32\r\n        dataView.setUint32(offset, data[i].score, true);\r\n        offset += 4;\r\n\r\n        // data[level], uint8\r\n        dataView.setUint8(offset, data[i].level);\r\n        offset += 1;\r\n      }\r\n    }\r\n\r\n    // rankings, array\r\n    {\r\n      const { rankings } = msg;\r\n\r\n      dataView.setUint16(offset, rankings.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < rankings.length; i += 1) {\r\n        // rankings[id], uint16\r\n        dataView.setUint16(offset, rankings[i].id, true);\r\n        offset += 2;\r\n\r\n        // rankings[x], uint8\r\n        dataView.setUint8(offset, rankings[i].x);\r\n        offset += 1;\r\n\r\n        // rankings[y], uint8\r\n        dataView.setUint8(offset, rankings[i].y);\r\n        offset += 1;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED]: (msg: ScoreDetailed): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"scores\" size calculation\r\n    for (let i = 0; i < msg.scores.length; i += 1) {\r\n      arraysSize += 17;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(3 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // scores, array\r\n    {\r\n      const { scores } = msg;\r\n\r\n      dataView.setUint16(offset, scores.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < scores.length; i += 1) {\r\n        // scores[id], uint16\r\n        dataView.setUint16(offset, scores[i].id, true);\r\n        offset += 2;\r\n\r\n        // scores[level], uint8\r\n        dataView.setUint8(offset, scores[i].level);\r\n        offset += 1;\r\n\r\n        // scores[score], uint32\r\n        dataView.setUint32(offset, scores[i].score, true);\r\n        offset += 4;\r\n\r\n        // scores[kills], uint16\r\n        dataView.setUint16(offset, scores[i].kills, true);\r\n        offset += 2;\r\n\r\n        // scores[deaths], uint16\r\n        dataView.setUint16(offset, scores[i].deaths, true);\r\n        offset += 2;\r\n\r\n        // scores[damage], float32\r\n        dataView.setFloat32(offset, scores[i].damage, true);\r\n        offset += 4;\r\n\r\n        // scores[ping], uint16\r\n        dataView.setUint16(offset, scores[i].ping, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED_CTF]: (msg: ScoreDetailedCtf): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"scores\" size calculation\r\n    for (let i = 0; i < msg.scores.length; i += 1) {\r\n      arraysSize += 19;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(3 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // scores, array\r\n    {\r\n      const { scores } = msg;\r\n\r\n      dataView.setUint16(offset, scores.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < scores.length; i += 1) {\r\n        // scores[id], uint16\r\n        dataView.setUint16(offset, scores[i].id, true);\r\n        offset += 2;\r\n\r\n        // scores[level], uint8\r\n        dataView.setUint8(offset, scores[i].level);\r\n        offset += 1;\r\n\r\n        // scores[captures], uint16\r\n        dataView.setUint16(offset, scores[i].captures, true);\r\n        offset += 2;\r\n\r\n        // scores[score], uint32\r\n        dataView.setUint32(offset, scores[i].score, true);\r\n        offset += 4;\r\n\r\n        // scores[kills], uint16\r\n        dataView.setUint16(offset, scores[i].kills, true);\r\n        offset += 2;\r\n\r\n        // scores[deaths], uint16\r\n        dataView.setUint16(offset, scores[i].deaths, true);\r\n        offset += 2;\r\n\r\n        // scores[damage], float32\r\n        dataView.setFloat32(offset, scores[i].damage, true);\r\n        offset += 4;\r\n\r\n        // scores[ping], uint16\r\n        dataView.setUint16(offset, scores[i].ping, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED_BTR]: (msg: ScoreDetailedBtr): ArrayBuffer => {\r\n    // Arrays size calculation\r\n    let arraysSize = 0;\r\n\r\n    // Array \"scores\" size calculation\r\n    for (let i = 0; i < msg.scores.length; i += 1) {\r\n      arraysSize += 20;\r\n    }\r\n\r\n    const buffer = new ArrayBuffer(3 + arraysSize);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // scores, array\r\n    {\r\n      const { scores } = msg;\r\n\r\n      dataView.setUint16(offset, scores.length, true);\r\n      offset += 2;\r\n\r\n      for (let i = 0; i < scores.length; i += 1) {\r\n        // scores[id], uint16\r\n        dataView.setUint16(offset, scores[i].id, true);\r\n        offset += 2;\r\n\r\n        // scores[level], uint8\r\n        dataView.setUint8(offset, scores[i].level);\r\n        offset += 1;\r\n\r\n        // scores[alive], boolean\r\n        dataView.setUint8(offset, scores[i].alive === false ? 0 : 1);\r\n        offset += 1;\r\n\r\n        // scores[wins], uint16\r\n        dataView.setUint16(offset, scores[i].wins, true);\r\n        offset += 2;\r\n\r\n        // scores[score], uint32\r\n        dataView.setUint32(offset, scores[i].score, true);\r\n        offset += 4;\r\n\r\n        // scores[kills], uint16\r\n        dataView.setUint16(offset, scores[i].kills, true);\r\n        offset += 2;\r\n\r\n        // scores[deaths], uint16\r\n        dataView.setUint16(offset, scores[i].deaths, true);\r\n        offset += 2;\r\n\r\n        // scores[damage], float32\r\n        dataView.setFloat32(offset, scores[i].damage, true);\r\n        offset += 4;\r\n\r\n        // scores[ping], uint16\r\n        dataView.setUint16(offset, scores[i].ping, true);\r\n        offset += 2;\r\n      }\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SERVER_MESSAGE]: (msg: ServerMessage): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const text = encodeUTF8(msg.text);\r\n\r\n    const buffer = new ArrayBuffer(8 + text.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // duration, uint32\r\n    dataView.setUint32(offset, msg.duration, true);\r\n    offset += 4;\r\n\r\n    // text, textbig\r\n    dataView.setUint16(offset, text.length, true);\r\n    offset += 2;\r\n\r\n    for (let charOffset = 0; charOffset < text.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, text[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n\r\n  [packet.SERVER_CUSTOM]: (msg: ServerCustom): ArrayBuffer => {\r\n    // Root strings size calculation\r\n    const data = encodeUTF8(msg.data);\r\n\r\n    const buffer = new ArrayBuffer(4 + data.length);\r\n    const dataView = new DataView(buffer);\r\n\r\n    let offset = 0;\r\n\r\n    dataView.setUint8(offset, msg.c);\r\n    offset += 1;\r\n\r\n    // type, uint8\r\n    dataView.setUint8(offset, msg.type);\r\n    offset += 1;\r\n\r\n    // data, textbig\r\n    dataView.setUint16(offset, data.length, true);\r\n    offset += 2;\r\n\r\n    for (let charOffset = 0; charOffset < data.length; charOffset += 1) {\r\n      dataView.setUint8(offset + charOffset, data[charOffset]);\r\n    }\r\n\r\n    return buffer;\r\n  },\r\n};\r\n","import { ProtocolPacket } from '../packets';\r\nimport CLIENT_SCHEMAS from '../schemas/client';\r\nimport SERVER_SCHEMAS from '../schemas/server';\r\nimport { decodeUTF8 } from '../support/utils';\r\nimport { DATA_TYPES } from '../types/data';\r\nimport PREDEFINED_CLIENT_MARSHAL from './client';\r\nimport PREDEFINED_SERVER_MARSHAL from './server';\r\n\r\nconst SERVER_BUFFER = 0;\r\nconst CLIENT_BUFFER = 1;\r\n\r\nconst readBufferData = (\r\n  dataView: DataView,\r\n  startReadIndex = 0,\r\n  schema: [string, DATA_TYPES, [string, DATA_TYPES, []?][]?][]\r\n): ProtocolPacket => {\r\n  const message: ProtocolPacket = {};\r\n  let readIndex = startReadIndex;\r\n\r\n  if (readIndex === 0) {\r\n    message.c = dataView.getUint8(0);\r\n    readIndex += 1;\r\n  }\r\n\r\n  for (let fieldIndex = 0; fieldIndex < schema.length; fieldIndex += 1) {\r\n    const [fieldName, fieldType, subSchema] = schema[fieldIndex];\r\n\r\n    switch (fieldType) {\r\n      case DATA_TYPES.text:\r\n      case DATA_TYPES.textbig:\r\n        {\r\n          let stringLength = 0;\r\n\r\n          if (fieldType === DATA_TYPES.text) {\r\n            stringLength = dataView.getUint8(readIndex);\r\n            readIndex += 1;\r\n          } else {\r\n            stringLength = dataView.getUint16(readIndex, true);\r\n            readIndex += 2;\r\n          }\r\n\r\n          const encodedString = new Uint8Array(stringLength);\r\n\r\n          for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n            encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n          }\r\n\r\n          message[fieldName] = decodeUTF8(encodedString);\r\n          readIndex += stringLength;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.array:\r\n      case DATA_TYPES.arraysmall:\r\n        {\r\n          let arrayLength = 0;\r\n\r\n          if (fieldType === DATA_TYPES.arraysmall) {\r\n            arrayLength = dataView.getUint8(readIndex);\r\n            readIndex += 1;\r\n          } else {\r\n            arrayLength = dataView.getUint16(readIndex, true);\r\n            readIndex += 2;\r\n          }\r\n\r\n          message[fieldName] = [];\r\n\r\n          for (let arrayElementIndex = 0; arrayElementIndex < arrayLength; arrayElementIndex += 1) {\r\n            const arrayElement = {};\r\n\r\n            for (\r\n              let subSchemaFieldIndex = 0;\r\n              subSchemaFieldIndex < subSchema.length;\r\n              subSchemaFieldIndex += 1\r\n            ) {\r\n              const [subFieldName, subFieldType] = subSchema[subSchemaFieldIndex];\r\n\r\n              switch (subFieldType) {\r\n                case DATA_TYPES.text:\r\n                case DATA_TYPES.textbig:\r\n                  {\r\n                    let stringLength = 0;\r\n\r\n                    if (subFieldType === DATA_TYPES.text) {\r\n                      stringLength = dataView.getUint8(readIndex);\r\n                      readIndex += 1;\r\n                    } else {\r\n                      stringLength = dataView.getUint16(readIndex, true);\r\n                      readIndex += 2;\r\n                    }\r\n\r\n                    const encodedString = new Uint8Array(stringLength);\r\n\r\n                    for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n                      encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n                    }\r\n\r\n                    arrayElement[subFieldName] = decodeUTF8(encodedString);\r\n                    readIndex += stringLength;\r\n                  }\r\n\r\n                  break;\r\n\r\n                case DATA_TYPES.uint8:\r\n                  arrayElement[subFieldName] = dataView.getUint8(readIndex);\r\n                  readIndex += 1;\r\n                  break;\r\n\r\n                case DATA_TYPES.uint16:\r\n                  arrayElement[subFieldName] = dataView.getUint16(readIndex, true);\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.uint24:\r\n                  {\r\n                    const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n                    readIndex += 2;\r\n                    arrayElement[subFieldName] = u16 + dataView.getUint8(readIndex);\r\n                    readIndex += 1;\r\n                  }\r\n\r\n                  break;\r\n\r\n                case DATA_TYPES.uint32:\r\n                  arrayElement[subFieldName] = dataView.getUint32(readIndex, true);\r\n                  readIndex += 4;\r\n                  break;\r\n\r\n                case DATA_TYPES.float32:\r\n                  arrayElement[subFieldName] = dataView.getFloat32(readIndex, true);\r\n                  readIndex += 4;\r\n                  break;\r\n\r\n                case DATA_TYPES.float64:\r\n                  arrayElement[subFieldName] = dataView.getFloat64(readIndex, true);\r\n                  readIndex += 8;\r\n                  break;\r\n\r\n                case DATA_TYPES.boolean:\r\n                  arrayElement[subFieldName] = dataView.getUint8(readIndex) !== 0;\r\n                  readIndex += 1;\r\n                  break;\r\n\r\n                case DATA_TYPES.speed:\r\n                  arrayElement[subFieldName] =\r\n                    (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.accel:\r\n                  arrayElement[subFieldName] =\r\n                    (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.coordx:\r\n                  arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.coordy:\r\n                  arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.coord24:\r\n                  {\r\n                    const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n                    readIndex += 2;\r\n                    arrayElement[subFieldName] =\r\n                      (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n                    readIndex += 1;\r\n                  }\r\n\r\n                  break;\r\n\r\n                case DATA_TYPES.rotation:\r\n                  arrayElement[subFieldName] = dataView.getUint16(readIndex, true) / 6553.6;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.regen:\r\n                  arrayElement[subFieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n                  readIndex += 2;\r\n                  break;\r\n\r\n                case DATA_TYPES.healthenergy:\r\n                  arrayElement[subFieldName] = dataView.getUint8(readIndex) / 255;\r\n                  readIndex += 1;\r\n                  break;\r\n\r\n                default:\r\n                  throw Error();\r\n              }\r\n            }\r\n\r\n            (message[fieldName] as {}[]).push(arrayElement);\r\n          }\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.uint8:\r\n        message[fieldName] = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n        break;\r\n\r\n      case DATA_TYPES.uint16:\r\n        message[fieldName] = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.uint24:\r\n        {\r\n          const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n          readIndex += 2;\r\n          message[fieldName] = u16 + dataView.getUint8(readIndex);\r\n          readIndex += 1;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.uint32:\r\n        message[fieldName] = dataView.getUint32(readIndex, true);\r\n        readIndex += 4;\r\n        break;\r\n\r\n      case DATA_TYPES.float32:\r\n        message[fieldName] = dataView.getFloat32(readIndex, true);\r\n        readIndex += 4;\r\n        break;\r\n\r\n      case DATA_TYPES.float64:\r\n        message[fieldName] = dataView.getFloat64(readIndex, true);\r\n        readIndex += 8;\r\n        break;\r\n\r\n      case DATA_TYPES.boolean:\r\n        message[fieldName] = dataView.getUint8(readIndex) !== 0;\r\n        readIndex += 1;\r\n        break;\r\n\r\n      case DATA_TYPES.speed:\r\n        message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.accel:\r\n        message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.coordx:\r\n        message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.coordy:\r\n        message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.coord24:\r\n        {\r\n          const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n          readIndex += 2;\r\n          message[fieldName] = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n          readIndex += 1;\r\n        }\r\n\r\n        break;\r\n\r\n      case DATA_TYPES.rotation:\r\n        message[fieldName] = dataView.getUint16(readIndex, true) / 6553.6;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.regen:\r\n        message[fieldName] = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n        readIndex += 2;\r\n        break;\r\n\r\n      case DATA_TYPES.healthenergy:\r\n        message[fieldName] = dataView.getUint8(readIndex) / 255;\r\n        readIndex += 1;\r\n        break;\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  return message;\r\n};\r\n\r\nconst unmarshal = (\r\n  buffer: ArrayBuffer,\r\n  type: number,\r\n  usePredefinedMarshal: boolean\r\n): ProtocolPacket => {\r\n  const dataView = new DataView(buffer);\r\n  const messageCode = dataView.getUint8(0);\r\n\r\n  let predefMarshal = null;\r\n  let message = null;\r\n  let schema = null;\r\n\r\n  switch (type) {\r\n    case CLIENT_BUFFER:\r\n      predefMarshal = PREDEFINED_CLIENT_MARSHAL[messageCode];\r\n      schema = CLIENT_SCHEMAS[messageCode];\r\n      break;\r\n\r\n    case SERVER_BUFFER:\r\n      predefMarshal = PREDEFINED_SERVER_MARSHAL[messageCode];\r\n      schema = SERVER_SCHEMAS[messageCode];\r\n      break;\r\n\r\n    default:\r\n      return null;\r\n  }\r\n\r\n  if (usePredefinedMarshal && predefMarshal) {\r\n    message = predefMarshal(buffer);\r\n  } else {\r\n    if (schema === null) {\r\n      return null;\r\n    }\r\n\r\n    message = readBufferData(dataView, 0, schema);\r\n  }\r\n\r\n  return message;\r\n};\r\n\r\n/**\r\n * Unmarshal client binary packet to protocol message.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */\r\nconst unmarshalClientMessage = (\r\n  message: ArrayBuffer,\r\n  usePredefinedMarshal = true\r\n): ProtocolPacket => {\r\n  return unmarshal(message, CLIENT_BUFFER, usePredefinedMarshal);\r\n};\r\n\r\n/**\r\n * Unmarshal server binary packet to protocol message.\r\n * Pre generated converters are a bit faster.\r\n *\r\n * @param message\r\n * @param usePredefinedMarshal use pre generated converters.\r\n */\r\nconst unmarshalServerMessage = (\r\n  message: ArrayBuffer,\r\n  usePredefinedMarshal = true\r\n): ProtocolPacket => {\r\n  return unmarshal(message, SERVER_BUFFER, usePredefinedMarshal);\r\n};\r\n\r\nexport { unmarshalClientMessage, unmarshalServerMessage };\r\n","/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */\r\n\r\nimport packet from '../packets/client';\r\nimport { decodeUTF8 } from '../support/utils';\r\nimport {\r\n  Login,\r\n  Backup,\r\n  Horizon,\r\n  Ack,\r\n  Pong,\r\n  Key,\r\n  Command,\r\n  Scoredetailed,\r\n  Chat,\r\n  Whisper,\r\n  Say,\r\n  Teamchat,\r\n  Votemute,\r\n  Localping,\r\n} from '../types/packets-client';\r\n\r\nconst staticAckPacket: Ack = { c: 5 };\r\nconst staticScoredetailedPacket: Scoredetailed = { c: 12 };\r\n\r\nexport default {\r\n  [packet.LOGIN]: (buffer: ArrayBuffer): Login => {\r\n    const msg: Login = { c: 0 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // protocol, uint8\r\n    msg.protocol = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // name, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.name = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // session, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.session = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // horizonX, uint16\r\n    msg.horizonX = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // horizonY, uint16\r\n    msg.horizonY = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // flag, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.flag = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.BACKUP]: (buffer: ArrayBuffer): Backup => {\r\n    const msg: Backup = { c: 1 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // token, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.token = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.HORIZON]: (buffer: ArrayBuffer): Horizon => {\r\n    const msg: Horizon = { c: 2 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // horizonX, uint16\r\n    msg.horizonX = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // horizonY, uint16\r\n    msg.horizonY = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.ACK]: (): Ack => staticAckPacket,\r\n\r\n  [packet.PONG]: (buffer: ArrayBuffer): Pong => {\r\n    const msg: Pong = { c: 6 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // num, uint32\r\n    msg.num = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.KEY]: (buffer: ArrayBuffer): Key => {\r\n    const msg: Key = { c: 10 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // seq, uint32\r\n    msg.seq = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // key, uint8\r\n    msg.key = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // state, boolean\r\n    msg.state = dataView.getUint8(readIndex) !== 0;\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.COMMAND]: (buffer: ArrayBuffer): Command => {\r\n    const msg: Command = { c: 11 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // com, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.com = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // data, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.data = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SCOREDETAILED]: (): Scoredetailed => staticScoredetailedPacket,\r\n\r\n  [packet.CHAT]: (buffer: ArrayBuffer): Chat => {\r\n    const msg: Chat = { c: 20 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.WHISPER]: (buffer: ArrayBuffer): Whisper => {\r\n    const msg: Whisper = { c: 21 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SAY]: (buffer: ArrayBuffer): Say => {\r\n    const msg: Say = { c: 22 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.TEAMCHAT]: (buffer: ArrayBuffer): Teamchat => {\r\n    const msg: Teamchat = { c: 23 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.VOTEMUTE]: (buffer: ArrayBuffer): Votemute => {\r\n    const msg: Votemute = { c: 24 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.LOCALPING]: (buffer: ArrayBuffer): Localping => {\r\n    const msg: Localping = { c: 255 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // auth, uint32\r\n    msg.auth = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n};\r\n","/*\r\n *\r\n * This file was created automatically with generator\r\n * Please don't change it manually.\r\n *\r\n */\r\n\r\nimport packet from '../packets/server';\r\nimport { decodeUTF8 } from '../support/utils';\r\nimport {\r\n  Login,\r\n  Backup,\r\n  Ping,\r\n  PingResult,\r\n  Ack,\r\n  Error,\r\n  CommandReply,\r\n  PlayerNew,\r\n  PlayerLeave,\r\n  PlayerUpdate,\r\n  PlayerFire,\r\n  PlayerHit,\r\n  PlayerRespawn,\r\n  PlayerFlag,\r\n  PlayerKill,\r\n  PlayerUpgrade,\r\n  PlayerType,\r\n  PlayerPowerup,\r\n  PlayerLevel,\r\n  PlayerReteam,\r\n  GameFlag,\r\n  GameSpectate,\r\n  GamePlayersalive,\r\n  GameFirewall,\r\n  EventRepel,\r\n  EventBoost,\r\n  EventBounce,\r\n  EventStealth,\r\n  EventLeavehorizon,\r\n  MobUpdate,\r\n  MobUpdateStationary,\r\n  MobDespawn,\r\n  MobDespawnCoords,\r\n  ChatPublic,\r\n  ChatTeam,\r\n  ChatSay,\r\n  ChatWhisper,\r\n  ChatVotemutepassed,\r\n  ChatVotemuted,\r\n  ScoreUpdate,\r\n  ScoreBoard,\r\n  ScoreDetailed,\r\n  ScoreDetailedCtf,\r\n  ScoreDetailedBtr,\r\n  ServerMessage,\r\n  ServerCustom,\r\n} from '../types/packets-server';\r\n\r\nconst staticBackupPacket: Backup = { c: 1 };\r\nconst staticAckPacket: Ack = { c: 7 };\r\nconst staticChatVotemutedPacket: ChatVotemuted = { c: 79 };\r\n\r\nexport default {\r\n  [packet.LOGIN]: (buffer: ArrayBuffer): Login => {\r\n    const msg: Login = { c: 0 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // success, boolean\r\n    msg.success = dataView.getUint8(readIndex) !== 0;\r\n    readIndex += 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // team, uint16\r\n    msg.team = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // token, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.token = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // room, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.room = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // players, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.players = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: Login['players'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // status, uint8\r\n        arrayElement.status = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // level, uint8\r\n        arrayElement.level = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // name, text\r\n        {\r\n          const stringLength = dataView.getUint8(readIndex);\r\n          const encodedString = new Uint8Array(stringLength);\r\n\r\n          readIndex += 1;\r\n\r\n          for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n            encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n          }\r\n\r\n          arrayElement.name = decodeUTF8(encodedString);\r\n          readIndex += stringLength;\r\n        }\r\n\r\n        // type, uint8\r\n        arrayElement.type = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // team, uint16\r\n        arrayElement.team = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // posX, coordx\r\n        arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n        readIndex += 2;\r\n\r\n        // posY, coordy\r\n        arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n        readIndex += 2;\r\n\r\n        // rot, rotation\r\n        arrayElement.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n        readIndex += 2;\r\n\r\n        // flag, uint16\r\n        arrayElement.flag = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // upgrades, uint8\r\n        arrayElement.upgrades = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        msg.players.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    // serverConfiguration, textbig\r\n    {\r\n      const stringLength = dataView.getUint16(readIndex, true);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 2;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.serverConfiguration = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // bots, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.bots = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: Login['bots'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        msg.bots.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.BACKUP]: (): Backup => staticBackupPacket,\r\n\r\n  [packet.PING]: (buffer: ArrayBuffer): Ping => {\r\n    const msg: Ping = { c: 5 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // num, uint32\r\n    msg.num = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PING_RESULT]: (buffer: ArrayBuffer): PingResult => {\r\n    const msg: PingResult = { c: 6 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // ping, uint16\r\n    msg.ping = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // playerstotal, uint32\r\n    msg.playerstotal = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // playersgame, uint32\r\n    msg.playersgame = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.ACK]: (): Ack => staticAckPacket,\r\n\r\n  [packet.ERROR]: (buffer: ArrayBuffer): Error => {\r\n    const msg: Error = { c: 8 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // error, uint8\r\n    msg.error = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.COMMAND_REPLY]: (buffer: ArrayBuffer): CommandReply => {\r\n    const msg: CommandReply = { c: 9 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // text, textbig\r\n    {\r\n      const stringLength = dataView.getUint16(readIndex, true);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 2;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_NEW]: (buffer: ArrayBuffer): PlayerNew => {\r\n    const msg: PlayerNew = { c: 10 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // status, uint8\r\n    msg.status = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // name, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.name = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // team, uint16\r\n    msg.team = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // flag, uint16\r\n    msg.flag = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // upgrades, uint8\r\n    msg.upgrades = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // isBot, boolean\r\n    msg.isBot = dataView.getUint8(readIndex) !== 0;\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_LEAVE]: (buffer: ArrayBuffer): PlayerLeave => {\r\n    const msg: PlayerLeave = { c: 11 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_UPDATE]: (buffer: ArrayBuffer): PlayerUpdate => {\r\n    const msg: PlayerUpdate = { c: 12 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // keystate, uint8\r\n    msg.keystate = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // upgrades, uint8\r\n    msg.upgrades = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // speedX, speed\r\n    msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // speedY, speed\r\n    msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_FIRE]: (buffer: ArrayBuffer): PlayerFire => {\r\n    const msg: PlayerFire = { c: 13 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // energy, healthenergy\r\n    msg.energy = dataView.getUint8(readIndex) / 255;\r\n    readIndex += 1;\r\n\r\n    // energyRegen, regen\r\n    msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n    readIndex += 2;\r\n\r\n    // projectiles, arraysmall\r\n    {\r\n      const arrayLength = dataView.getUint8(readIndex);\r\n\r\n      readIndex += 1;\r\n      msg.projectiles = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: PlayerFire['projectiles'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // type, uint8\r\n        arrayElement.type = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // posX, coordx\r\n        arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n        readIndex += 2;\r\n\r\n        // posY, coordy\r\n        arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n        readIndex += 2;\r\n\r\n        // speedX, speed\r\n        arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // speedY, speed\r\n        arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // accelX, accel\r\n        arrayElement.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n        readIndex += 2;\r\n\r\n        // accelY, accel\r\n        arrayElement.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n        readIndex += 2;\r\n\r\n        // maxSpeed, speed\r\n        arrayElement.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        msg.projectiles.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_HIT]: (buffer: ArrayBuffer): PlayerHit => {\r\n    const msg: PlayerHit = { c: 14 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    // owner, uint16\r\n    msg.owner = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // players, arraysmall\r\n    {\r\n      const arrayLength = dataView.getUint8(readIndex);\r\n\r\n      readIndex += 1;\r\n      msg.players = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: PlayerHit['players'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // health, healthenergy\r\n        arrayElement.health = dataView.getUint8(readIndex) / 255;\r\n        readIndex += 1;\r\n\r\n        // healthRegen, regen\r\n        arrayElement.healthRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n        readIndex += 2;\r\n\r\n        msg.players.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_RESPAWN]: (buffer: ArrayBuffer): PlayerRespawn => {\r\n    const msg: PlayerRespawn = { c: 15 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // posX, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // upgrades, uint8\r\n    msg.upgrades = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_FLAG]: (buffer: ArrayBuffer): PlayerFlag => {\r\n    const msg: PlayerFlag = { c: 16 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // flag, uint16\r\n    msg.flag = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_KILL]: (buffer: ArrayBuffer): PlayerKill => {\r\n    const msg: PlayerKill = { c: 17 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // killer, uint16\r\n    msg.killer = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_UPGRADE]: (buffer: ArrayBuffer): PlayerUpgrade => {\r\n    const msg: PlayerUpgrade = { c: 18 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // upgrades, uint16\r\n    msg.upgrades = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // speed, uint8\r\n    msg.speed = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // defense, uint8\r\n    msg.defense = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // energy, uint8\r\n    msg.energy = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // missile, uint8\r\n    msg.missile = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_TYPE]: (buffer: ArrayBuffer): PlayerType => {\r\n    const msg: PlayerType = { c: 19 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_POWERUP]: (buffer: ArrayBuffer): PlayerPowerup => {\r\n    const msg: PlayerPowerup = { c: 20 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // duration, uint32\r\n    msg.duration = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_LEVEL]: (buffer: ArrayBuffer): PlayerLevel => {\r\n    const msg: PlayerLevel = { c: 21 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // level, uint8\r\n    msg.level = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.PLAYER_RETEAM]: (buffer: ArrayBuffer): PlayerReteam => {\r\n    const msg: PlayerReteam = { c: 22 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // players, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.players = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: PlayerReteam['players'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // team, uint16\r\n        arrayElement.team = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        msg.players.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.GAME_FLAG]: (buffer: ArrayBuffer): GameFlag => {\r\n    const msg: GameFlag = { c: 30 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // flag, uint8\r\n    msg.flag = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // posX, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // blueteam, uint8\r\n    msg.blueteam = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // redteam, uint8\r\n    msg.redteam = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.GAME_SPECTATE]: (buffer: ArrayBuffer): GameSpectate => {\r\n    const msg: GameSpectate = { c: 31 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.GAME_PLAYERSALIVE]: (buffer: ArrayBuffer): GamePlayersalive => {\r\n    const msg: GamePlayersalive = { c: 32 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // players, uint16\r\n    msg.players = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.GAME_FIREWALL]: (buffer: ArrayBuffer): GameFirewall => {\r\n    const msg: GameFirewall = { c: 33 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // status, uint8\r\n    msg.status = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    // radius, float32\r\n    msg.radius = dataView.getFloat32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // speed, float32\r\n    msg.speed = dataView.getFloat32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.EVENT_REPEL]: (buffer: ArrayBuffer): EventRepel => {\r\n    const msg: EventRepel = { c: 40 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // speedX, speed\r\n    msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // speedY, speed\r\n    msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // energy, healthenergy\r\n    msg.energy = dataView.getUint8(readIndex) / 255;\r\n    readIndex += 1;\r\n\r\n    // energyRegen, regen\r\n    msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n    readIndex += 2;\r\n\r\n    // players, arraysmall\r\n    {\r\n      const arrayLength = dataView.getUint8(readIndex);\r\n\r\n      readIndex += 1;\r\n      msg.players = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: EventRepel['players'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // keystate, uint8\r\n        arrayElement.keystate = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // posX, coordx\r\n        arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n        readIndex += 2;\r\n\r\n        // posY, coordy\r\n        arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n        readIndex += 2;\r\n\r\n        // rot, rotation\r\n        arrayElement.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n        readIndex += 2;\r\n\r\n        // speedX, speed\r\n        arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // speedY, speed\r\n        arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // energy, healthenergy\r\n        arrayElement.energy = dataView.getUint8(readIndex) / 255;\r\n        readIndex += 1;\r\n\r\n        // energyRegen, regen\r\n        arrayElement.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n        readIndex += 2;\r\n\r\n        // playerHealth, healthenergy\r\n        arrayElement.playerHealth = dataView.getUint8(readIndex) / 255;\r\n        readIndex += 1;\r\n\r\n        // playerHealthRegen, regen\r\n        arrayElement.playerHealthRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n        readIndex += 2;\r\n\r\n        msg.players.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    // mobs, arraysmall\r\n    {\r\n      const arrayLength = dataView.getUint8(readIndex);\r\n\r\n      readIndex += 1;\r\n      msg.mobs = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: EventRepel['mobs'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // type, uint8\r\n        arrayElement.type = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // posX, coordx\r\n        arrayElement.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n        readIndex += 2;\r\n\r\n        // posY, coordy\r\n        arrayElement.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n        readIndex += 2;\r\n\r\n        // speedX, speed\r\n        arrayElement.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // speedY, speed\r\n        arrayElement.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        // accelX, accel\r\n        arrayElement.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n        readIndex += 2;\r\n\r\n        // accelY, accel\r\n        arrayElement.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n        readIndex += 2;\r\n\r\n        // maxSpeed, speed\r\n        arrayElement.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n        readIndex += 2;\r\n\r\n        msg.mobs.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.EVENT_BOOST]: (buffer: ArrayBuffer): EventBoost => {\r\n    const msg: EventBoost = { c: 41 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // boost, boolean\r\n    msg.boost = dataView.getUint8(readIndex) !== 0;\r\n    readIndex += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // speedX, speed\r\n    msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // speedY, speed\r\n    msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // energy, healthenergy\r\n    msg.energy = dataView.getUint8(readIndex) / 255;\r\n    readIndex += 1;\r\n\r\n    // energyRegen, regen\r\n    msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.EVENT_BOUNCE]: (buffer: ArrayBuffer): EventBounce => {\r\n    const msg: EventBounce = { c: 42 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // keystate, uint8\r\n    msg.keystate = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posX = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // posY, coord24\r\n    {\r\n      const u16 = 256 * dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.posY = (u16 + dataView.getUint8(readIndex) - 8388608) / 512;\r\n      readIndex += 1;\r\n    }\r\n\r\n    // rot, rotation\r\n    msg.rot = dataView.getUint16(readIndex, true) / 6553.6;\r\n    readIndex += 2;\r\n\r\n    // speedX, speed\r\n    msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // speedY, speed\r\n    msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.EVENT_STEALTH]: (buffer: ArrayBuffer): EventStealth => {\r\n    const msg: EventStealth = { c: 43 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // state, boolean\r\n    msg.state = dataView.getUint8(readIndex) !== 0;\r\n    readIndex += 1;\r\n\r\n    // energy, healthenergy\r\n    msg.energy = dataView.getUint8(readIndex) / 255;\r\n    readIndex += 1;\r\n\r\n    // energyRegen, regen\r\n    msg.energyRegen = (dataView.getUint16(readIndex, true) - 32768) / 1e6;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.EVENT_LEAVEHORIZON]: (buffer: ArrayBuffer): EventLeavehorizon => {\r\n    const msg: EventLeavehorizon = { c: 44 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.MOB_UPDATE]: (buffer: ArrayBuffer): MobUpdate => {\r\n    const msg: MobUpdate = { c: 60 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // clock, uint32\r\n    msg.clock = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    // speedX, speed\r\n    msg.speedX = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // speedY, speed\r\n    msg.speedY = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    // accelX, accel\r\n    msg.accelX = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n    readIndex += 2;\r\n\r\n    // accelY, accel\r\n    msg.accelY = (dataView.getUint16(readIndex, true) - 32768) / 32768;\r\n    readIndex += 2;\r\n\r\n    // maxSpeed, speed\r\n    msg.maxSpeed = (dataView.getUint16(readIndex, true) - 32768) / 1638.4;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.MOB_UPDATE_STATIONARY]: (buffer: ArrayBuffer): MobUpdateStationary => {\r\n    const msg: MobUpdateStationary = { c: 61 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, float32\r\n    msg.posX = dataView.getFloat32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // posY, float32\r\n    msg.posY = dataView.getFloat32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.MOB_DESPAWN]: (buffer: ArrayBuffer): MobDespawn => {\r\n    const msg: MobDespawn = { c: 62 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.MOB_DESPAWN_COORDS]: (buffer: ArrayBuffer): MobDespawnCoords => {\r\n    const msg: MobDespawnCoords = { c: 63 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // posX, coordx\r\n    msg.posX = (dataView.getUint16(readIndex, true) - 32768) / 2;\r\n    readIndex += 2;\r\n\r\n    // posY, coordy\r\n    msg.posY = (dataView.getUint16(readIndex, true) - 32768) / 4;\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_PUBLIC]: (buffer: ArrayBuffer): ChatPublic => {\r\n    const msg: ChatPublic = { c: 70 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_TEAM]: (buffer: ArrayBuffer): ChatTeam => {\r\n    const msg: ChatTeam = { c: 71 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_SAY]: (buffer: ArrayBuffer): ChatSay => {\r\n    const msg: ChatSay = { c: 72 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_WHISPER]: (buffer: ArrayBuffer): ChatWhisper => {\r\n    const msg: ChatWhisper = { c: 73 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // from, uint16\r\n    msg.from = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // to, uint16\r\n    msg.to = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // text, text\r\n    {\r\n      const stringLength = dataView.getUint8(readIndex);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 1;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_VOTEMUTEPASSED]: (buffer: ArrayBuffer): ChatVotemutepassed => {\r\n    const msg: ChatVotemutepassed = { c: 78 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.CHAT_VOTEMUTED]: (): ChatVotemuted => staticChatVotemutedPacket,\r\n\r\n  [packet.SCORE_UPDATE]: (buffer: ArrayBuffer): ScoreUpdate => {\r\n    const msg: ScoreUpdate = { c: 80 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // id, uint16\r\n    msg.id = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // score, uint32\r\n    msg.score = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // earnings, uint32\r\n    msg.earnings = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // upgrades, uint16\r\n    msg.upgrades = dataView.getUint16(readIndex, true);\r\n    readIndex += 2;\r\n\r\n    // totalkills, uint32\r\n    msg.totalkills = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // totaldeaths, uint32\r\n    msg.totaldeaths = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SCORE_BOARD]: (buffer: ArrayBuffer): ScoreBoard => {\r\n    const msg: ScoreBoard = { c: 81 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // data, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.data = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: ScoreBoard['data'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // score, uint32\r\n        arrayElement.score = dataView.getUint32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // level, uint8\r\n        arrayElement.level = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        msg.data.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    // rankings, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.rankings = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: ScoreBoard['rankings'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // x, uint8\r\n        arrayElement.x = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // y, uint8\r\n        arrayElement.y = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        msg.rankings.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED]: (buffer: ArrayBuffer): ScoreDetailed => {\r\n    const msg: ScoreDetailed = { c: 82 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // scores, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.scores = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: ScoreDetailed['scores'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // level, uint8\r\n        arrayElement.level = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // score, uint32\r\n        arrayElement.score = dataView.getUint32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // kills, uint16\r\n        arrayElement.kills = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // deaths, uint16\r\n        arrayElement.deaths = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // damage, float32\r\n        arrayElement.damage = dataView.getFloat32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // ping, uint16\r\n        arrayElement.ping = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        msg.scores.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED_CTF]: (buffer: ArrayBuffer): ScoreDetailedCtf => {\r\n    const msg: ScoreDetailedCtf = { c: 83 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // scores, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.scores = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: ScoreDetailedCtf['scores'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // level, uint8\r\n        arrayElement.level = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // captures, uint16\r\n        arrayElement.captures = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // score, uint32\r\n        arrayElement.score = dataView.getUint32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // kills, uint16\r\n        arrayElement.kills = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // deaths, uint16\r\n        arrayElement.deaths = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // damage, float32\r\n        arrayElement.damage = dataView.getFloat32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // ping, uint16\r\n        arrayElement.ping = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        msg.scores.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SCORE_DETAILED_BTR]: (buffer: ArrayBuffer): ScoreDetailedBtr => {\r\n    const msg: ScoreDetailedBtr = { c: 84 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // scores, array\r\n    {\r\n      const arrayLength = dataView.getUint16(readIndex, true);\r\n\r\n      readIndex += 2;\r\n      msg.scores = [];\r\n\r\n      for (let i = 0; i < arrayLength; i += 1) {\r\n        const arrayElement: ScoreDetailedBtr['scores'][0] = {};\r\n\r\n        // id, uint16\r\n        arrayElement.id = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // level, uint8\r\n        arrayElement.level = dataView.getUint8(readIndex);\r\n        readIndex += 1;\r\n\r\n        // alive, boolean\r\n        arrayElement.alive = dataView.getUint8(readIndex) !== 0;\r\n        readIndex += 1;\r\n\r\n        // wins, uint16\r\n        arrayElement.wins = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // score, uint32\r\n        arrayElement.score = dataView.getUint32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // kills, uint16\r\n        arrayElement.kills = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // deaths, uint16\r\n        arrayElement.deaths = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        // damage, float32\r\n        arrayElement.damage = dataView.getFloat32(readIndex, true);\r\n        readIndex += 4;\r\n\r\n        // ping, uint16\r\n        arrayElement.ping = dataView.getUint16(readIndex, true);\r\n        readIndex += 2;\r\n\r\n        msg.scores.push(arrayElement);\r\n      }\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SERVER_MESSAGE]: (buffer: ArrayBuffer): ServerMessage => {\r\n    const msg: ServerMessage = { c: 90 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // duration, uint32\r\n    msg.duration = dataView.getUint32(readIndex, true);\r\n    readIndex += 4;\r\n\r\n    // text, textbig\r\n    {\r\n      const stringLength = dataView.getUint16(readIndex, true);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 2;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.text = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n\r\n  [packet.SERVER_CUSTOM]: (buffer: ArrayBuffer): ServerCustom => {\r\n    const msg: ServerCustom = { c: 91 };\r\n    const dataView = new DataView(buffer);\r\n\r\n    let readIndex = 1;\r\n\r\n    // type, uint8\r\n    msg.type = dataView.getUint8(readIndex);\r\n    readIndex += 1;\r\n\r\n    // data, textbig\r\n    {\r\n      const stringLength = dataView.getUint16(readIndex, true);\r\n      const encodedString = new Uint8Array(stringLength);\r\n\r\n      readIndex += 2;\r\n\r\n      for (let charIndex = 0; charIndex < stringLength; charIndex += 1) {\r\n        encodedString[charIndex] = dataView.getUint8(readIndex + charIndex);\r\n      }\r\n\r\n      msg.data = decodeUTF8(encodedString);\r\n      readIndex += stringLength;\r\n    }\r\n\r\n    return msg;\r\n  },\r\n};\r\n","/**\r\n * CLIENT_PACKETS.KEY types\r\n */\r\nexport enum KEY_CODES {\r\n  UP = 1,\r\n  DOWN = 2,\r\n  LEFT = 3,\r\n  RIGHT = 4,\r\n  FIRE = 5,\r\n  SPECIAL = 6,\r\n}\r\n\r\nexport interface Keystate {\r\n  UP: boolean;\r\n  DOWN: boolean;\r\n  LEFT: boolean;\r\n  RIGHT: boolean;\r\n}\r\n\r\nexport const KEY_NAMES = Object.assign(\r\n  {},\r\n  ...Object.entries(KEY_CODES).map(([name, code]) => ({ [code]: name }))\r\n);\r\n","/**\r\n * Protocol time, 10^-5 seconds.\r\n * Started from 0 at the moment of the server start.\r\n */\r\nexport type ClockTime = number;\r\n\r\n/**\r\n * SERVER_PACKETS.ERROR types.\r\n */\r\nexport enum SERVER_ERRORS {\r\n  PACKET_FLOODING_DISCONNECT = 1,\r\n  PACKET_FLOODING_BAN = 2,\r\n  GLOBAL_BAN = 3,\r\n  UNKNOWN_ERROR = 4,\r\n  REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN = 5,\r\n  AFK_DISCONNECT = 6,\r\n  PLAYER_KICKED = 7,\r\n  INVALID_LOGIN_DATA = 8,\r\n  INCORRECT_PROTOCOL = 9,\r\n  ACCOUNT_BANNED = 10,\r\n  ALREADY_LOGGED_IN = 11,\r\n  FORBIDDEN_TO_CHANGE_PLANE_IN_BTR = 12,\r\n  REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE = 13,\r\n  NOT_ENOUGH_UPGRADES = 20,\r\n  CHAT_SPAMMING = 30,\r\n  FLAG_CHANGE_TOO_FAST = 31,\r\n  UNKNOWN_COMMAND = 100,\r\n}\r\n\r\n/**\r\n * SERVER_PACKETS.SERVER_MESSAGE types.\r\n */\r\nexport enum SERVER_MESSAGE_TYPES {\r\n  ALERT = 1,\r\n  INFO = 2,\r\n}\r\n\r\n/**\r\n * SERVER_PACKETS.COMMAND_REPLY types.\r\n */\r\nexport enum COMMAND_REPLY_TYPES {\r\n  /**\r\n   * Special notification at the bottom of the chat.\r\n   */\r\n  CHAT = 0,\r\n\r\n  /**\r\n   * Popup. Use only for debug.\r\n   */\r\n  DEBUG = 1,\r\n}\r\n\r\n/**\r\n * SERVER_PACKETS.EVENT_LEAVEHORIZON types.\r\n */\r\nexport enum LEAVE_HORIZON_TYPES {\r\n  PLAYER = 0,\r\n  MOB = 1,\r\n}\r\n\r\nexport enum MOB_TYPES {\r\n  PLAYER = 0,\r\n\r\n  // Projectiles\r\n  PREDATOR_MISSILE = 1,\r\n  GOLIATH_MISSILE = 2,\r\n  COPTER_MISSILE = 3,\r\n  TORNADO_MISSILE = 5,\r\n  TORNADO_SMALL_MISSILE = 6,\r\n  PROWLER_MISSILE = 7,\r\n\r\n  // Boxes\r\n  UPGRADE = 4,\r\n  SHIELD = 8,\r\n  INFERNO = 9,\r\n\r\n  // BTR\r\n  FIREWALL = 200,\r\n}\r\n\r\n/**\r\n * EXPIRED — box or projectile despawned.\r\n * PICKUP — player picked up a box.\r\n */\r\nexport enum MOB_DESPAWN_TYPES {\r\n  EXPIRED = 0,\r\n  PICKUP = 1,\r\n}\r\n\r\nexport enum PLAYER_LEVEL_UPDATE_TYPES {\r\n  INFORM = 0,\r\n  LEVELUP = 1,\r\n}\r\n\r\nexport enum PLAYER_STATUS {\r\n  /**\r\n   * On the map.\r\n   */\r\n  ALIVE = 0,\r\n\r\n  /**\r\n   * Dead or spectate\r\n   */\r\n  INACTIVE = 1,\r\n}\r\n\r\nexport enum PLAYER_UPGRADE_TYPES {\r\n  LOST = 0,\r\n  SPEED = 1,\r\n  DEFENSE = 2,\r\n  ENERGY = 3,\r\n  MISSILE = 4,\r\n}\r\n\r\n/**\r\n * SERVER_PACKETS.SERVER_CUSTOM types.\r\n */\r\nexport enum SERVER_CUSTOM_TYPES {\r\n  BTR = 1,\r\n  CTF = 2,\r\n}\r\n\r\n/**\r\n * SERVER_PACKETS.PLAYER_POWERUP types.\r\n */\r\nexport enum PLAYER_POWERUP_TYPES {\r\n  SHIELD = 1,\r\n  INFERNO = 2,\r\n}\r\n\r\nexport enum CTF_TEAMS {\r\n  BLUE = 1,\r\n  RED = 2,\r\n}\r\n\r\nexport enum CTF_FLAG_STATE {\r\n  /**\r\n   * Flag dropped.\r\n   */\r\n  STATIC = 1,\r\n\r\n  /**\r\n   * Frag currently owned by player.\r\n   */\r\n  DYNAMIC = 2,\r\n}\r\n\r\n/**\r\n * BASE — min bounty (if only one player online),\r\n * INCREMENT — an additional bounty for each online player\r\n */\r\nexport enum CTF_CAPTURE_BOUNTY {\r\n  BASE = 100,\r\n  INCREMENT = 100,\r\n  MAX = 1000,\r\n}\r\n\r\nexport enum BTR_FIREWALL_STATUS {\r\n  INACTIVE = 0,\r\n  ACTIVE = 1,\r\n}\r\n\r\n/**\r\n * BASE — min bounty (if only one player online),\r\n * INCREMENT — an additional bounty for each online player\r\n */\r\nexport enum CTF_WIN_BOUNTY {\r\n  BASE = 100,\r\n  INCREMENT = 100,\r\n  MAX = 1000,\r\n}\r\n\r\n/**\r\n * BASE — min bounty (if only one player online),\r\n * INCREMENT — an additional bounty for each online player\r\n */\r\nexport enum BTR_WIN_BOUNTY {\r\n  BASE = 500,\r\n  INCREMENT = 500,\r\n  MAX = 5000,\r\n}\r\n\r\nexport enum GAME_TYPES {\r\n  FFA = 1,\r\n  CTF = 2,\r\n  BTR = 3,\r\n}\r\n\r\nexport enum GAME_STATE_CODES {\r\n  LOGIN = 1,\r\n  CONNECTING = 2,\r\n  PLAYING = 3,\r\n}\r\n\r\nexport const GAME_STATE_NAMES = Object.assign(\r\n  {},\r\n  ...Object.entries(GAME_STATE_CODES).map(([name, code]) => ({ [code]: name }))\r\n);\r\n\r\nexport const MAP_SIZE = {\r\n  WIDTH: 32768,\r\n  HEIGHT: 16384,\r\n};\r\n","/**\r\n * Available texture to 2 letter ISO-3166-1 country codes\r\n *\r\n */\r\nconst FLAGS_CODE_TO_ISO = {\r\n  '1': 'SY',\r\n  '2': 'TH',\r\n  '3': 'TM',\r\n  '4': 'TN',\r\n  '5': 'TR',\r\n  '6': 'TT',\r\n  '7': 'TW',\r\n  '8': 'TZ',\r\n  '9': 'UA',\r\n  '10': 'UN',\r\n  '11': 'US',\r\n  '12': 'UY',\r\n  '13': 'UZ',\r\n  '14': 'VE',\r\n  '15': 'VN',\r\n  '16': 'PR',\r\n  '17': 'PT',\r\n  '18': 'PY',\r\n  '19': 'QA',\r\n  '20': 'RAINBOW',\r\n  '21': 'RO',\r\n  '22': 'RS',\r\n  '23': 'RU',\r\n  '24': 'SA',\r\n  '25': 'SE',\r\n  '26': 'SG',\r\n  '27': 'SI',\r\n  '28': 'SK',\r\n  '29': 'SM',\r\n  '30': 'MK',\r\n  '31': 'MO',\r\n  '32': 'MT',\r\n  '33': 'MX',\r\n  '34': 'MY',\r\n  '35': 'NG',\r\n  '36': 'NL',\r\n  '37': 'NO',\r\n  '38': 'NP',\r\n  '39': 'NZ',\r\n  '40': 'OM',\r\n  '41': 'PA',\r\n  '42': 'PE',\r\n  '43': 'JP',\r\n  '44': 'KP',\r\n  '45': 'KR',\r\n  '46': 'KW',\r\n  '47': 'KZ',\r\n  '48': 'LB',\r\n  '49': 'LI',\r\n  '50': 'LK',\r\n  '51': 'LT',\r\n  '52': 'LU',\r\n  '53': 'LV',\r\n  '54': 'HN',\r\n  '55': 'HR',\r\n  '56': 'HU',\r\n  '57': 'ID',\r\n  '58': 'IE',\r\n  '59': 'IL',\r\n  '60': 'IM',\r\n  '61': 'IMPERIAL',\r\n  '62': 'IN',\r\n  '63': 'IQ',\r\n  '64': 'DE',\r\n  '65': 'DK',\r\n  '66': 'DO',\r\n  '67': 'DZ',\r\n  '68': 'EC',\r\n  '69': 'EE',\r\n  '70': 'EG',\r\n  '71': 'ES',\r\n  '72': 'EU',\r\n  '73': 'BH',\r\n  '74': 'BO',\r\n  '75': 'BR',\r\n  '76': 'BT',\r\n  '77': 'BY',\r\n  '78': 'CA',\r\n  '79': 'CH',\r\n  '80': 'AD',\r\n  '81': 'AE',\r\n  '82': 'AL',\r\n  '83': 'AM',\r\n  '84': 'CL',\r\n  '85': 'AQ',\r\n  '86': 'CN',\r\n  '87': 'AR',\r\n  '88': 'FI',\r\n  '89': 'CO',\r\n  '90': 'AT',\r\n  '91': 'IR',\r\n  '92': 'FR',\r\n  '93': 'COMMUNIST',\r\n  '94': 'AU',\r\n  '95': 'LY',\r\n  '96': 'IS',\r\n  '97': 'GB',\r\n  '98': 'CONFEDERATE',\r\n  '99': 'AZ',\r\n  '100': 'MA',\r\n  '101': 'IT',\r\n  '102': 'GE',\r\n  '103': 'CR',\r\n  '104': 'BA',\r\n  '105': 'PH',\r\n  '106': 'MC',\r\n  '107': 'JM',\r\n  '108': 'GR',\r\n  '109': 'CU',\r\n  '110': 'BD',\r\n  '111': 'SO',\r\n  '112': 'PK',\r\n  '113': 'MD',\r\n  '114': 'JO',\r\n  '115': 'GT',\r\n  '116': 'CY',\r\n  '117': 'BE',\r\n  '118': 'ZA',\r\n  '119': 'SV',\r\n  '120': 'PL',\r\n  '121': 'ME',\r\n  '122': 'JOLLY',\r\n  '123': 'HK',\r\n  '124': 'CZ',\r\n  '125': 'BG',\r\n};\r\n\r\nconst FLAGS_ISO_TO_CODE = Object.assign(\r\n  {},\r\n  ...Object.entries(FLAGS_CODE_TO_ISO).map(([numCode, charCode]) => ({ [charCode]: ~~numCode }))\r\n);\r\n\r\n/**\r\n * Country by ISO 3166-2\r\n *\r\n */\r\nconst COUNTRY_NAMES = {\r\n  AL: 'Albania',\r\n  DZ: 'Algeria',\r\n  AD: 'Andorra',\r\n  AQ: 'Antarctica',\r\n  AR: 'Argentina',\r\n  AM: 'Armenia',\r\n  AU: 'Australia',\r\n  AT: 'Austria',\r\n  AZ: 'Azerbaijan',\r\n  BH: 'Bahrain',\r\n  BD: 'Bangladesh',\r\n  BY: 'Belarus',\r\n  BE: 'Belgium',\r\n  BT: 'Bhutan',\r\n  BO: 'Bolivia',\r\n  BA: 'Bosnia and Herzegovina',\r\n  BR: 'Brazil',\r\n  BG: 'Bulgaria',\r\n  CA: 'Canada',\r\n  CL: 'Chile',\r\n  CN: 'China',\r\n  CO: 'Colombia',\r\n  COMMUNIST: 'Communist',\r\n  CONFEDERATE: 'Confederate',\r\n  CR: 'CostaRica',\r\n  HR: 'Croatia',\r\n  CU: 'Cuba',\r\n  CY: 'Cyprus',\r\n  CZ: 'Czech Republic',\r\n  DK: 'Denmark',\r\n  DO: 'Dominican Republic',\r\n  KP: 'DPRK',\r\n  EC: 'Ecuador',\r\n  EG: 'Egypt',\r\n  SV: 'ElSalvador',\r\n  EE: 'Estonia',\r\n  EU: 'European Union',\r\n  FI: 'Finland',\r\n  FR: 'France',\r\n  GE: 'Georgia',\r\n  DE: 'Germany',\r\n  GR: 'Greece',\r\n  GT: 'Guatemala',\r\n  HN: 'Honduras',\r\n  HK: 'HongKong',\r\n  HU: 'Hungary',\r\n  IS: 'Iceland',\r\n  IMPERIAL: 'Imperial Japan',\r\n  IN: 'India',\r\n  ID: 'Indonesia',\r\n  IR: 'Iran',\r\n  IQ: 'Iraq',\r\n  IE: 'Ireland',\r\n  IM: 'Isle of Man',\r\n  IL: 'Israel',\r\n  IT: 'Italy',\r\n  JM: 'Jamaica',\r\n  JP: 'Japan',\r\n  JOLLY: 'Jolly Rogers',\r\n  JO: 'Jordan',\r\n  KZ: 'Kazakhstan',\r\n  KW: 'Kuwait',\r\n  LV: 'Latvia',\r\n  LB: 'Lebanon',\r\n  LY: 'Libyan Arab Jamahiriya',\r\n  LI: 'Liechtenstein',\r\n  LT: 'Lithuania',\r\n  LU: 'Luxembourg',\r\n  MO: 'Macao',\r\n  MK: 'Macedonia',\r\n  MY: 'Malaysia',\r\n  MT: 'Malta',\r\n  MX: 'Mexico',\r\n  MD: 'Moldova',\r\n  MC: 'Monaco',\r\n  ME: 'Montenegro',\r\n  MA: 'Morocco',\r\n  NP: 'Nepal',\r\n  NL: 'Netherlands',\r\n  NZ: 'New Zealand',\r\n  NG: 'Nigeria',\r\n  NO: 'Norway',\r\n  OM: 'Oman',\r\n  PK: 'Pakistan',\r\n  PA: 'Panama',\r\n  PY: 'Paraguay',\r\n  PE: 'Peru',\r\n  PH: 'Philippines',\r\n  PL: 'Poland',\r\n  PT: 'Portugal',\r\n  PR: 'PuertoRico',\r\n  QA: 'Qatar',\r\n  RAINBOW: 'Rainbow',\r\n  RO: 'Romania',\r\n  RU: 'Russian Federation',\r\n  SM: 'SanMarino',\r\n  SA: 'Saudi Arabia',\r\n  RS: 'Serbia',\r\n  SG: 'Singapore',\r\n  SK: 'Slovakia',\r\n  SI: 'Slovenia',\r\n  SO: 'Somalia',\r\n  ZA: 'South Africa',\r\n  KR: 'South Korea',\r\n  ES: 'Spain',\r\n  LK: 'Sri Lanka',\r\n  SE: 'Sweden',\r\n  CH: 'Switzerland',\r\n  SY: 'Syrian Arab Republic',\r\n  TW: 'Taiwan',\r\n  TZ: 'Tanzania',\r\n  TH: 'Thailand',\r\n  TT: 'Trinidad and Tobago',\r\n  TN: 'Tunisia',\r\n  TR: 'Turkey',\r\n  TM: 'Turkmenistan',\r\n  UA: 'Ukraine',\r\n  AE: 'United Arab Emirates',\r\n  GB: 'United Kingdom',\r\n  UN: 'United Nations',\r\n  US: 'United States',\r\n  UY: 'Uruguay',\r\n  UZ: 'Uzbekistan',\r\n  VE: 'Venezuela',\r\n  VN: 'Vietnam',\r\n};\r\n\r\nexport { FLAGS_CODE_TO_ISO, COUNTRY_NAMES, FLAGS_ISO_TO_CODE };\r\n","import { MAP_SIZE } from '../types/server';\r\nimport { Keystate } from '../types/client';\r\n\r\nconst clamp = (value: number, lower: number, upper: number): number => {\r\n  if (value <= lower) {\r\n    return lower;\r\n  }\r\n\r\n  if (value >= upper) {\r\n    return upper;\r\n  }\r\n\r\n  return value;\r\n};\r\n\r\nexport const levelToBouty = (level: number): number => {\r\n  return ((level - 1) / 0.0111) ** 2;\r\n};\r\n\r\nexport const decodeMinimapCoords = (x: number, y: number): { x: number; y: number } => {\r\n  return {\r\n    x: 128 * x - MAP_SIZE.WIDTH / 2 + 64,\r\n    y: clamp(128 * y - MAP_SIZE.HEIGHT, -MAP_SIZE.HEIGHT / 2, MAP_SIZE.HEIGHT / 2) + 64,\r\n  };\r\n};\r\n\r\nexport const decodeUpgrades = (\r\n  upgrades: number\r\n): { speed: number; shield: number; inferno: number } => {\r\n  const speed = upgrades & 7;\r\n  const shield = (upgrades & 8) >> 3;\r\n  const inferno = (upgrades & 16) >> 4;\r\n\r\n  return {\r\n    speed,\r\n    shield,\r\n    inferno,\r\n  };\r\n};\r\n\r\nexport const decodeKeystate = (\r\n  keystate: number\r\n): {\r\n  keystate: Keystate;\r\n  boost: boolean;\r\n  strafe: boolean;\r\n  stealthed: boolean;\r\n  flagspeed: boolean;\r\n} => {\r\n  return {\r\n    keystate: {\r\n      UP: (keystate & (1 << 0)) === 1 << 0,\r\n      DOWN: (keystate & (1 << 1)) === 1 << 1,\r\n      LEFT: (keystate & (1 << 2)) === 1 << 2,\r\n      RIGHT: (keystate & (1 << 3)) === 1 << 3,\r\n    },\r\n    boost: (keystate & (1 << 4)) === 1 << 4,\r\n    strafe: (keystate & (1 << 5)) === 1 << 5,\r\n    stealthed: (keystate & (1 << 6)) === 1 << 6,\r\n    flagspeed: (keystate & (1 << 7)) === 1 << 7,\r\n  };\r\n};\r\n\r\nexport default levelToBouty;\r\n","import { Keystate } from '../types/client';\r\n\r\nexport const encodeUpgrades = (speed: number, shield: number, inferno: number): number => {\r\n  return (speed & 7) | (shield << 3) | (inferno << 4);\r\n};\r\n\r\nexport const encodeKeystate = (\r\n  keystate: Keystate,\r\n  boost: boolean,\r\n  strafe: boolean,\r\n  stealthed: boolean,\r\n  flagspeed: boolean\r\n): number => {\r\n  const down = keystate.DOWN === true ? 1 : 0;\r\n\r\n  return (\r\n    0 |\r\n    ((keystate.UP === true ? 1 : 0) << 0) |\r\n    ((keystate.UP === true ? 0 : down) << 1) |\r\n    ((keystate.LEFT === true ? 1 : 0) << 2) |\r\n    ((keystate.RIGHT === true ? 1 : 0) << 3) |\r\n    ((boost === true ? 1 : 0) << 4) |\r\n    ((strafe === true ? 1 : 0) << 5) |\r\n    ((stealthed === true ? 1 : 0) << 6) |\r\n    ((flagspeed === true ? 1 : 0) << 7)\r\n  );\r\n};\r\n","export class StopWatch {\r\n\r\n    // this is overwritten in the nodejs case\r\n    public static performanceNow: () => number = () => performance.now();\r\n\r\n    private startTime: number;\r\n\r\n    constructor(private timeoutMs: number = null) {\r\n        this.start();\r\n    }\r\n\r\n    public start(): void {\r\n        this.startTime = StopWatch.performanceNow();\r\n    }\r\n\r\n    get elapsedMs(): number {\r\n        return  StopWatch.performanceNow() - this.startTime;\r\n    }\r\n\r\n    get elapsedSeconds(): number {\r\n        return this.elapsedMs / 1000;\r\n    }\r\n\r\n    get elapsedMinutes(): number {\r\n        return this.elapsedSeconds / 60;\r\n    }\r\n\r\n    get hasTimedOut(): boolean {\r\n        if (!this.timeoutMs) {\r\n            return false;\r\n        }\r\n        return this.elapsedMs > this.timeoutMs;\r\n    }\r\n\r\n    get timeoutFraction(): number {\r\n        if (!this.timeoutMs) {\r\n            return 0;\r\n        }\r\n        return this.elapsedMs / this.timeoutMs;\r\n    }\r\n}\r\n","import { GAME_TYPES } from \"../ab-protocol/src/lib\";\r\nimport { AuthData } from \"../app-context/auth-data\";\r\nimport { EventQueueProcessor } from \"../app-context/eventqueue-processor\";\r\nimport { HandlerCollections } from \"../app-context/handler-collections\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { ILogger } from \"../app-context/ilogger\";\r\nimport { IWebSocketFactory } from \"../app-context/iwebsocket-factory\";\r\nimport { Settings } from \"../app-context/settings\";\r\nimport { State } from \"../app-context/state\";\r\nimport { TimerManager } from \"../app-context/timer-manager\";\r\nimport { Connection } from \"../connectivity/connection\";\r\nimport { EventQueue } from \"../events/event-queue\";\r\nimport { BrowserVisibilityHandler } from \"../handlers/browser-visibility-handler\";\r\nimport { FlagCookieHandler } from \"../handlers/flag-cookie-handler\";\r\nimport { IMessageHandler } from \"../handlers/imessage-handler\";\r\nimport { ChatRenderHandler } from \"../handlers/render/chat-render-handler\";\r\nimport { CtfGameOverRenderHandler } from \"../handlers/render/ctf-game-over-render-handler\";\r\nimport { EachSecondRenderHandler } from \"../handlers/render/each-second-render-handler\";\r\nimport { ExplosionVisualizationHandler } from \"../handlers/render/explosion-visualization-handler\";\r\nimport { GameRenderHandler } from \"../handlers/render/game-render-handler\";\r\nimport { GoliFartVisualizationHandler } from \"../handlers/render/golifart-visualization-handler\";\r\nimport { KillVisualizationHandler } from \"../handlers/render/kill-visualization-handler\";\r\nimport { MissileChemtrailHandler } from \"../handlers/render/missile-chemtrail-handler\";\r\nimport { ServerAnnouncementRenderHandler } from \"../handlers/render/server-announcement-render-handler\";\r\nimport { ShakeAndShowMessageOnKillHandler } from \"../handlers/render/shake-and-show-message-on-kill-handler\";\r\nimport { ShakeOnHitHandler } from \"../handlers/render/shake-on-hit-handler\";\r\nimport { BrowserInitialization } from \"./browser-initialization\";\r\nimport { BrowserLogger } from \"./browser-logger\";\r\nimport { BrowserWebSocketFactory } from \"./browser-websocket-factory\";\r\nimport { Renderer } from \"./renderers/renderer\";\r\nimport { AircraftSelection } from \"./user-input/aircraft-selection\";\r\nimport { ApplyUpgrades } from \"./user-input/apply-upgrades\";\r\nimport { ChatInput } from \"./user-input/chat-input\";\r\nimport { KeyboardAndMouseInput } from \"./user-input/keyboard-and-mouse-input\";\r\nimport { PlayerDropDownMenu } from \"./user-input/player-dropdownmenu\";\r\nimport { StayActiveHandler } from \"../handlers/stay-active-handler\";\r\nimport { DropFlag } from \"./user-input/drop-flag\";\r\nimport { AutoFire } from \"./user-input/auto-fire\";\r\nimport { AutoFireHandler } from \"../handlers/auto-fire-handler\";\r\nimport { Spectate } from \"./user-input/spectate\";\r\nimport { SwitchSides } from \"./user-input/switch-sides\";\r\nimport { BotState } from \"../botting/bot-state\";\r\nimport { BotHeartbeatHandler } from \"../handlers/bot/bot-heartbeat-handler\";\r\nimport { AutoPilotToFlag } from \"./user-input/autopilot-to-flag\";\r\nimport { AutoBoostHandler } from \"../handlers/auto-boost-handler\";\r\n\r\nexport class BrowserContext implements IContext {\r\n    public gameType: GAME_TYPES;\r\n    public settings: Settings;\r\n    public logger: ILogger;\r\n    public eventQueue: EventQueue;\r\n    public tm: TimerManager;\r\n    public processor: EventQueueProcessor;\r\n    public state: State;\r\n    public handlers: IMessageHandler[];\r\n    public webSocketFactory: IWebSocketFactory;\r\n    public connection: Connection;\r\n    public isActive: boolean;\r\n    public auth: AuthData;\r\n\r\n    // browser-only:\r\n    public isBrowserVisible: boolean;\r\n    public renderer = new Renderer(this);\r\n    public botstate = new BotState(this);\r\n    private chatInput = new ChatInput(this);\r\n    private aircraftSelection = new AircraftSelection(this);\r\n    private upgradeSelection = new ApplyUpgrades(this);\r\n    private dropFlag = new DropFlag(this);\r\n    private autofire = new AutoFire(this);\r\n    private spectate = new Spectate(this);\r\n    private autoPilotToFlag = new AutoPilotToFlag(this);\r\n    private switchSides = new SwitchSides(this); // adds event handler to button\r\n    private playerDropdownMenu = new PlayerDropDownMenu(this, this.chatInput, this.renderer);\r\n    private browserInitialization = new BrowserInitialization(this);\r\n    private browserVisibilityHandler = new BrowserVisibilityHandler(this);\r\n\r\n    private keyboardInput = new KeyboardAndMouseInput(\r\n        this,\r\n        this.chatInput,\r\n        this.upgradeSelection,\r\n        this.dropFlag,\r\n        this.autofire,\r\n        this.spectate,\r\n        this.aircraftSelection,\r\n        this.playerDropdownMenu);\r\n\r\n    constructor() {\r\n\r\n        this.browserInitialization.detectVisibilityChange();\r\n        this.browserInitialization.throttleZoom();\r\n\r\n        this.logger = new BrowserLogger();\r\n        this.webSocketFactory = new BrowserWebSocketFactory();\r\n\r\n        this.settings = new Settings();\r\n        this.eventQueue = new EventQueue();\r\n        this.tm = new TimerManager();\r\n        this.processor = new EventQueueProcessor(this);\r\n        this.state = new State();\r\n        this.connection = new Connection(this);\r\n\r\n        this.handlers = [\r\n            ...HandlerCollections.getDefaultHandlers(this),\r\n            new ExplosionVisualizationHandler(this),\r\n            new KillVisualizationHandler(this),\r\n            new GoliFartVisualizationHandler(this),\r\n            new GameRenderHandler(this),\r\n            new ChatRenderHandler(this),\r\n            new EachSecondRenderHandler(this),\r\n            new ServerAnnouncementRenderHandler(this),\r\n            new CtfGameOverRenderHandler(this),\r\n            new ShakeAndShowMessageOnKillHandler(this),\r\n            new ShakeOnHitHandler(this),\r\n            new FlagCookieHandler(this),\r\n            new MissileChemtrailHandler(this),\r\n            // client tools\r\n            new StayActiveHandler(this),\r\n            new AutoFireHandler(this),\r\n            new AutoBoostHandler(this),\r\n\r\n            // bot\r\n            new BotHeartbeatHandler(this)\r\n        ];\r\n    }\r\n\r\n    public async start(): Promise<any> {\r\n        this.logger.info(\"Initializing app\");\r\n        this.processor.startProcessingEventQueue();\r\n\r\n        await this.connection.init();\r\n        this.isActive = true;\r\n        this.logger.info(\"Initialization finished\");\r\n    }\r\n\r\n    public setBrowserVisibility(isVisible: boolean) {\r\n        this.isBrowserVisible = isVisible;\r\n        if (!isVisible) {\r\n            this.browserVisibilityHandler.clearKeys();\r\n        }\r\n    }\r\n}\r\n","import { Events } from \"../events/constants\";\r\nimport { ITickArgs } from \"../events/event-args/itick-args\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { IContext } from \"./icontext\";\r\n\r\nconst MS_PER_SEC = 1000;\r\nconst FPS = 60;\r\nconst TICK_MS = MS_PER_SEC / FPS;\r\nconst SKIPPED_FRAMES_PANIC_THRESHOLD = 5 * FPS;\r\n\r\nexport class EventQueueProcessor {\r\n    private handlersByType: {};\r\n    private skippedFrames = 0;\r\n    private stopwatch: StopWatch;\r\n    private eachSecondStopwatch: StopWatch;\r\n    private tickCounter: number;\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public startProcessingEventQueue(): void {\r\n        this.handlersByType = {};\r\n        for (const handler of this.context.handlers) {\r\n            for (const eventType of handler.handles) {\r\n                const handlersForType = this.handlersByType[eventType] || [];\r\n                handlersForType.push(handler);\r\n                this.handlersByType[eventType] = handlersForType;\r\n            }\r\n        }\r\n\r\n        this.context.tm.setInterval(() => this.tick(), Math.floor(TICK_MS));\r\n    }\r\n\r\n    private tick(): void {\r\n        if (!this.stopwatch) {\r\n            this.stopwatch = new StopWatch();\r\n            this.tickCounter = 1;\r\n            this.eachSecondStopwatch = new StopWatch();\r\n            this.skippedFrames = 0;\r\n        }\r\n\r\n        const lag = this.context.connection.getLagMs(); // ms that the server is (probably) ahead of us\r\n        const diffTime = this.stopwatch.elapsedMs + lag;\r\n\r\n        let tooEarly = false;\r\n        if (diffTime < TICK_MS) {\r\n            tooEarly = true;\r\n        } else if (diffTime > TICK_MS * (this.tickCounter + 1)) {\r\n            this.skippedFrames++;\r\n        } else {\r\n            // framefactor = the exact number of frames that should now be processed after the last processed frame.\r\n            // for example \"1\" if it is exactly the time to process the next frame,\r\n            //   or 1.2 if this tick is .2 of a frame to late, or 10 if we missed a few frames, etc.\r\n            const frameFactor = this.skippedFrames + diffTime / (TICK_MS * this.tickCounter);\r\n\r\n            // enqueue the tick message which will be processed last\r\n            this.context.eventQueue.pub(Events.TICK, {\r\n                frame: this.tickCounter,\r\n                frameFactor,\r\n                skippedFrames: this.skippedFrames,\r\n                timeFromStart: diffTime,\r\n            } as ITickArgs);\r\n\r\n            if (this.eachSecondStopwatch.elapsedSeconds >= 1) {\r\n                this.context.eventQueue.pub(Events.EACH_SECOND, {});\r\n                this.eachSecondStopwatch.start();\r\n            }\r\n\r\n            this.skippedFrames = 0;\r\n\r\n            while (true) {\r\n                const nextMessage = this.context.eventQueue.dequeue();\r\n                if (!nextMessage) {\r\n                    break;\r\n                }\r\n                this.process(nextMessage);\r\n            }\r\n        }\r\n\r\n        this.context.state.skippedFrames = this.skippedFrames;\r\n\r\n        if (!tooEarly) {\r\n            this.tickCounter++;\r\n        }\r\n\r\n        if (this.skippedFrames > SKIPPED_FRAMES_PANIC_THRESHOLD) {\r\n            this.stopwatch = null; // just drop all bookkeeping and start over\r\n        } else if (this.skippedFrames > 0 || tooEarly) {\r\n            this.context.tm.setTimeout(() => this.tick(), 1);\r\n        }\r\n    }\r\n\r\n    private process(message: EventMessage) {\r\n        // find the right handler(s)\r\n        const handlersForType = this.handlersByType[message.type] || [];\r\n        for (const handler of handlersForType) {\r\n            // execute handler\r\n            try {\r\n                handler.exec(message);\r\n            } catch (error) {\r\n                // make error loggable\r\n                const err = JSON.parse(JSON.stringify(error, Object.getOwnPropertyNames(error)));\r\n                this.context.logger.error(`Error handling message ${message.type} with handler ${handler.constructor.name}`, err);\r\n            }\r\n        }\r\n    }\r\n}\r\n","export enum Events {\r\n    BOT_STEERING_INSTRUCTION,\r\n\r\n    CHAT_NOT_POSSIBLE_BC_MUTED,\r\n    CHAT_PLAYER_MUTED,\r\n    CHAT_RECEIVED,\r\n    CHAT_SEND,\r\n    CONNECTION_ERROR,\r\n    CONNECTION_CLOSE,\r\n    CRATE_NEW,\r\n    CTF_GAME_OVER,\r\n    EACH_SECOND,\r\n    EXPLOSION,\r\n    FLAG_UPDATE,\r\n    KEYBOARD,\r\n    LOGIN,\r\n    LEAVE_HORIZON,\r\n    MESSAGE_TO_PLAYER,\r\n    MOB_DESPAWN,\r\n    MINI_MAP,\r\n    MISSILE_UPDATE,\r\n    MOUNTAIN_HIT,\r\n    PLAYER_BOUNCE,\r\n    PLAYER_BOOST,\r\n    PLAYER_CHANGE_FLAG,\r\n    PLAYER_FIRE,\r\n    PLAYER_HIT,\r\n    PLAYER_KILLED,\r\n    PLAYER_LEAVE,\r\n    PLAYER_LEVEL,\r\n    PLAYER_NEW,\r\n    PLAYER_POWERUP,\r\n    PLAYER_REPEL,\r\n    PLAYER_RESPAWN,\r\n    PLAYER_UPDATE,\r\n    PLAYER_UPGRADE_APPLIED,\r\n    PLAYER_SPECTATE,\r\n    PLAYER_STEALTH,\r\n    PLAYER_SWITCH_TYPE,\r\n    SERVER_ANNOUNCEMENT,\r\n    SERVER_COMMAND_REPLY,\r\n    SERVER_CUSTOM,\r\n    SERVER_ERROR,\r\n    SERVER_MESSAGE,\r\n    SCORE_BOARD,\r\n    SCORE_DETAILED,\r\n    SCORE_UPDATE,\r\n    SPAM_WARING_RECEIVED,\r\n    TEAMS,\r\n    TICK,\r\n}\r\n","import { ChatSendHandler } from \"../handlers/chat-send-handler\";\r\nimport { IMessageHandler } from \"../handlers/imessage-handler\";\r\nimport { KeyboardMessageHandler } from \"../handlers/keyboard-message-handler\";\r\nimport { MissileMaintenanceHandler } from \"../handlers/maintenance/missile-maintenance-handler\";\r\nimport { PlayerMaintenanceHandler } from \"../handlers/maintenance/player-maintenance-handler\";\r\nimport { ServerMessageHandler } from \"../handlers/server-message-handler\";\r\nimport { CrateNewHandler } from \"../handlers/server-messages/crate-new-handler\";\r\nimport { FlagUpdateHandler } from \"../handlers/server-messages/flag-update-handler\";\r\nimport { LeaveHorizonHandler } from \"../handlers/server-messages/leave-horizon-handler\";\r\nimport { LoginHandler } from \"../handlers/server-messages/login-handler\";\r\nimport { MiniMapHandler } from \"../handlers/server-messages/mini-map-handler\";\r\nimport { MissileUpdateHandler } from \"../handlers/server-messages/missile-update-handler\";\r\nimport { MobDespawnHandler } from \"../handlers/server-messages/mob-despawn-handler\";\r\nimport { MountainHitHandler } from \"../handlers/server-messages/mountain-hit-handler\";\r\nimport { PlayerBoostHandler } from \"../handlers/server-messages/player-boost-handler\";\r\nimport { PlayerBounceHandler } from \"../handlers/server-messages/player-bounce-handler\";\r\nimport { PlayerChangeFlagHandler } from \"../handlers/server-messages/player-change-flag-handler\";\r\nimport { PlayerFireHandler } from \"../handlers/server-messages/player-fire-handler\";\r\nimport { PlayerHitHandler } from \"../handlers/server-messages/player-hit-handler\";\r\nimport { PlayerKilledHandler } from \"../handlers/server-messages/player-killed-handler\";\r\nimport { PlayerLeaveHandler } from \"../handlers/server-messages/player-leave-handler\";\r\nimport { PlayerLevelHandler } from \"../handlers/server-messages/player-level-handler\";\r\nimport { PlayerNewHandler } from \"../handlers/server-messages/player-new-handler\";\r\nimport { PlayerPowerupHandler } from \"../handlers/server-messages/player-powerup-handler\";\r\nimport { PlayerRepelHandler } from \"../handlers/server-messages/player-repel-handler\";\r\nimport { PlayerRespawnHandler } from \"../handlers/server-messages/player-respawn-handler\";\r\nimport { PlayerSpectateHandler } from \"../handlers/server-messages/player-spectate-handler\";\r\nimport { PlayerStealthHandler } from \"../handlers/server-messages/player-stealth-handler\";\r\nimport { PlayerSwitchTypeHandler } from \"../handlers/server-messages/player-switch-type-handler\";\r\nimport { PlayerUpdateHandler } from \"../handlers/server-messages/player-update-handler\";\r\nimport { PlayerUpgradeAppliedHandler } from \"../handlers/server-messages/player-upgrade-handler\";\r\nimport { ScoreBoardHandler } from \"../handlers/server-messages/score-board-handler\";\r\nimport { ScoreDetailedHandler } from \"../handlers/server-messages/score-detailed-handler\";\r\nimport { ScoreUpdateHandler } from \"../handlers/server-messages/score-update-handler\";\r\nimport { ServerAnnouncementHandler } from \"../handlers/server-messages/server-announcement-handler\";\r\nimport { ServerCommandReplyHandler } from \"../handlers/server-messages/server-command-reply-handler\";\r\nimport { ServerCustomHandler } from \"../handlers/server-messages/server-custom-handler\";\r\nimport { ServerErrorHandler } from \"../handlers/server-messages/server-error-handler\";\r\nimport { TeamsHandler } from \"../handlers/server-messages/teams-handler\";\r\nimport { IContext } from \"./icontext\";\r\n\r\nexport class HandlerCollections {\r\n    public static getDefaultHandlers(context: IContext): IMessageHandler[] {\r\n        return [\r\n            // server messages\r\n            new CrateNewHandler(context),\r\n            new FlagUpdateHandler(context),\r\n            new LeaveHorizonHandler(context),\r\n            new LoginHandler(context),\r\n            new MiniMapHandler(context),\r\n            new MissileUpdateHandler(context),\r\n            new MobDespawnHandler(context),\r\n            new MountainHitHandler(context),\r\n            new PlayerBoostHandler(context),\r\n            new PlayerBounceHandler(context),\r\n            new PlayerChangeFlagHandler(context),\r\n            new PlayerFireHandler(context),\r\n            new PlayerHitHandler(context),\r\n            new PlayerKilledHandler(context),\r\n            new PlayerLeaveHandler(context),\r\n            new PlayerLevelHandler(context),\r\n            new PlayerNewHandler(context),\r\n            new PlayerPowerupHandler(context),\r\n            new PlayerRepelHandler(context),\r\n            new PlayerRespawnHandler(context),\r\n            new PlayerSpectateHandler(context),\r\n            new PlayerStealthHandler(context),\r\n            new PlayerSwitchTypeHandler(context),\r\n            new PlayerUpdateHandler(context),\r\n            new PlayerUpgradeAppliedHandler(context),\r\n            new ServerCommandReplyHandler(context),\r\n            new ServerCustomHandler(context),\r\n            new ServerErrorHandler(context),\r\n            new ServerMessageHandler(context),\r\n            new ServerAnnouncementHandler(context),\r\n            new ScoreBoardHandler(context),\r\n            new ScoreDetailedHandler(context),\r\n            new ScoreUpdateHandler(context),\r\n            new TeamsHandler(context),\r\n\r\n            // maintenance\r\n            new MissileMaintenanceHandler(context),\r\n            new PlayerMaintenanceHandler(context),\r\n\r\n            // client input\r\n            new KeyboardMessageHandler(context),\r\n            new ChatSendHandler(context),\r\n        ];\r\n    }\r\n\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { IChatSendArgs } from \"../events/event-args/ichat-send-args\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\n\r\nexport class ChatSendHandler implements IMessageHandler {\r\n    public handles = [Events.CHAT_SEND];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const args = ev.args as IChatSendArgs;\r\n\r\n        this.context.connection.sendChat(args.type, args.text, args.playerId);\r\n    }\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { IKeyboardArgs } from \"../events/event-args/ikeyboard-args\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\n\r\nexport class KeyboardMessageHandler implements IMessageHandler {\r\n    public handles = [Events.KEYBOARD];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const keyArgs = ev.args as IKeyboardArgs;\r\n\r\n        this.context.connection.sendKey(keyArgs.key, keyArgs.state);\r\n    }\r\n\r\n}\r\n","import { MAP_COORDS } from \"../../ab-assets/map-constants\";\r\nimport { PROJECTILES_SPECS } from \"../../ab-assets/missile-constants\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { ITickArgs } from \"../../events/event-args/itick-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MissileMaintenanceHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TICK];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        const tick = ev.args as ITickArgs;\r\n\r\n        for (const missile of this.context.state.getMissiles()) {\r\n\r\n            const missileParams = PROJECTILES_SPECS[missile.mobType];\r\n\r\n            const prevSpeedX = missile.speed.x;\r\n            const prevSpeedY = missile.speed.y;\r\n\r\n            const frameFactor = tick.frameFactor;\r\n\r\n            missile.speed.x += missile.accel.x * frameFactor;\r\n            missile.speed.y += missile.accel.y * frameFactor;\r\n\r\n            const speed = Math.hypot(missile.speed.x, missile.speed.y);\r\n\r\n            if (speed > missile.maxSpeed) {\r\n                missile.speed.x *= missile.maxSpeed / speed;\r\n                missile.speed.y *= missile.maxSpeed / speed;\r\n                missile.speed.length = missile.maxSpeed;\r\n            } else {\r\n                missile.speed.length = speed;\r\n            }\r\n\r\n            missile.pos.x += (prevSpeedX + 0.5 * (missile.speed.x - prevSpeedX)) * frameFactor;\r\n            missile.pos.y += (prevSpeedY + 0.5 * (missile.speed.y - prevSpeedY)) * frameFactor;\r\n\r\n            missile.distance = (missile.distance || 0) + Math.hypot(missile.speed.x, missile.speed.y);\r\n\r\n            if (\r\n                missile.pos.x < MAP_COORDS.MIN_X ||\r\n                missile.pos.x > MAP_COORDS.MAX_X ||\r\n                missile.pos.y < MAP_COORDS.MIN_Y ||\r\n                missile.pos.y > MAP_COORDS.MAX_Y ||\r\n                missile.distance >= missileParams.distance\r\n            ) {\r\n                this.context.state.removeMob(missile.id);\r\n            }\r\n        }\r\n    }\r\n}\r\n","// this file is a partial copy of ab-server\\src\\constants\\collisions.ts and players.ts\r\n/* tslint:disable */ // rules are different\r\n\r\nexport const MAP_SIZE = {\r\n    WIDTH: 32768,\r\n    HEIGHT: 16384,\r\n\r\n    HALF_WIDTH: 32768 / 2,\r\n    HALF_HEIGHT: 16384 / 2,\r\n};\r\n\r\nexport const MAP_COORDS = {\r\n    MIN_X: -MAP_SIZE.WIDTH / 2,\r\n    MIN_Y: -MAP_SIZE.HEIGHT / 2,\r\n    MAX_X: MAP_SIZE.WIDTH / 2,\r\n    MAX_Y: MAP_SIZE.HEIGHT / 2,\r\n};\r\n\r\nexport const PLAYERS_POSITION = {\r\n    MIN_X: -16352,\r\n    MIN_Y: -8160,\r\n\r\n    MAX_X: 16352,\r\n    MAX_Y: 8160,\r\n};","// this file is a copy of ab-server\\src\\constants\\projectiles.ts\r\n/* tslint:disable */ // rules are different\r\n\r\nimport { MOB_TYPES } from \"../ab-protocol/src/lib\";\r\n\r\nexport const PROJECTILES_SHAPES = {\r\n  REGULAR: 1,\r\n  FAT: 2,\r\n  SMALL: 3,\r\n};\r\n\r\nexport const PROJECTILES_COLLISIONS = {\r\n  [PROJECTILES_SHAPES.REGULAR]: [[0, 3, 3], [0, 9, 3], [0, 15, 3]],\r\n  [PROJECTILES_SHAPES.FAT]: [[0, 4, 4], [0, 12, 4], [0, 20, 4]],\r\n  [PROJECTILES_SHAPES.SMALL]: [[0, 2, 2], [0, 6, 2], [0, 10, 2]],\r\n};\r\n\r\nexport const PROJECTILES_EXTRA_SPEED_TO_DAMAGE_FACTOR = 1 / 45;\r\n\r\nexport const PROJECTILES_SPECS = {\r\n  [MOB_TYPES.PREDATOR_MISSILE]: {\r\n    maxSpeed: 9,\r\n    baseSpeed: 4.05,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.105,\r\n\r\n    /**\r\n     * Basic damage for speed in range [baseSpeed, maxSpeed].\r\n     */\r\n    damage: 0.4,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 1104,\r\n\r\n    shape: PROJECTILES_SHAPES.REGULAR,\r\n\r\n    repelEnergy: 197,\r\n  },\r\n\r\n  [MOB_TYPES.GOLIATH_MISSILE]: {\r\n    maxSpeed: 6,\r\n    baseSpeed: 2.1,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.0375,\r\n\r\n    damage: 1.2,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 1076,\r\n\r\n    shape: PROJECTILES_SHAPES.FAT,\r\n\r\n    repelEnergy: 260,\r\n  },\r\n\r\n  [MOB_TYPES.COPTER_MISSILE]: {\r\n    maxSpeed: 9,\r\n    baseSpeed: 5.7,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.14,\r\n\r\n    damage: 0.2,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 1161,\r\n\r\n    shape: PROJECTILES_SHAPES.SMALL,\r\n\r\n    repelEnergy: 155,\r\n  },\r\n\r\n  [MOB_TYPES.TORNADO_MISSILE]: {\r\n    maxSpeed: 7,\r\n    baseSpeed: 3.5,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.0875,\r\n\r\n    damage: 0.4,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 997,\r\n\r\n    shape: PROJECTILES_SHAPES.REGULAR,\r\n\r\n    repelEnergy: 186,\r\n  },\r\n\r\n  [MOB_TYPES.TORNADO_SMALL_MISSILE]: {\r\n    maxSpeed: 7,\r\n    baseSpeed: 3.5,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.0875,\r\n\r\n    damage: 0.3,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 581,\r\n\r\n    shape: PROJECTILES_SHAPES.REGULAR,\r\n\r\n    repelEnergy: 145,\r\n  },\r\n\r\n  [MOB_TYPES.PROWLER_MISSILE]: {\r\n    maxSpeed: 7,\r\n    baseSpeed: 2.8,\r\n\r\n    speedFactor: 0.3,\r\n    infernoSpeedFactor: 1,\r\n\r\n    accel: 0.07,\r\n\r\n    damage: 0.45,\r\n    infernoDamageFactor: 1,\r\n\r\n    distance: 819,\r\n\r\n    shape: PROJECTILES_SHAPES.REGULAR,\r\n\r\n    repelEnergy: 168,\r\n  },\r\n};\r\n","import { PLAYERS_POSITION } from \"../../ab-assets/map-constants\";\r\nimport { SHIPS_SPECS } from \"../../ab-assets/ships-constants\";\r\nimport { UPGRADES_SPECS } from \"../../ab-assets/upgrade-constants\";\r\nimport { PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { ITickArgs } from \"../../events/event-args/itick-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { PeriodicLogger } from \"../../helpers/periodic-logger\";\r\nimport { Player } from \"../../models/player\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport const PI_X2 = 2 * Math.PI;\r\n\r\nexport class PlayerMaintenanceHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TICK];\r\n\r\n    private logger = new PeriodicLogger(this.context);\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        const tick = ev.args as ITickArgs;\r\n\r\n        for (const player of this.context.state.getPlayers()) {\r\n\r\n            if (player.status === PLAYER_STATUS.INACTIVE) {\r\n                continue;\r\n            }\r\n\r\n            this.updatePlayer(player, tick);\r\n        }\r\n    }\r\n\r\n    private updatePlayer(player: Player, tick: ITickArgs) {\r\n\r\n        const aircraftSpecs = SHIPS_SPECS[player.type];\r\n\r\n        const boostFactor = player.boost ? aircraftSpecs.boostFactor : 1;\r\n\r\n        const frameFactor = tick.frameFactor;\r\n\r\n        if (!isNaN(player.energyRegen)) {\r\n            const energyDiff = player.energyRegen * frameFactor;\r\n\r\n            player.energy += energyDiff;\r\n            if (player.energy > 1) {\r\n                player.energy = 1;\r\n            } else if (player.energy < 0) {\r\n                player.energy = 0;\r\n            } else if (isNaN(player.energy)) {\r\n                player.energy = 1;\r\n            }\r\n        }\r\n\r\n        player.health += frameFactor * aircraftSpecs.healthRegen;\r\n        if (player.health > 1) {\r\n            player.health = 1;\r\n        } else if (player.health < 0) {\r\n            player.health = 0;\r\n        }\r\n\r\n        // kill shield/inferno timer after it has expired\r\n        if (player.shieldOrInfernoTimer && player.shieldOrInfernoTimer.hasTimedOut) {\r\n            player.shieldOrInfernoTimer = null;\r\n            player.powerUps.inferno = null;\r\n            player.powerUps.shield = null;\r\n        }\r\n\r\n        let flightDirection = -999;\r\n\r\n        if (player.strafe) {\r\n            /**\r\n             * Copter strafe.\r\n             */\r\n            if (player.keystate.LEFT) {\r\n                flightDirection = player.rot - 0.5 * Math.PI;\r\n            }\r\n\r\n            if (player.keystate.RIGHT) {\r\n                flightDirection = player.rot + 0.5 * Math.PI;\r\n            }\r\n        } else if (player.keystate.LEFT || player.keystate.RIGHT) {\r\n\r\n            if (player.keystate.LEFT) {\r\n                player.rot -= frameFactor * aircraftSpecs.turnFactor;\r\n            }\r\n\r\n            if (player.keystate.RIGHT) {\r\n                player.rot += frameFactor * aircraftSpecs.turnFactor;\r\n            }\r\n\r\n            player.rot = ((player.rot % PI_X2) + PI_X2) % PI_X2;\r\n        }\r\n\r\n        if (player.keystate.UP) {\r\n            if (flightDirection === -999) {\r\n                flightDirection = player.rot;\r\n            } else {\r\n                flightDirection += Math.PI * (player.keystate.RIGHT ? -0.25 : 0.25);\r\n            }\r\n        } else if (player.keystate.DOWN) {\r\n            if (flightDirection === -999) {\r\n                flightDirection = player.rot + Math.PI;\r\n            } else {\r\n                flightDirection += Math.PI * (player.keystate.RIGHT ? 0.25 : -0.25);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * speed update.\r\n         */\r\n        let speedValue = 0;\r\n\r\n        if (\r\n            player.speed.x !== 0 ||\r\n            player.speed.y !== 0 ||\r\n            player.keystate.UP ||\r\n            player.keystate.DOWN ||\r\n            player.strafe\r\n        ) {\r\n            const startSpeedX = player.speed.x;\r\n            const startSpeedY = player.speed.y;\r\n\r\n            if (flightDirection !== -999) {\r\n                player.speed.x +=\r\n                    Math.sin(flightDirection) * aircraftSpecs.accelFactor * boostFactor * frameFactor;\r\n                player.speed.y -=\r\n                    Math.cos(flightDirection) * aircraftSpecs.accelFactor * boostFactor * frameFactor;\r\n            }\r\n\r\n            speedValue = Math.hypot(player.speed.x, player.speed.y);\r\n\r\n            let maxspeed =\r\n                aircraftSpecs.maxSpeed * boostFactor * UPGRADES_SPECS.SPEED.factor[player.upgrades.speed];\r\n\r\n            if (player.powerUps.inferno) {\r\n                maxspeed *= aircraftSpecs.infernoFactor;\r\n            }\r\n\r\n            if (player.flagspeed) {\r\n                maxspeed = aircraftSpecs.flagSpeed;\r\n            }\r\n\r\n            if (speedValue > maxspeed) {\r\n                player.speed.x *= maxspeed / speedValue;\r\n                player.speed.y *= maxspeed / speedValue;\r\n            } else if (\r\n                player.speed.x > aircraftSpecs.minSpeed ||\r\n                player.speed.x < -aircraftSpecs.minSpeed ||\r\n                player.speed.y > aircraftSpecs.minSpeed ||\r\n                player.speed.y < -aircraftSpecs.minSpeed\r\n            ) {\r\n                player.speed.x *= 1 - aircraftSpecs.brakeFactor * frameFactor;\r\n                player.speed.y *= 1 - aircraftSpecs.brakeFactor * frameFactor;\r\n            } else {\r\n                player.speed.x = 0;\r\n                player.speed.y = 0;\r\n            }\r\n\r\n            /**\r\n             * Update player position.\r\n             */\r\n            player.pos.x += frameFactor * startSpeedX +\r\n                0.5 * (player.speed.x - startSpeedX) * frameFactor * frameFactor;\r\n            player.pos.y += frameFactor * startSpeedY +\r\n                0.5 * (player.speed.y - startSpeedY) * frameFactor * frameFactor;\r\n        }\r\n\r\n        /**\r\n         * Validate coords.\r\n         */\r\n        if (player.pos.x < PLAYERS_POSITION.MIN_X) {\r\n            player.pos.x = PLAYERS_POSITION.MIN_X;\r\n        }\r\n\r\n        if (player.pos.x > PLAYERS_POSITION.MAX_X) {\r\n            player.pos.x = PLAYERS_POSITION.MAX_X;\r\n        }\r\n\r\n        if (player.pos.y < PLAYERS_POSITION.MIN_Y) {\r\n            player.pos.y = PLAYERS_POSITION.MIN_Y;\r\n        }\r\n\r\n        if (player.pos.y > PLAYERS_POSITION.MAX_Y) {\r\n            player.pos.y = PLAYERS_POSITION.MAX_Y;\r\n        }\r\n    }\r\n}\r\n","// this file is a copy of ab-server\\src\\constants\\ships.ts\r\n/* tslint:disable */ // rules are different\r\n\r\nimport { MOB_TYPES } from \"../ab-protocol/src/lib\";\r\n\r\nexport const SHIPS_TYPES = {\r\n  PREDATOR: 1,\r\n  GOLIATH: 2,\r\n  COPTER: 3,\r\n  TORNADO: 4,\r\n  PROWLER: 5,\r\n};\r\n\r\nexport const SHIPS_FIRE_MODES = {\r\n  FIRE: 'fire',\r\n  INFERNO: 'infernoFire',\r\n};\r\n\r\nexport const SHIPS_FIRE_TYPES = {\r\n  DEFAULT: 'default',\r\n  SPECIAL: 'special',\r\n};\r\n\r\nexport const SHIPS_ENCLOSE_RADIUS = {\r\n  PREDATOR: 32,\r\n  GOLIATH: 88,\r\n  COPTER: 34,\r\n  TORNADO: 38,\r\n  PROWLER: 36,\r\n};\r\n\r\nconst missileTemplate = (type: number, x: number, y: number, rot: number, alt = false): object => {\r\n  return {\r\n    type,\r\n    x,\r\n    y,\r\n    rot,\r\n    alt,\r\n  };\r\n};\r\n\r\nconst missileFireTemplate = (def: any = [], special: any = []): any => {\r\n  return {\r\n    [SHIPS_FIRE_TYPES.DEFAULT]: def,\r\n    [SHIPS_FIRE_TYPES.SPECIAL]: special,\r\n  };\r\n};\r\n\r\nexport const SHIPS_SPECS = {\r\n  [SHIPS_TYPES.PREDATOR]: {\r\n    name: 'raptor',\r\n\r\n    turnFactor: 0.065,\r\n    accelFactor: 0.225,\r\n    brakeFactor: 0.025,\r\n    boostFactor: 1.5,\r\n    infernoFactor: 0.75,\r\n\r\n    maxSpeed: 5.5,\r\n    minSpeed: 0.001,\r\n    flagSpeed: 5,\r\n\r\n    healthRegen: 0.001,\r\n    energyRegen: 0.008,\r\n    fireEnergy: 0.6,\r\n    specialEnergy: 0,\r\n    specialEnergyRegen: -0.01,\r\n    specialDelay: 0,\r\n\r\n    fireDelay: 550, // ms.\r\n    damageFactor: 2,\r\n    energyLight: 0.6,\r\n\r\n    collisions: [[0, 5, 23], [0, -15, 15], [0, -25, 12]],\r\n\r\n    repelEnergy: 2100,\r\n\r\n    [SHIPS_FIRE_MODES.FIRE]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.PREDATOR_MISSILE, 0, 35, 0),\r\n    ]),\r\n\r\n    [SHIPS_FIRE_MODES.INFERNO]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.PREDATOR_MISSILE, -20, 5, -0.05),\r\n      missileTemplate(MOB_TYPES.PREDATOR_MISSILE, 0, 35, 0),\r\n      missileTemplate(MOB_TYPES.PREDATOR_MISSILE, 20, 5, 0.05),\r\n    ]),\r\n  },\r\n\r\n  [SHIPS_TYPES.GOLIATH]: {\r\n    name: 'spirit',\r\n\r\n    turnFactor: 0.04,\r\n    accelFactor: 0.15,\r\n    brakeFactor: 0.015,\r\n    boostFactor: 1,\r\n    infernoFactor: 0.75,\r\n\r\n    maxSpeed: 3.5,\r\n    minSpeed: 0.001,\r\n    flagSpeed: 5,\r\n\r\n    healthRegen: 0.0005,\r\n    energyRegen: 0.005,\r\n    fireEnergy: 0.9,\r\n    specialEnergy: 0.5,\r\n    specialEnergyRegen: 0,\r\n    specialDelay: 1000,\r\n\r\n    fireDelay: 300, // ms.\r\n    damageFactor: 1,\r\n    energyLight: 0.9,\r\n\r\n    collisions: [\r\n      [0, 0, 35],\r\n      [50, 14, 16],\r\n      [74, 26, 14],\r\n      [30, 8, 23],\r\n      [63, 22, 15],\r\n      [-50, 14, 16],\r\n      [-74, 26, 14],\r\n      [-30, 8, 23],\r\n      [-63, 22, 15],\r\n    ],\r\n\r\n    repelEnergy: 7500,\r\n\r\n    [SHIPS_FIRE_MODES.FIRE]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.GOLIATH_MISSILE, 0, 35, 0),\r\n    ]),\r\n\r\n    [SHIPS_FIRE_MODES.INFERNO]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.GOLIATH_MISSILE, -30, 0, -0.05),\r\n      missileTemplate(MOB_TYPES.GOLIATH_MISSILE, 0, 35, 0),\r\n      missileTemplate(MOB_TYPES.GOLIATH_MISSILE, 30, 0, 0.05),\r\n    ]),\r\n  },\r\n\r\n  [SHIPS_TYPES.COPTER]: {\r\n    name: 'mohawk',\r\n\r\n    turnFactor: 0.07,\r\n    accelFactor: 0.275,\r\n    brakeFactor: 0.025,\r\n    boostFactor: 1,\r\n    infernoFactor: 0.75,\r\n\r\n    maxSpeed: 6,\r\n    minSpeed: 0.001,\r\n    flagSpeed: 5,\r\n\r\n    healthRegen: 0.001,\r\n    energyRegen: 0.01,\r\n    fireEnergy: 0.3,\r\n    specialEnergy: 0,\r\n    specialEnergyRegen: 0,\r\n    specialDelay: 0,\r\n\r\n    fireDelay: 300,\r\n    damageFactor: 2.78,\r\n    energyLight: 0.3,\r\n\r\n    collisions: [[0, -12, 15], [0, 0, 17], [0, 13, 15], [0, 26, 15]],\r\n\r\n    repelEnergy: 1800,\r\n\r\n    [SHIPS_FIRE_MODES.FIRE]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.COPTER_MISSILE, 15, 10, 0, true),\r\n    ]),\r\n\r\n    [SHIPS_FIRE_MODES.INFERNO]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.COPTER_MISSILE, -10, 5, -0.05),\r\n      missileTemplate(MOB_TYPES.COPTER_MISSILE, 0, 10, 0),\r\n      missileTemplate(MOB_TYPES.COPTER_MISSILE, 10, 5, 0.05),\r\n    ]),\r\n  },\r\n\r\n  [SHIPS_TYPES.TORNADO]: {\r\n    name: 'tornado',\r\n\r\n    turnFactor: 0.055,\r\n    accelFactor: 0.2,\r\n    brakeFactor: 0.025,\r\n    boostFactor: 1,\r\n    infernoFactor: 0.75,\r\n\r\n    maxSpeed: 4.5,\r\n    minSpeed: 0.001,\r\n    flagSpeed: 5,\r\n\r\n    healthRegen: 0.001,\r\n    energyRegen: 0.006,\r\n    fireEnergy: 0.5,\r\n    specialEnergy: 0.9,\r\n    specialEnergyRegen: 0,\r\n    specialDelay: 0,\r\n\r\n    fireDelay: 500,\r\n    damageFactor: 5 / 3,\r\n    energyLight: 0.5,\r\n\r\n    collisions: [[0, 8, 18], [14, 12, 13], [-14, 12, 13], [0, -12, 16], [0, -26, 14], [0, -35, 12]],\r\n\r\n    repelEnergy: 2400,\r\n\r\n    [SHIPS_FIRE_MODES.FIRE]: missileFireTemplate(\r\n      [missileTemplate(MOB_TYPES.TORNADO_MISSILE, 0, 40, 0)],\r\n      [\r\n        missileTemplate(MOB_TYPES.TORNADO_SMALL_MISSILE, -15, 10, -0.05),\r\n        missileTemplate(MOB_TYPES.TORNADO_SMALL_MISSILE, 0, 40, 0),\r\n        missileTemplate(MOB_TYPES.TORNADO_SMALL_MISSILE, 15, 10, 0.05),\r\n      ]\r\n    ),\r\n\r\n    [SHIPS_FIRE_MODES.INFERNO]: missileFireTemplate(\r\n      [\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, -15, 10, -0.05),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, 0, 40, 0),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, 15, 10, 0.05),\r\n      ],\r\n      [\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, -30, 20, -0.06),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, -20, 15, -0.03),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, 0, 40, 0),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, 20, 15, 0.03),\r\n        missileTemplate(MOB_TYPES.TORNADO_MISSILE, 30, 20, 0.06),\r\n      ]\r\n    ),\r\n  },\r\n\r\n  [SHIPS_TYPES.PROWLER]: {\r\n    name: 'prowler',\r\n\r\n    turnFactor: 0.055,\r\n    accelFactor: 0.2,\r\n    brakeFactor: 0.025,\r\n    boostFactor: 1,\r\n    infernoFactor: 0.75,\r\n\r\n    maxSpeed: 4.5,\r\n    minSpeed: 0.001,\r\n    flagSpeed: 5,\r\n\r\n    healthRegen: 0.001,\r\n    energyRegen: 0.006,\r\n    fireEnergy: 0.75,\r\n    specialEnergy: 0.6,\r\n    specialEnergyRegen: 0,\r\n    specialDelay: 1500,\r\n\r\n    damageFactor: 5 / 3,\r\n    fireDelay: 300,\r\n    energyLight: 0.75,\r\n\r\n    collisions: [[0, 11, 25], [0, -8, 18], [19, 20, 10], [-19, 20, 10], [0, -20, 14]],\r\n\r\n    repelEnergy: 2600,\r\n\r\n    [SHIPS_FIRE_MODES.FIRE]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.PROWLER_MISSILE, 0, 35, 0),\r\n    ]),\r\n\r\n    [SHIPS_FIRE_MODES.INFERNO]: missileFireTemplate([\r\n      missileTemplate(MOB_TYPES.PROWLER_MISSILE, -20, 0, -0.05),\r\n      missileTemplate(MOB_TYPES.PROWLER_MISSILE, 0, 35, 0),\r\n      missileTemplate(MOB_TYPES.PROWLER_MISSILE, 20, 0, 0.05),\r\n    ]),\r\n  },\r\n};\r\n","// this file is a partial copy of ab-server\\src\\constants\\upgrades.ts\r\n/* tslint:disable */ // rules are different\r\n\r\nconst MS_PER_SEC = 1000;\r\n\r\nexport const UPGRADES_DEFAULT_MIN_CHANCE = 0.3;\r\n\r\nexport const UPGRADES_DEFAULT_MAX_CHANCE = 0.8;\r\n\r\nexport const UPGRADES_MIN_VICTIM_SCORE_TO_DROP = 26;\r\n\r\nexport const UPGRADES_TYPES = {\r\n  1: 'SPEED',\r\n  2: 'DEFENSE',\r\n  3: 'ENERGY',\r\n  4: 'MISSILE',\r\n};\r\n\r\nexport const UPGRADES_START_AMOUNT = 0;\r\n\r\nexport const UPGRADES_SPECS = {\r\n  SPEED: {\r\n    cost: [0, 1, 1, 1, 1, 1],\r\n    factor: [1, 1.05, 1.1, 1.15, 1.2, 1.25],\r\n  },\r\n  DEFENSE: {\r\n    cost: [0, 1, 1, 1, 1, 1],\r\n    factor: [1, 1.05, 1.1, 1.15, 1.2, 1.25],\r\n  },\r\n  ENERGY: {\r\n    cost: [0, 1, 1, 1, 1, 1],\r\n    factor: [1, 1.05, 1.1, 1.15, 1.2, 1.25],\r\n  },\r\n  MISSILE: {\r\n    cost: [0, 1, 1, 1, 1, 1],\r\n    factor: [1, 1.05, 1.1, 1.15, 1.2, 1.25],\r\n  },\r\n};\r\n\r\nexport const UPGRADES_ACTION_TYPE = {\r\n  LOST: 0,\r\n  SPEED: 1,\r\n  DEFENSE: 2,\r\n  ENERGY: 3,\r\n  MISSILE: 4,\r\n};\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { StopWatch } from \"./stopwatch\";\r\n\r\nexport class PeriodicLogger {\r\n\r\n    private stopwatch = new StopWatch();\r\n\r\n    constructor(private context: IContext, private intervalSeconds: number = 3) {\r\n    }\r\n\r\n    public log(msg: string, ...args: any[]) {\r\n        if (this.stopwatch.elapsedSeconds < this.intervalSeconds) {\r\n            return;\r\n        }\r\n        this.context.logger.info(msg, ...args);\r\n        this.stopwatch.start();\r\n    }\r\n}\r\n","import { CHAT_TYPE } from \"../ab-assets/chat-constants\";\r\nimport { ProtocolPacket, SERVER_PACKETS } from \"../ab-protocol/src/lib\";\r\nimport { ScoreBoard, ScoreDetailed, ScoreDetailedCtf } from \"../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { IChatArgs } from \"../events/event-args/chat-args\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\n\r\nexport class ServerMessageHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_MESSAGE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        const serverMessage = ev.args as ProtocolPacket;\r\n\r\n        let chatType: CHAT_TYPE;\r\n\r\n        switch (serverMessage.c) {\r\n            case SERVER_PACKETS.CHAT_PUBLIC:\r\n                chatType = CHAT_TYPE.CHAT;\r\n                this.context.eventQueue.pub(Events.CHAT_RECEIVED, {\r\n                    chatMessage: serverMessage.text,\r\n                    chatType,\r\n                    playerId: serverMessage.id,\r\n                } as IChatArgs);\r\n                break;\r\n\r\n            case SERVER_PACKETS.CHAT_SAY:\r\n                chatType = CHAT_TYPE.SAY;\r\n                this.context.eventQueue.pub(Events.CHAT_RECEIVED, {\r\n                    chatMessage: serverMessage.text,\r\n                    chatType,\r\n                    playerId: serverMessage.id,\r\n                } as IChatArgs);\r\n                break;\r\n\r\n            case SERVER_PACKETS.CHAT_TEAM:\r\n                chatType = CHAT_TYPE.TEAM;\r\n                this.context.eventQueue.pub(Events.CHAT_RECEIVED, {\r\n                    chatMessage: serverMessage.text,\r\n                    chatType,\r\n                    playerId: serverMessage.id,\r\n                } as IChatArgs);\r\n                break;\r\n\r\n            case SERVER_PACKETS.CHAT_WHISPER:\r\n                chatType = CHAT_TYPE.WHISPER;\r\n                this.context.eventQueue.pub(Events.CHAT_RECEIVED, {\r\n                    chatMessage: serverMessage.text,\r\n                    chatType,\r\n                    playerId: serverMessage.from,\r\n                    to: serverMessage.to,\r\n                } as IChatArgs);\r\n                break;\r\n\r\n            case SERVER_PACKETS.CHAT_VOTEMUTED:\r\n                this.context.eventQueue.pub(Events.CHAT_NOT_POSSIBLE_BC_MUTED, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.CHAT_VOTEMUTEPASSED:\r\n                this.context.eventQueue.pub(Events.CHAT_PLAYER_MUTED, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.COMMAND_REPLY:\r\n                this.context.eventQueue.pub(Events.SERVER_COMMAND_REPLY, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.ERROR:\r\n                this.context.eventQueue.pub(Events.SERVER_ERROR, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.EVENT_BOOST:\r\n                this.context.eventQueue.pub(Events.PLAYER_BOOST, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.EVENT_BOUNCE:\r\n                this.context.eventQueue.pub(Events.PLAYER_BOUNCE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.EVENT_LEAVEHORIZON:\r\n                this.context.eventQueue.pub(Events.LEAVE_HORIZON, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.EVENT_REPEL:\r\n                this.context.eventQueue.pub(Events.PLAYER_REPEL, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.EVENT_STEALTH:\r\n                this.context.eventQueue.pub(Events.PLAYER_STEALTH, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.GAME_FLAG:\r\n                this.context.eventQueue.pub(Events.FLAG_UPDATE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.GAME_SPECTATE:\r\n                this.context.eventQueue.pub(Events.PLAYER_SPECTATE, serverMessage);\r\n\r\n            case SERVER_PACKETS.LOGIN:\r\n                this.context.eventQueue.pub(Events.LOGIN, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.MOB_DESPAWN:\r\n                this.context.eventQueue.pub(Events.MOB_DESPAWN, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.MOB_DESPAWN_COORDS:\r\n                this.context.eventQueue.pub(Events.MOUNTAIN_HIT, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.MOB_UPDATE:\r\n                this.context.eventQueue.pub(Events.MISSILE_UPDATE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.MOB_UPDATE_STATIONARY:\r\n                this.context.eventQueue.pub(Events.CRATE_NEW, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_FIRE:\r\n                this.context.eventQueue.pub(Events.PLAYER_FIRE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_FLAG:\r\n                this.context.eventQueue.pub(Events.PLAYER_CHANGE_FLAG, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_HIT:\r\n                this.context.eventQueue.pub(Events.PLAYER_HIT, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_KILL:\r\n                this.context.eventQueue.pub(Events.PLAYER_KILLED, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_LEAVE:\r\n                this.context.eventQueue.pub(Events.PLAYER_LEAVE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_LEVEL:\r\n                this.context.eventQueue.pub(Events.PLAYER_LEVEL, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_NEW:\r\n                this.context.eventQueue.pub(Events.PLAYER_NEW, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_POWERUP:\r\n                this.context.eventQueue.pub(Events.PLAYER_POWERUP, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_UPDATE:\r\n                this.context.eventQueue.pub(Events.PLAYER_UPDATE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_RETEAM:\r\n                this.context.eventQueue.pub(Events.TEAMS, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_UPGRADE:\r\n                this.context.eventQueue.pub(Events.PLAYER_UPGRADE_APPLIED, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_RESPAWN:\r\n                this.context.eventQueue.pub(Events.PLAYER_RESPAWN, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.PLAYER_TYPE:\r\n                this.context.eventQueue.pub(Events.PLAYER_SWITCH_TYPE, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.SERVER_CUSTOM:\r\n                this.context.eventQueue.pub(Events.SERVER_CUSTOM, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.SERVER_MESSAGE:\r\n                this.context.eventQueue.pub(Events.SERVER_ANNOUNCEMENT, serverMessage);\r\n                break;\r\n\r\n            case SERVER_PACKETS.SCORE_BOARD:\r\n                const scoreBoard = serverMessage as ScoreBoard;\r\n                this.context.eventQueue.pub(Events.SCORE_BOARD, scoreBoard.data);\r\n                this.context.eventQueue.pub(Events.MINI_MAP, scoreBoard.rankings);\r\n                break;\r\n\r\n            case SERVER_PACKETS.SCORE_DETAILED:\r\n                const detailedFfa = serverMessage as ScoreDetailed;\r\n                this.context.eventQueue.pub(Events.SCORE_DETAILED, { ffaScores: detailedFfa.scores });\r\n                break;\r\n\r\n            case SERVER_PACKETS.SCORE_DETAILED_CTF:\r\n                const detailedCtf = serverMessage as ScoreDetailedCtf;\r\n                this.context.eventQueue.pub(Events.SCORE_DETAILED, { ffaScores: detailedCtf.scores });\r\n                break;\r\n\r\n            case SERVER_PACKETS.SCORE_UPDATE:\r\n                this.context.eventQueue.pub(Events.SCORE_UPDATE, serverMessage);\r\n                break;\r\n\r\n        }\r\n    }\r\n}\r\n","export enum CHAT_TYPE {\r\n    CHAT,\r\n    SAY,\r\n    TEAM,\r\n    WHISPER,\r\n}\r\n","import { MobUpdateStationary } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Mob } from \"../../models/mob\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class CrateNewHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.CRATE_NEW];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as MobUpdateStationary;\r\n\r\n        const m = new Mob();\r\n        m.id = msg.id;\r\n        m.pos = new Pos(msg.posX, msg.posY);\r\n        m.mobType = msg.type;\r\n\r\n        this.context.state.addMob(m);\r\n    }\r\n}\r\n","import { MOB_TYPES } from \"../ab-protocol/src/lib\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { Pos } from \"./pos\";\r\n\r\nexport class Mob {\r\n\r\n    public id: number;\r\n    public mobType: MOB_TYPES;\r\n    public rot: number;\r\n    public speed: Pos;\r\n    public maxSpeed: number;\r\n    public accel: Pos;\r\n    public ownerId: number;\r\n    public team: number;\r\n    public isVisibleOnScreen: boolean;\r\n    public distance: number;\r\n\r\n    public get pos(): Pos {\r\n        return this.highResPos;\r\n    }\r\n    public set pos(value: Pos) {\r\n        this.highResPos = value;\r\n        this.posUpdateTimer.start();\r\n    }\r\n\r\n    protected posUpdateTimer = new StopWatch();\r\n\r\n    private highResPos: Pos;\r\n\r\n    constructor() {\r\n        this.speed = new Pos();\r\n        this.pos = new Pos();\r\n        this.accel = new Pos();\r\n    }\r\n\r\n}\r\n","import { IPos } from \"./ipos\";\r\n\r\nconst PI_2 = Math.PI * 2;\r\n\r\nexport class Pos implements IPos {\r\n    // TODO rename to Vector\r\n\r\n    public x: number;\r\n    public y: number;\r\n    public length: number;\r\n\r\n    constructor(x?: number | { x: number, y: number }, y?: number) {\r\n        if ((x || x === 0) && (y || y === 0)) {\r\n            this.x = x as number;\r\n            this.y = y;\r\n        } else if (x) {\r\n            const other = x as Pos;\r\n            this.x = other.x;\r\n            this.y = other.y;\r\n        } else {\r\n            this.x = 0;\r\n            this.y = 0;\r\n        }\r\n    }\r\n\r\n    public direction() {\r\n        let dir = -(Math.atan2(this.x, this.y) + Math.PI);\r\n        if (dir < 0) {\r\n            dir += PI_2;\r\n        }\r\n        if (dir > PI_2) {\r\n            dir -= PI_2;\r\n        }\r\n        return dir;\r\n    }\r\n\r\n    public equals(other: IPos): boolean {\r\n        return !!other && other.x === this.x && other.y === this.y;\r\n    }\r\n}\r\n","import { CTF_TEAMS } from \"../../ab-protocol/src/lib\";\r\nimport { GameFlag } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class FlagUpdateHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.FLAG_UPDATE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as GameFlag;\r\n\r\n        const team = this.context.state.getCtfTeam(msg.flag);\r\n        team.flagState = msg.type;\r\n        team.flagTakenById = msg.id;\r\n\r\n        team.flagPos = new Pos(msg.posX, msg.posY);\r\n\r\n        this.context.state.getCtfTeam(CTF_TEAMS.BLUE).score = msg.blueteam;\r\n        this.context.state.getCtfTeam(CTF_TEAMS.RED).score = msg.redteam;\r\n    }\r\n}\r\n","import { EventLeavehorizon } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { LEAVE_HORIZON_TYPES } from \"../../ab-protocol/src/types/server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Mob } from \"../../models/mob\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class LeaveHorizonHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.LEAVE_HORIZON];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as EventLeavehorizon;\r\n\r\n        let mobOrPlayer: Mob;\r\n        if (msg.type === LEAVE_HORIZON_TYPES.MOB) {\r\n            mobOrPlayer = this.context.state.getMobById(msg.id);\r\n        } else {\r\n            mobOrPlayer = this.context.state.getPlayerById(msg.id);\r\n        }\r\n\r\n        if (mobOrPlayer) {\r\n            mobOrPlayer.isVisibleOnScreen = false;\r\n        }\r\n\r\n        if (msg.type !== LEAVE_HORIZON_TYPES.PLAYER) {\r\n            // We don't seem to get every despawn of mobs that have left the horizon,\r\n            // so remove it entirely now. This is what the canonical frontend does also.\r\n            this.context.state.removeMob(msg.id);\r\n        }\r\n\r\n    }\r\n}\r\n","import { CTF_TEAMS, GAME_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { Login } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Player } from \"../../models/player\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { PowerUps } from \"../../models/power-ups\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class LoginHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.LOGIN];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as Login;\r\n        const s = this.context.state;\r\n\r\n        s.id = msg.id;\r\n\r\n        // the id given is the id of the user we are spectating\r\n        // in case of spectating.\r\n        const isSpectating = !!this.context.state.spectatingId;\r\n        if (!isSpectating) {\r\n            s.myPlayerId = msg.id;\r\n        }\r\n\r\n        if (!msg.players) {\r\n            // this is a message that is used for spectate start\r\n            return;\r\n        }\r\n\r\n        s.team = msg.team;\r\n\r\n        this.context.gameType = GAME_TYPES.FFA;\r\n        if (msg.team === CTF_TEAMS.BLUE || msg.team === CTF_TEAMS.RED) {\r\n            this.context.gameType = GAME_TYPES.CTF;\r\n        }\r\n\r\n\r\n        let ranking = 0;\r\n\r\n        for (const loginPlayer of msg.players) {\r\n            const p = new Player();\r\n            ranking++;\r\n\r\n            p.id = loginPlayer.id;\r\n            p.flag = loginPlayer.flag;\r\n            p.name = loginPlayer.name;\r\n            p.pos = new Pos(loginPlayer.posX, loginPlayer.posY);\r\n            p.type = loginPlayer.type;\r\n            p.rot = loginPlayer.rot;\r\n            p.status = loginPlayer.status;\r\n            p.team = loginPlayer.team;\r\n            p.ranking = ranking;\r\n            p.health = 1;\r\n            p.energy = 1;\r\n            p.level = loginPlayer.level;\r\n\r\n            p.powerUps = Decoder.upgradesToPowerUps(loginPlayer.upgrades) || new PowerUps();\r\n\r\n            s.addPlayer(p);\r\n        }\r\n    }\r\n}\r\n","import { decodeKeystate, decodeUpgrades } from \"../ab-protocol/src/lib\";\r\nimport { PlayerMovements } from \"../models/player-movements\";\r\nimport { PowerUps } from \"../models/power-ups\";\r\n\r\nexport class Decoder {\r\n\r\n    public static upgradesToPowerUps(upgrades: number): PowerUps {\r\n        if (!upgrades) {\r\n            return null;\r\n        }\r\n\r\n        return decodeUpgrades(upgrades);\r\n    }\r\n\r\n    public static keystateToPlayerMovements(keystate: number): PlayerMovements {\r\n        if (!keystate) {\r\n            return null;\r\n        }\r\n\r\n        return decodeKeystate(keystate);\r\n    }\r\n}\r\n","import { Keystate, MOB_TYPES, PLAYER_STATUS } from \"../ab-protocol/src/lib\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { Mob } from \"./mob\";\r\nimport { PlayerMovements } from \"./player-movements\";\r\nimport { Pos } from \"./pos\";\r\nimport { PowerUps } from \"./power-ups\";\r\nimport { Upgrades } from \"./upgrades\";\r\n\r\nconst STALENESS_MS = 4000;\r\n\r\nexport class Player extends Mob {\r\n    public id: number;\r\n    public flag: number;\r\n    public name: string;\r\n    public type: number;\r\n\r\n    public energy: number = 1;\r\n    public energyRegen: number;\r\n\r\n    public flagspeed: boolean;\r\n    public stealthed: boolean;\r\n    public strafe: boolean;\r\n    public boost: boolean;\r\n    public keystate: Keystate;\r\n\r\n    public upgrades: Upgrades;\r\n    public powerUps: PowerUps;\r\n    public hasShield: boolean;\r\n    public hasInferno: boolean;\r\n    public shieldOrInfernoTimer: StopWatch;\r\n\r\n    public health: number = 1;\r\n    public healthRegen: number;\r\n\r\n    public score: number = 0;\r\n    public level: number;\r\n    public kills: number;\r\n    public deaths: number;\r\n    public damage: number;\r\n    public ping: number;\r\n    public captures: number;\r\n    public ranking: number;\r\n\r\n    public status: PLAYER_STATUS;\r\n    public isMuted: boolean;\r\n\r\n    public get posFromMinimap(): Pos {\r\n        return this.lowResPos;\r\n    }\r\n    public set posFromMinimap(value: Pos) {\r\n        this.lowResPos = value;\r\n        this.lowResPosUpdateTimer.start();\r\n    }\r\n\r\n    private lowResPos: Pos;\r\n    private lowResPosUpdateTimer = new StopWatch();\r\n\r\n    constructor() {\r\n        super();\r\n        this.mobType = MOB_TYPES.PLAYER;\r\n        this.upgrades = new Upgrades();\r\n        this.powerUps = new PowerUps();\r\n        this.keystate = {} as Keystate;\r\n    }\r\n\r\n    public get mostReliablePos(): Pos {\r\n        const diff = this.posUpdateTimer.elapsedMs - this.lowResPosUpdateTimer.elapsedMs;\r\n        if (diff < STALENESS_MS || !this.lowResPos) {\r\n            return this.pos;\r\n        }\r\n        return this.lowResPos;\r\n    }\r\n\r\n    public setMovements(movements: PlayerMovements) {\r\n        if (movements) {\r\n            this.boost = movements.boost;\r\n            this.flagspeed = movements.flagspeed;\r\n            this.stealthed = movements.stealthed;\r\n            this.strafe = movements.strafe;\r\n            this.keystate = movements.keystate;\r\n        } else {\r\n            this.boost = false;\r\n            this.flagspeed = false;\r\n            this.stealthed = false;\r\n            this.strafe = false;\r\n            this.keystate = {} as Keystate;\r\n        }\r\n    }\r\n}\r\n","export class PowerUps {\r\n    public speed: number;\r\n    public shield: number;\r\n    public inferno: number;\r\n}\r\n","export class Upgrades {\r\n    public speed: number = 0;\r\n    public defense: number = 0;\r\n    public energy: number = 0;\r\n    public missile: number = 0;\r\n    public available: number = 0;\r\n}\r\n","import { decodeMinimapCoords, PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { ScoreBoardRanking } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MiniMapHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.MINI_MAP];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const data = ev.args as ScoreBoardRanking[];\r\n\r\n        for (const playerMinimapPos of data) {\r\n            const player = this.context.state.getPlayerById(playerMinimapPos.id);\r\n            if (!player) {\r\n                continue;\r\n            }\r\n\r\n            if (playerMinimapPos.x === 0 && playerMinimapPos.y === 0) {\r\n                // invisible prowler may not get the correct minimap data,\r\n                // so ignore this if i'm hidden as a prowler\r\n                const focusAircraft = this.context.state.getFocusedPlayer();\r\n                if (focusAircraft && focusAircraft.stealthed) {\r\n                    player.status = PLAYER_STATUS.INACTIVE;\r\n                }\r\n            } else {\r\n                const coords = decodeMinimapCoords(playerMinimapPos.x, playerMinimapPos.y);\r\n                player.posFromMinimap = new Pos(coords);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { MobUpdate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Mob } from \"../../models/mob\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MissileUpdateHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.MISSILE_UPDATE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as MobUpdate;\r\n\r\n        let mob = this.context.state.getMobById(msg.id);\r\n\r\n        if (!mob) {\r\n            mob = new Mob();\r\n            mob.id = msg.id;\r\n            this.context.state.addMob(mob);\r\n        }\r\n\r\n        mob.isVisibleOnScreen = true;\r\n        mob.pos = new Pos(msg.posX, msg.posY);\r\n        mob.accel = new Pos(msg.accelX, msg.accelY);\r\n        mob.maxSpeed = msg.maxSpeed;\r\n        mob.speed = new Pos(msg.speedX, msg.speedY);\r\n        mob.rot = mob.speed.direction();\r\n        mob.mobType = msg.type;\r\n    }\r\n}\r\n","import { MobDespawn } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MobDespawnHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.MOB_DESPAWN];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as MobDespawn;\r\n        this.context.state.removeMob(msg.id);\r\n    }\r\n}\r\n","import { MobDespawnCoords } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IExplosionArgs } from \"../../events/event-args/iexplosion-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MountainHitHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.MOUNTAIN_HIT];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as MobDespawnCoords;\r\n\r\n        this.context.eventQueue.pub(Events.EXPLOSION, {\r\n            pos: new Pos(msg.posX, msg.posY),\r\n            type: msg.type,\r\n        } as IExplosionArgs);\r\n\r\n        this.context.state.removeMob(msg.id);\r\n    }\r\n}\r\n","import { EventBoost } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerBoostHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_BOOST];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as EventBoost;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        player.boost = msg.boost;\r\n        player.energy = msg.energy;\r\n        player.energyRegen = msg.energyRegen;\r\n        player.pos = new Pos(msg.posX, msg.posY);\r\n        player.rot = msg.rot;\r\n        player.speed = new Pos(msg.speedX, msg.speedY);\r\n    }\r\n}\r\n","import { EventBounce } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerBounceHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_BOUNCE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as EventBounce;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        const movements = Decoder.keystateToPlayerMovements(msg.keystate);\r\n        player.setMovements(movements);\r\n\r\n        player.pos = new Pos(msg.posX, msg.posY);\r\n        player.rot = msg.rot;\r\n        player.speed = new Pos(msg.speedX, msg.speedY);\r\n    }\r\n}\r\n","import { PlayerFlag } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerChangeFlagHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_CHANGE_FLAG];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerFlag;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (p) {\r\n            p.flag = msg.flag;\r\n        }\r\n    }\r\n}\r\n","import { PlayerFire } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Mob } from \"../../models/mob\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerFireHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_FIRE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerFire;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        player.energy = msg.energy;\r\n        player.energyRegen = msg.energyRegen;\r\n\r\n        for (const missile of msg.projectiles) {\r\n            const mob = new Mob();\r\n            mob.id = missile.id;\r\n            mob.pos = new Pos(missile.posX, missile.posY);\r\n            mob.accel = new Pos(missile.accelX, missile.accelY);\r\n            mob.maxSpeed = missile.maxSpeed;\r\n            mob.speed = new Pos(missile.speedX, missile.speedY);\r\n            mob.mobType = missile.type;\r\n            mob.ownerId = msg.id;\r\n            mob.rot = mob.speed.direction();\r\n            mob.team = player.team;\r\n\r\n            this.context.state.addMob(mob);\r\n        }\r\n\r\n    }\r\n}\r\n","import { PlayerHit } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IExplosionArgs } from \"../../events/event-args/iexplosion-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerHitHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_HIT];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerHit;\r\n\r\n        this.context.eventQueue.pub(Events.EXPLOSION, {\r\n            pos: new Pos(msg.posX, msg.posY),\r\n            type: msg.type,\r\n        } as IExplosionArgs);\r\n\r\n        for (const who of msg.players) {\r\n            const player = this.context.state.getPlayerById(who.id);\r\n            if (!player) {\r\n                continue;\r\n            }\r\n            player.health = who.health;\r\n            player.healthRegen = who.healthRegen;\r\n        }\r\n\r\n        this.context.state.removeMob(msg.id);\r\n    }\r\n}\r\n","import { PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { PlayerKill } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerKilledHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_KILLED];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerKill;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (p) {\r\n            p.status = PLAYER_STATUS.INACTIVE;\r\n        }\r\n    }\r\n}\r\n","import { PlayerLeave } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerLeaveHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_LEAVE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerLeave;\r\n\r\n        this.context.state.removePlayer(msg.id);\r\n    }\r\n}\r\n","import { PLAYER_LEVEL_UPDATE_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { PlayerLevel } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerLevelHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_LEVEL];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerLevel;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (p) {\r\n            p.level = msg.level;\r\n\r\n            if (msg.type === PLAYER_LEVEL_UPDATE_TYPES.LEVELUP && msg.id === this.context.state.id) {\r\n                this.context.eventQueue.pub(Events.MESSAGE_TO_PLAYER, {\r\n                    message: `You have reached level ${p.level}!`,\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { PlayerNew } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Player } from \"../../models/player\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { PowerUps } from \"../../models/power-ups\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerNewHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_NEW];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerNew;\r\n\r\n        const p = new Player();\r\n        p.id = msg.id;\r\n        p.flag = msg.flag;\r\n        p.name = msg.name;\r\n        p.pos = new Pos(msg.posX, msg.posY);\r\n        p.type = msg.type;\r\n        p.rot = msg.rot;\r\n        p.status = msg.status;\r\n        p.team = msg.team;\r\n        p.energy = 1;\r\n        p.health = 1;\r\n\r\n        p.powerUps = Decoder.upgradesToPowerUps(msg.upgrades) || new PowerUps();\r\n\r\n        this.context.state.addPlayer(p);\r\n    }\r\n}\r\n","import { PLAYER_POWERUP_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { PlayerPowerup } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { StopWatch } from \"../../helpers/stopwatch\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerPowerupHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_POWERUP];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerPowerup;\r\n\r\n        const player = this.context.state.getFocusedPlayer();\r\n        if (player) {\r\n            player.hasShield = msg.type === PLAYER_POWERUP_TYPES.SHIELD;\r\n            player.hasInferno = msg.type === PLAYER_POWERUP_TYPES.INFERNO;\r\n            player.shieldOrInfernoTimer = new StopWatch(msg.duration);\r\n        }\r\n    }\r\n}\r\n","import { EventRepel } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerRepelHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_REPEL];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as EventRepel;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n        if (player) {\r\n            player.pos = new Pos(msg.posX, msg.posY);\r\n            player.rot = msg.rot;\r\n            player.speed = new Pos(msg.speedX, msg.speedY);\r\n            player.energyRegen = msg.energyRegen;\r\n            player.energy = msg.energy;\r\n        }\r\n\r\n        for (const repelledPlayer of msg.players) {\r\n            const p = this.context.state.getPlayerById(repelledPlayer.id);\r\n\r\n            if (!p) {\r\n                continue;\r\n            }\r\n\r\n            const movements = Decoder.keystateToPlayerMovements(repelledPlayer.keystate);\r\n            p.setMovements(movements);\r\n\r\n            p.pos = new Pos(repelledPlayer.posX, repelledPlayer.posY);\r\n            p.rot = repelledPlayer.rot;\r\n            p.speed = new Pos(repelledPlayer.speedX, repelledPlayer.speedY);\r\n            p.energyRegen = repelledPlayer.energyRegen;\r\n            p.energy = repelledPlayer.energy;\r\n            p.health = repelledPlayer.playerHealth;\r\n            p.healthRegen = repelledPlayer.playerHealthRegen;\r\n        }\r\n\r\n        for (const missile of msg.mobs) {\r\n            const mob = this.context.state.getMobById(missile.id);\r\n\r\n            if (!mob) {\r\n                continue;\r\n            }\r\n\r\n            mob.pos = new Pos(missile.posX, missile.posY);\r\n            mob.accel = new Pos(missile.accelX, missile.accelY);\r\n            mob.maxSpeed = missile.maxSpeed;\r\n            mob.speed = new Pos(missile.speedX, missile.speedY);\r\n            mob.rot = mob.speed.direction();\r\n            mob.mobType = missile.type;\r\n            mob.ownerId = msg.id;\r\n            mob.team = player.team;\r\n        }\r\n\r\n    }\r\n}\r\n","import { PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { PlayerRespawn } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { PowerUps } from \"../../models/power-ups\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerRespawnHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_RESPAWN];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerRespawn;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n        if (!p) {\r\n            return;\r\n        }\r\n        p.pos = new Pos(msg.posX, msg.posY);\r\n        p.rot = msg.rot;\r\n        p.powerUps = Decoder.upgradesToPowerUps(msg.upgrades) || new PowerUps();\r\n        p.status = PLAYER_STATUS.ALIVE;\r\n        p.health = 1;\r\n        p.energy = 1;\r\n\r\n        if (msg.id === this.context.state.myPlayerId) {\r\n            const wasSpectating = !!this.context.state.spectatingId;\r\n            if (wasSpectating) {\r\n                this.context.state.spectatingId = null;\r\n                this.context.state.id = this.context.state.myPlayerId;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { GameSpectate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerSpectateHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_SPECTATE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as GameSpectate;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n        if (!p) {\r\n            return;\r\n        }\r\n\r\n        this.context.state.spectatingId = msg.id;\r\n    }\r\n}\r\n","import { EventStealth } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerStealthHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_STEALTH];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as EventStealth;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        player.stealthed = msg.state;\r\n        player.energy = msg.energy;\r\n        player.energyRegen = msg.energyRegen;\r\n    }\r\n}\r\n","import { PlayerType } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerSwitchTypeHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_SWITCH_TYPE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerType;\r\n\r\n        const p = this.context.state.getPlayerById(msg.id);\r\n        if (p) {\r\n            p.type = msg.type;\r\n        }\r\n    }\r\n}\r\n","import { PlayerUpdate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Decoder } from \"../../helpers/decoder\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { PowerUps } from \"../../models/power-ups\";\r\nimport { Upgrades } from \"../../models/upgrades\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerUpdateHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_UPDATE];\r\n\r\n    private lastUp: boolean;\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerUpdate;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        player.isVisibleOnScreen = true;\r\n\r\n        const movements = Decoder.keystateToPlayerMovements(msg.keystate);\r\n        player.setMovements(movements);\r\n\r\n        const powerUps = Decoder.upgradesToPowerUps(msg.upgrades);\r\n        player.powerUps = powerUps || new PowerUps();\r\n\r\n        player.upgrades = player.upgrades || new Upgrades();\r\n        player.upgrades.speed = player.powerUps.speed || 0;\r\n\r\n        player.pos = new Pos(msg.posX, msg.posY);\r\n        player.rot = msg.rot;\r\n        player.speed = new Pos(msg.speedX, msg.speedY);\r\n    }\r\n}\r\n","import { PlayerUpgrade, ScoreUpdate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Upgrades } from \"../../models/upgrades\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class PlayerUpgradeAppliedHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_UPGRADE_APPLIED];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const player = this.context.state.getFocusedPlayer();\r\n\r\n        if (!player) {\r\n            return;\r\n        }\r\n\r\n        if (!player.upgrades) {\r\n            player.upgrades = new Upgrades();\r\n        }\r\n\r\n        const msg = ev.args as PlayerUpgrade;\r\n\r\n        const u = player.upgrades;\r\n        u.available = msg.upgrades;\r\n        u.defense = msg.defense;\r\n        u.energy = msg.energy;\r\n        u.missile = msg.missile;\r\n        u.speed = msg.speed;\r\n    }\r\n}\r\n","import { ScoreBoardData } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ScoreBoardHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SCORE_BOARD];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const data = ev.args as ScoreBoardData[];\r\n\r\n        let ranking = 0;\r\n        for (const playerScore of data) {\r\n            ranking++;\r\n            const player = this.context.state.getPlayerById(playerScore.id);\r\n            if (!player) {\r\n                continue;\r\n            }\r\n            player.score = playerScore.score;\r\n            player.level = playerScore.level;\r\n            player.ranking = ranking;\r\n        }\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { ScoreDetailedArgs } from \"../../events/event-args/score-detailed-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ScoreDetailedHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SCORE_DETAILED];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as ScoreDetailedArgs;\r\n\r\n        if (msg.ffaScores) {\r\n            for (const playerScore of msg.ffaScores) {\r\n                const player = this.context.state.getPlayerById(playerScore.id);\r\n                if (!player) {\r\n                    continue;\r\n                }\r\n                player.score = playerScore.score;\r\n                player.level = playerScore.level;\r\n                player.kills = playerScore.kills;\r\n                player.deaths = playerScore.deaths;\r\n                player.damage = playerScore.damage;\r\n                player.ping = playerScore.ping;\r\n            }\r\n        } else if (msg.ctfScores) {\r\n            for (const playerScore of msg.ctfScores) {\r\n                const player = this.context.state.getPlayerById(playerScore.id);\r\n                if (!player) {\r\n                    continue;\r\n                }\r\n                player.score = playerScore.score;\r\n                player.level = playerScore.level;\r\n                player.kills = playerScore.kills;\r\n                player.deaths = playerScore.deaths;\r\n                player.damage = playerScore.damage;\r\n                player.ping = playerScore.ping;\r\n                player.captures = playerScore.captures;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { ScoreUpdate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { Upgrades } from \"../../models/upgrades\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ScoreUpdateHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SCORE_UPDATE];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as ScoreUpdate;\r\n\r\n        const player = this.context.state.getPlayerById(msg.id);\r\n        if (player) {\r\n            player.score = msg.score;\r\n            player.kills = msg.totalkills;\r\n            player.deaths = msg.totaldeaths;\r\n\r\n            if (!player.upgrades) {\r\n                player.upgrades = new Upgrades();\r\n            }\r\n            player.upgrades.available = msg.upgrades;\r\n        }\r\n    }\r\n}\r\n","import { ServerMessage } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ServerAnnouncementHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_ANNOUNCEMENT];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as ServerMessage;\r\n\r\n        this.context.logger.info(\"Server message: \" + msg.text);\r\n    }\r\n}\r\n","import { CommandReply, ServerMessage } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IMessageToPlayerArgs } from \"../../events/event-args/message-to-player-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ServerCommandReplyHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_COMMAND_REPLY, Events.CHAT_NOT_POSSIBLE_BC_MUTED];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n\r\n        if (ev.type === Events.CHAT_NOT_POSSIBLE_BC_MUTED) {\r\n            this.context.eventQueue.pub(Events.MESSAGE_TO_PLAYER, {\r\n                message: \"You have been muted.\",\r\n            } as IMessageToPlayerArgs);\r\n        } else {\r\n            const msg = ev.args as CommandReply;\r\n\r\n            if (msg.text === \"Don't spam!\") {\r\n                this.context.eventQueue.pub(Events.SPAM_WARING_RECEIVED, {});\r\n            }\r\n\r\n            this.context.eventQueue.pub(Events.MESSAGE_TO_PLAYER, {\r\n                message: msg.text,\r\n            } as IMessageToPlayerArgs);\r\n        }\r\n    }\r\n}\r\n","import { SERVER_CUSTOM_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { ServerCustom, ServerCustomCTFData } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ServerCustomHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_CUSTOM];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as ServerCustom;\r\n\r\n        if (msg.type === SERVER_CUSTOM_TYPES.CTF) {\r\n            const data = JSON.parse(msg.data) as ServerCustomCTFData;\r\n            this.context.eventQueue.pub(Events.CTF_GAME_OVER, data);\r\n        }\r\n    }\r\n}\r\n","import { Error } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ServerErrorHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_ERROR];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as Error;\r\n\r\n        this.context.logger.error(\"Server reports error: \" + msg.error);\r\n    }\r\n}\r\n","import { PlayerReteam, ScoreUpdate } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class TeamsHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TEAMS];\r\n\r\n    constructor(private context: IContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerReteam;\r\n\r\n        for (const p of msg.players) {\r\n            if (p.id === this.context.state.myPlayerId) {\r\n                this.context.state.team = p.team;\r\n            }\r\n\r\n            const player = this.context.state.getPlayerById(p.id);\r\n            if (!player) {\r\n                continue;\r\n            }\r\n\r\n            player.team = p.team;\r\n        }\r\n    }\r\n}\r\n","export class Settings {\r\n    public websocketUrl: string = \"wss://game.airmash.cc/ffa\";\r\n    public playerName: string = \"Unknown\";\r\n    public horizonX: number = 2000;\r\n    public horizonY: number = 2000;\r\n    public flag: string = \"jolly\";\r\n    public logLevel: string = \"info\";\r\n    public isDevelopment: boolean = false;\r\n    public zoom = 0.8;\r\n    public useBitmaps: boolean = true;\r\n    public shouldShowDebugInfo: boolean = false;\r\n}\r\n\r\n\r\n/*\r\ndata: \"[{\"name\":\"Europe\",\"id\":\"eu\",\"games\":[{\"type\":\"1\",\"id\":\"ffa1\",\"name\":\"Free For All #1\",\"nameShort\":\"FFA #1\",\"host\":\"eu.airmash.online\",\"path\":\"ffa\",\"players\":8,\"bots\":5},{\"type\":\"2\",\"id\":\"ctf1\",\"name\":\"Capture The Flag #1\",\"nameShort\":\"CTF #1\",\"host\":\"dev.airbattle.xyz\",\"path\":\"ctf\",\"players\":12,\"bots\":12},{\"type\":\"3\",\"id\":\"btr1\",\"name\":\"Battle Royale #1\",\"nameShort\":\"BTR #1\",\"host\":\"eu.airmash.online\",\"path\":\"btr\",\"players\":1}]},{\"name\":\"US\",\"id\":\"us\",\"games\":[{\"type\":\"1\",\"id\":\"ffa1\",\"name\":\"Free For All #1\",\"nameShort\":\"FFA #1\",\"host\":\"game.airmash.cc\",\"path\":\"ffa\",\"players\":0},{\"type\":\"1\",\"id\":\"ffa2\",\"name\":\"Free For All #2\",\"nameShort\":\"FFA #2\",\"host\":\"ffa.herrmash.com\",\"path\":\"ffa\",\"players\":13,\"bots\":5},{\"type\":\"2\",\"id\":\"ctf1\",\"name\":\"Capture The Flag #1\",\"nameShort\":\"CTF #1\",\"host\":\"game.airmash.cc\",\"path\":\"ctf\",\"players\":0},{\"type\":\"2\",\"id\":\"ctf2\",\"name\":\"Capture The Flag #2\",\"nameShort\":\"CTF #2\",\"host\":\"ctf.herrmash.com\",\"path\":\"ctf\",\"players\":12,\"bots\":12},{\"type\":\"3\",\"id\":\"btr1\",\"name\":\"Battle Royale #1\",\"nameShort\":\"BTR #1\",\"host\":\"us.airmash.online\",\"path\":\"btr\",\"players\":0}]}]\"\r\n*/","import { CTF_TEAMS, MOB_TYPES } from \"../ab-protocol/src/lib\";\r\nimport { CloudVisual } from \"../models/cloud-visual\";\r\nimport { CtfTeam } from \"../models/ctf-team\";\r\nimport { ExplosionVisual } from \"../models/explosion-visual\";\r\nimport { GoliFartVisual } from \"../models/golifart-visual\";\r\nimport { IPos } from \"../models/ipos\";\r\nimport { KillVisual } from \"../models/kill-visual\";\r\nimport { Mob } from \"../models/mob\";\r\nimport { Player } from \"../models/player\";\r\n\r\nconst MISSILES: MOB_TYPES[] = [\r\n    MOB_TYPES.PREDATOR_MISSILE,\r\n    MOB_TYPES.GOLIATH_MISSILE,\r\n    MOB_TYPES.COPTER_MISSILE,\r\n    MOB_TYPES.TORNADO_MISSILE,\r\n    MOB_TYPES.TORNADO_SMALL_MISSILE,\r\n    MOB_TYPES.PROWLER_MISSILE,\r\n];\r\n\r\nconst CRATES: MOB_TYPES[] = [\r\n    MOB_TYPES.UPGRADE,\r\n    MOB_TYPES.SHIELD,\r\n    MOB_TYPES.INFERNO,\r\n];\r\n\r\nexport class State {\r\n\r\n    public id: number;\r\n    public team: number;\r\n    public ping: number;\r\n    public numPlayers: number;\r\n    public numPlayersTotal: number;\r\n    public spectatingId: number;\r\n    public myPlayerId: number;\r\n\r\n    // random debug info\r\n    public skippedFrames: number = 0;\r\n\r\n    private players = {};\r\n    private mobs = {};\r\n    private teams = {};\r\n    private explosions: ExplosionVisual[] = [];\r\n    private farts: GoliFartVisual[] = [];\r\n    private kills: KillVisual[] = [];\r\n    private rocketTrailClouds: CloudVisual[] = [];\r\n\r\n    constructor() {\r\n        this.teams[CTF_TEAMS.BLUE] = new CtfTeam();\r\n        this.teams[CTF_TEAMS.RED] = new CtfTeam();\r\n    }\r\n\r\n    public addPlayer(p: Player): void {\r\n        this.players[Number(p.id)] = p;\r\n    }\r\n\r\n    public removePlayer(id: number) {\r\n        delete this.players[Number(id)];\r\n    }\r\n\r\n    // get the player that has the focus. Mostly the player himself.\r\n    // In case of spectating, this returns the player being spectated.\r\n    public getFocusedPlayer(): Player {\r\n        return this.getPlayerById(this.id);\r\n    }\r\n\r\n    public getPlayerById(id: number): Player {\r\n        return this.players[Number(id)];\r\n    }\r\n\r\n    public getPlayerByName(name: string): Player {\r\n        return this.getPlayers().find((x) => x.name === name);\r\n    }\r\n\r\n    public getPlayers(): Player[] {\r\n        return Object.values(this.players);\r\n    }\r\n\r\n    public getPlayerName(id: number): string {\r\n        if (!id) {\r\n            return \"(empty)\";\r\n        }\r\n\r\n        const p = this.getPlayerById(id);\r\n        if (!p) {\r\n            return id + \"_(left)\";\r\n        }\r\n\r\n        return p.name;\r\n    }\r\n\r\n    public addMob(m: Mob): void {\r\n        this.mobs[Number(m.id)] = m;\r\n    }\r\n\r\n    public removeMob(id: number): void {\r\n        delete this.mobs[Number(id)];\r\n    }\r\n\r\n    public getMobById(id: number): Mob {\r\n        return this.mobs[Number(id)];\r\n    }\r\n\r\n    public getMissiles(): Mob[] {\r\n        const allMobs = Object.values(this.mobs) as Mob[];\r\n        return allMobs.filter((m) => MISSILES.indexOf(m.mobType) !== -1);\r\n    }\r\n\r\n    public getUpcrates(): Mob[] {\r\n        const allMobs = Object.values(this.mobs) as Mob[];\r\n        return allMobs.filter((m) => CRATES.indexOf(m.mobType) !== -1);\r\n    }\r\n\r\n    public getCtfTeam(team: CTF_TEAMS): CtfTeam {\r\n        return this.teams[team];\r\n    }\r\n\r\n    public getOtherCtfTeam(team: CTF_TEAMS): CtfTeam {\r\n        const otherTeam = team === CTF_TEAMS.BLUE ? CTF_TEAMS.RED : CTF_TEAMS.BLUE;\r\n        return this.teams[otherTeam];\r\n    }\r\n\r\n    public purgeAfterPanic(): void {\r\n        // purge any fancy stuff, so the panic doesn't get worse: this prevents\r\n        // rendering explosions from long ago.\r\n        this.explosions.splice(0);\r\n        this.kills.splice(0);\r\n        this.rocketTrailClouds.splice(0);\r\n    }\r\n\r\n    public addExplosion(expl: ExplosionVisual) {\r\n        this.explosions.push(expl);\r\n    }\r\n\r\n    // get only active explosions, also purges the collection of inactive explosions\r\n    public getActiveExplosions(): ExplosionVisual[] {\r\n        const activeExplosions = this.explosions.filter((e) => !e.isFinished);\r\n        this.explosions = activeExplosions;\r\n        return activeExplosions;\r\n    }\r\n\r\n    public addKill(kill: KillVisual) {\r\n        this.kills.push(kill);\r\n    }\r\n\r\n    // get only active kill visuals, also purges the collection of inactive kills\r\n    public getActiveKills(): KillVisual[] {\r\n        const activeKills = this.kills.filter((e) => !e.isFinished);\r\n        this.kills = activeKills;\r\n        return activeKills;\r\n    }\r\n\r\n    public addFart(fart: GoliFartVisual) {\r\n        this.farts.push(fart);\r\n    }\r\n\r\n    // get only active fart visuals, also purges the collection of inactive farts\r\n    public getActiveFarts(): GoliFartVisual[] {\r\n        const activeFarts = this.farts.filter((e) => !e.isFinished);\r\n        this.farts = activeFarts;\r\n        return activeFarts;\r\n    }\r\n\r\n    public addRocketTrailCloud(cloud: CloudVisual) {\r\n        this.rocketTrailClouds.push(cloud);\r\n    }\r\n\r\n    public getActiveRocketTrailClouds(): CloudVisual[] {\r\n        const activeClouds = this.rocketTrailClouds.filter((e) => !e.isFinished);\r\n        this.rocketTrailClouds = activeClouds;\r\n        return activeClouds;\r\n    }\r\n\r\n}\r\n","import { CTF_FLAG_STATE } from \"../ab-protocol/src/lib\";\r\nimport { Pos } from \"./pos\";\r\n\r\nexport class CtfTeam {\r\n    public flagState: CTF_FLAG_STATE;\r\n    public flagTakenById: number;\r\n    public flagPos: Pos;\r\n    public score: number;\r\n}\r\n","export class TimerManager {\r\n    private timeouts = [];\r\n    private intervals = [];\r\n\r\n    public setTimeout(action: () => void, ms) {\r\n        const id = setTimeout(() => {\r\n            this.onTimeoutFinished(id);\r\n            action();\r\n        }, ms);\r\n        this.timeouts.push(id);\r\n        return id;\r\n    }\r\n\r\n    public setInterval(action: () => void, ms) {\r\n        const id = setInterval(() => action(), ms);\r\n        this.intervals.push(id);\r\n        return id;\r\n    }\r\n\r\n    public clearTimeout(id): void {\r\n        clearTimeout(id);\r\n        this.onTimeoutFinished(id);\r\n    }\r\n\r\n    public clearInterval(id): void {\r\n        clearInterval(id);\r\n        this.onIntervalCleared(id);\r\n    }\r\n\r\n    public clearAll() {\r\n        for (const t of this.timeouts) {\r\n            clearTimeout(t);\r\n        }\r\n        for (const i of this.intervals) {\r\n            clearInterval(i);\r\n        }\r\n\r\n        this.timeouts = [];\r\n        this.intervals = [];\r\n    }\r\n\r\n    private onTimeoutFinished(id) {\r\n        this.timeouts = this.timeouts.filter((x) => x !== id);\r\n    }\r\n\r\n    private onIntervalCleared(id) {\r\n        this.intervals = this.intervals.filter((x) => x !== id);\r\n    }\r\n}\r\n","import { CHAT_TYPE } from \"../ab-assets/chat-constants\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport * as marshaling from \"../ab-protocol/src/marshaling\";\r\nimport { ProtocolPacket } from \"../ab-protocol/src/packets\";\r\nimport CLIENT_PACKETS from \"../ab-protocol/src/packets/client\";\r\nimport SERVER_PACKETS from \"../ab-protocol/src/packets/server\";\r\nimport { Backup, Chat, Command, Horizon, Key, Votemute } from \"../ab-protocol/src/types/packets-client\";\r\nimport { Login, Ping, PingResult } from \"../ab-protocol/src/types/packets-server\";\r\nimport * as unmarshaling from \"../ab-protocol/src/unmarshaling\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { PeriodicLogger } from \"../helpers/periodic-logger\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { KeyStateCache } from \"./keyStateCache\";\r\n\r\nconst KEY_THROTTLE_MS = 50;\r\n\r\nexport class Connection {\r\n\r\n    private client: WebSocket;\r\n    private backupClient: WebSocket;\r\n    private backupClientIsConnected: boolean;\r\n    private ackToBackup: boolean;\r\n    private ackInterval: any;\r\n    private keySequenceNumber: number = 0;\r\n    private loginPromiseResolver: (value?: any) => void;\r\n\r\n    private serverClockCalibrationTime: number;\r\n    private serverClockCalibrationTimeResetStopwatch: StopWatch;\r\n    private lagMs = 0;\r\n    private lastServerClock: number;\r\n    private lastReceivedMessages: { [key: string]: StopWatch } = {};\r\n    private lastReceivedMessagesGcStopwatch = new StopWatch();\r\n\r\n    private lastSentKeyStates: KeyStateCache[] = [];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public async init(): Promise<any> {\r\n        this.client = await this.initWebSocket(true);\r\n        await this.onInitPrimary();\r\n    }\r\n\r\n    public sendKey(key: KEY_CODES, state: boolean) {\r\n\r\n        let cache = this.lastSentKeyStates.find((x) => x.key === key && x.state === state);\r\n        if (cache) {\r\n            if (cache.lastPressed.elapsedMs < KEY_THROTTLE_MS) {\r\n                // don't send to prevent flooding\r\n                return;\r\n            }\r\n        } else {\r\n            cache = new KeyStateCache(key, state);\r\n            this.lastSentKeyStates.push(cache);\r\n        }\r\n\r\n        // allow the key, and reset the stopwatch\r\n        cache.lastPressed.start();\r\n\r\n        this.keySequenceNumber++;\r\n        const msg = {\r\n            c: CLIENT_PACKETS.KEY,\r\n            key,\r\n            seq: this.keySequenceNumber,\r\n            state,\r\n        } as Key;\r\n        this.send(msg);\r\n        if (this.backupClientIsConnected) {\r\n            this.send(msg, true);\r\n        }\r\n    }\r\n\r\n    public sendCommand(command: string, params: string) {\r\n        const msg = {\r\n            c: CLIENT_PACKETS.COMMAND,\r\n            com: command,\r\n            data: params,\r\n        } as Command;\r\n        this.send(msg);\r\n    }\r\n\r\n    public voteMute(playerId: number) {\r\n        const msg = {\r\n            c: CLIENT_PACKETS.VOTEMUTE,\r\n            id: playerId,\r\n        } as Votemute;\r\n        this.send(msg);\r\n    }\r\n\r\n    public fetchDetailedScore() {\r\n        this.send({ c: CLIENT_PACKETS.SCOREDETAILED });\r\n    }\r\n\r\n    public sendChat(type: CHAT_TYPE, text: string, targetPlayerID: number = null): void {\r\n        let c: number;\r\n        switch (type) {\r\n            case CHAT_TYPE.CHAT:\r\n                c = CLIENT_PACKETS.CHAT;\r\n                break;\r\n            case CHAT_TYPE.SAY:\r\n                c = CLIENT_PACKETS.SAY;\r\n                break;\r\n            case CHAT_TYPE.TEAM:\r\n                c = CLIENT_PACKETS.TEAMCHAT;\r\n                break;\r\n            case CHAT_TYPE.WHISPER:\r\n                c = CLIENT_PACKETS.WHISPER;\r\n                break;\r\n        }\r\n\r\n        const msg = {\r\n            c,\r\n            id: targetPlayerID,\r\n            text,\r\n        } as Chat;\r\n\r\n        this.send(msg);\r\n    }\r\n\r\n    public sendScreenSize(width: number, height: number) {\r\n        this.send({\r\n            c: CLIENT_PACKETS.HORIZON,\r\n            horizonX: Math.ceil(width / 2),\r\n            horizonY: Math.ceil(height / 2),\r\n        } as Horizon);\r\n    }\r\n\r\n    public getLagMs() {\r\n        return this.lagMs;\r\n    }\r\n\r\n    private onInitPrimary(): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            this.loginPromiseResolver = resolve;\r\n            this.context.logger.debug(\"Primary socket connecting\");\r\n\r\n            let thirdPartyLogin = \"none\";\r\n            if (this.context.auth) {\r\n                thirdPartyLogin = JSON.stringify({ token: this.context.auth.tokens.game });\r\n            }\r\n\r\n            this.send({\r\n                c: CLIENT_PACKETS.LOGIN,\r\n                flag: this.context.settings.flag,\r\n                horizonX: Math.ceil(this.context.settings.horizonX),\r\n                horizonY: Math.ceil(this.context.settings.horizonY),\r\n                name: this.context.settings.playerName,\r\n                protocol: 5,\r\n                session: thirdPartyLogin,\r\n            });\r\n        });\r\n    }\r\n\r\n    private async afterLogin(msg: Login) {\r\n        // send regular ack messages to keep the connection alive\r\n        if (this.ackInterval) {\r\n            this.context.tm.clearInterval(this.ackInterval);\r\n        }\r\n        this.ackInterval = this.context.tm.setInterval(() => {\r\n            this.send({ c: CLIENT_PACKETS.ACK }, this.ackToBackup);\r\n            this.ackToBackup = !this.ackToBackup;\r\n        }, 1000); // original airmash has 50ms, but wights server has a 10 second ack timeout. So.\r\n\r\n        const token = msg.token as string;\r\n\r\n        if (this.backupClientIsConnected) {\r\n            this.backupClient.close();\r\n            this.backupClientIsConnected = false;\r\n        }\r\n        this.backupClient = await this.initWebSocket(false);\r\n        this.onInitBackup(token);\r\n\r\n        // send start info to game\r\n        this.context.eventQueue.pub(Events.SERVER_MESSAGE, msg);\r\n\r\n        // return from the await in init()\r\n        this.loginPromiseResolver();\r\n    }\r\n\r\n    private resetCalibration(newTime: number) {\r\n        this.serverClockCalibrationTimeResetStopwatch = new StopWatch();\r\n        this.serverClockCalibrationTime = newTime;\r\n        this.lagMs = 0;\r\n    }\r\n\r\n    private onInitBackup(token: any) {\r\n        this.context.logger.debug(\"Backup socket connecting\");\r\n        this.backupClientIsConnected = true;\r\n        this.send({\r\n            c: CLIENT_PACKETS.BACKUP,\r\n            token,\r\n        } as Backup, true);\r\n    }\r\n\r\n    private initWebSocket(isPrimary: boolean): Promise<WebSocket> {\r\n        return new Promise((resolve, reject) => {\r\n            const ws = this.context.webSocketFactory.create(this.context.settings.websocketUrl);\r\n            ws.binaryType = \"arraybuffer\";\r\n\r\n            ws.onopen = () => resolve(ws);\r\n            ws.onmessage = (msg: { data: ArrayBuffer }) => {\r\n                try {\r\n                    const result = unmarshaling.unmarshalServerMessage(msg.data);\r\n                    if (!result) {\r\n                        this.context.logger.warn(\"no result\", msg);\r\n                        return;\r\n                    }\r\n\r\n                    if (this.shouldDropMessage(result)) {\r\n                        return;\r\n                    }\r\n\r\n                    this.calibrateTime(result);\r\n\r\n                    // handle a few meta messages directly\r\n                    if (result.c === SERVER_PACKETS.PING) {\r\n                        const pingResult = result as Ping;\r\n                        this.send({ c: CLIENT_PACKETS.PONG, num: pingResult.num }, !isPrimary);\r\n\r\n                    } else if (result.c === SERVER_PACKETS.BACKUP) {\r\n\r\n                        this.context.logger.debug(\"backup client connected\");\r\n                        this.backupClientIsConnected = true;\r\n\r\n                    } else if (result.c === SERVER_PACKETS.LOGIN) {\r\n                        this.afterLogin(result);\r\n                    } else if (result.c === SERVER_PACKETS.PING_RESULT) {\r\n                        const pingResultResult = result as PingResult;\r\n                        this.context.state.ping = pingResultResult.ping;\r\n                        this.context.state.numPlayers = pingResultResult.playersgame;\r\n                        this.context.state.numPlayersTotal = pingResultResult.playerstotal;\r\n\r\n                    } else {\r\n                        // let most messages be handled by a subscriber\r\n                        this.context.eventQueue.pub(Events.SERVER_MESSAGE, result);\r\n                    }\r\n                } catch (error) {\r\n                    this.context.logger.error(\"Error receiving message\", error);\r\n                }\r\n            };\r\n            ws.onerror = (ev) => {\r\n                this.context.eventQueue.pub(Events.CONNECTION_ERROR, ev);\r\n            };\r\n            ws.onclose = () => {\r\n                this.context.eventQueue.pub(Events.CONNECTION_CLOSE, { isPrimary });\r\n            };\r\n            return ws;\r\n        });\r\n    }\r\n\r\n    private calibrateTime(msg: ProtocolPacket) {\r\n        if (!msg.clock) {\r\n            return;\r\n        }\r\n\r\n        const currentServerClock = msg.clock as number / 100;\r\n\r\n        const shouldResetCalibration = !this.serverClockCalibrationTimeResetStopwatch ||\r\n            this.serverClockCalibrationTimeResetStopwatch.elapsedMinutes > 5;\r\n\r\n        if (shouldResetCalibration) {\r\n            this.resetCalibration(currentServerClock);\r\n            return;\r\n        }\r\n\r\n        if (currentServerClock < this.lastServerClock) {\r\n            // only evaluate messages arriving in the right order\r\n            return;\r\n        }\r\n\r\n        this.lastServerClock = currentServerClock;\r\n\r\n        const elapsedOnServer = currentServerClock - this.serverClockCalibrationTime;\r\n        const elapsedHere = this.serverClockCalibrationTimeResetStopwatch.elapsedMs;\r\n\r\n        // if a message arrives that has an elapsedtime of 10 ms,\r\n        // while our local elapsedtime is at 20 ms, we have a 10-ms delay in receiving the messages\r\n        // this will be compensated by extrapolating this in the eventqueue\r\n        const diffInMs = elapsedHere - elapsedOnServer;\r\n\r\n        this.lagMs = diffInMs;\r\n    }\r\n\r\n    private shouldDropMessage(msg: ProtocolPacket): boolean {\r\n        if (!msg.id || !msg.clock || msg.id !== this.context.state.id) {\r\n            return false;\r\n        }\r\n\r\n        // do GC\r\n        if (this.lastReceivedMessagesGcStopwatch.elapsedSeconds > 5) {\r\n            for (const existingKey of Object.keys(this.lastReceivedMessages)) {\r\n                if (this.lastReceivedMessages[existingKey].elapsedSeconds > 1) {\r\n                    delete this.lastReceivedMessages[existingKey];\r\n                }\r\n            }\r\n        }\r\n\r\n        const key = `${msg.c}_${msg.clock}`;\r\n\r\n        if (this.lastReceivedMessages[key]) {\r\n            return true;\r\n        }\r\n\r\n        this.lastReceivedMessages[key] = new StopWatch();\r\n        return false;\r\n    }\r\n\r\n    private send(msg: ProtocolPacket, sendToBackup = false) {\r\n        const clientMgs = marshaling.marshalClientMessage(msg);\r\n        if (sendToBackup) {\r\n            if (this.backupClientIsConnected) {\r\n                this.backupClient.send(clientMgs);\r\n            }\r\n        } else {\r\n            if (this.client) {\r\n                this.client.send(clientMgs);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","import { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\n\r\nexport class KeyStateCache {\r\n    public key: KEY_CODES;\r\n    public state: boolean;\r\n    public lastPressed: StopWatch;\r\n\r\n    constructor(key: KEY_CODES, state: boolean) {\r\n        this.key = key;\r\n        this.state = state;\r\n        this.lastPressed = new StopWatch();\r\n    }\r\n}\r\n","import { Events } from \"./constants\";\r\nimport { EventMessage } from \"./event-message\";\r\n\r\nexport class EventQueue {\r\n    private queue: EventMessage[] = [];\r\n\r\n    public pub(ev: Events, args: any): void {\r\n        const msg = new EventMessage();\r\n        msg.type = ev;\r\n        msg.args = args;\r\n\r\n        this.queue.push(msg);\r\n    }\r\n\r\n    public dequeue(): EventMessage {\r\n        return this.queue.shift();\r\n    }\r\n\r\n}\r\n","import { Events } from \"./constants\";\r\n\r\nexport class EventMessage {\r\n    public type: Events;\r\n    public args: any;\r\n}\r\n","import { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport { BrowserContext } from \"../browser-impl/browser-context\";\r\n\r\n// this can't be a messagehandler, because the tick won't fire if browser is not visible\r\nexport class BrowserVisibilityHandler {\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public clearKeys(): void {\r\n        const me = this.context.state.getFocusedPlayer();\r\n        if (!me) {\r\n            return;\r\n        }\r\n\r\n        // send key-up for all keys\r\n        if (me.keystate.DOWN) {\r\n            this.context.connection.sendKey(KEY_CODES.DOWN, false);\r\n        }\r\n        if (me.keystate.UP) {\r\n            this.context.connection.sendKey(KEY_CODES.UP, false);\r\n        }\r\n        if (me.keystate.LEFT) {\r\n            this.context.connection.sendKey(KEY_CODES.LEFT, false);\r\n        }\r\n        if (me.keystate.RIGHT) {\r\n\r\n            this.context.connection.sendKey(KEY_CODES.RIGHT, false);\r\n        }\r\n\r\n        this.context.connection.sendKey(KEY_CODES.SPECIAL, false);\r\n        this.context.connection.sendKey(KEY_CODES.FIRE, false);\r\n    }\r\n}\r\n","import Cookies from \"js-cookie\";\r\nimport { FLAGS_CODE_TO_ISO } from \"../ab-protocol/src/lib\";\r\nimport { PlayerFlag } from \"../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\n\r\nexport class FlagCookieHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.PLAYER_CHANGE_FLAG];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerFlag;\r\n        if (msg.id !== this.context.state.id) {\r\n            return;\r\n        }\r\n        const flag = FLAGS_CODE_TO_ISO[\"\" + msg.flag];\r\n        Cookies.set(\"flag\", flag, { expires: 365 });\r\n    }\r\n}\r\n","/*! js-cookie v3.0.1 | MIT */\n;\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, (function () {\n    var current = global.Cookies;\n    var exports = global.Cookies = factory();\n    exports.noConflict = function () { global.Cookies = current; return exports; };\n  }()));\n}(this, (function () { 'use strict';\n\n  /* eslint-disable no-var */\n  function assign (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    }\n    return target\n  }\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n  var defaultConverter = {\n    read: function (value) {\n      if (value[0] === '\"') {\n        value = value.slice(1, -1);\n      }\n      return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n    },\n    write: function (value) {\n      return encodeURIComponent(value).replace(\n        /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n        decodeURIComponent\n      )\n    }\n  };\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n\n  function init (converter, defaultAttributes) {\n    function set (key, value, attributes) {\n      if (typeof document === 'undefined') {\n        return\n      }\n\n      attributes = assign({}, defaultAttributes, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n      }\n      if (attributes.expires) {\n        attributes.expires = attributes.expires.toUTCString();\n      }\n\n      key = encodeURIComponent(key)\n        .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n        .replace(/[()]/g, escape);\n\n      var stringifiedAttributes = '';\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue\n        }\n\n        stringifiedAttributes += '; ' + attributeName;\n\n        if (attributes[attributeName] === true) {\n          continue\n        }\n\n        // Considers RFC 6265 section 5.2:\n        // ...\n        // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n        //     character:\n        // Consume the characters of the unparsed-attributes up to,\n        // not including, the first %x3B (\";\") character.\n        // ...\n        stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n      }\n\n      return (document.cookie =\n        key + '=' + converter.write(value, key) + stringifiedAttributes)\n    }\n\n    function get (key) {\n      if (typeof document === 'undefined' || (arguments.length && !key)) {\n        return\n      }\n\n      // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all.\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var jar = {};\n      for (var i = 0; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var value = parts.slice(1).join('=');\n\n        try {\n          var foundKey = decodeURIComponent(parts[0]);\n          jar[foundKey] = converter.read(value, foundKey);\n\n          if (key === foundKey) {\n            break\n          }\n        } catch (e) {}\n      }\n\n      return key ? jar[key] : jar\n    }\n\n    return Object.create(\n      {\n        set: set,\n        get: get,\n        remove: function (key, attributes) {\n          set(\n            key,\n            '',\n            assign({}, attributes, {\n              expires: -1\n            })\n          );\n        },\n        withAttributes: function (attributes) {\n          return init(this.converter, assign({}, this.attributes, attributes))\n        },\n        withConverter: function (converter) {\n          return init(assign({}, this.converter, converter), this.attributes)\n        }\n      },\n      {\n        attributes: { value: Object.freeze(defaultAttributes) },\n        converter: { value: Object.freeze(converter) }\n      }\n    )\n  }\n\n  var api = init(defaultConverter, { path: '/' });\n  /* eslint-enable no-var */\n\n  return api;\n\n})));\n","import { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IChatArgs } from \"../../events/event-args/chat-args\";\r\nimport { IMessageToPlayerArgs } from \"../../events/event-args/message-to-player-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ChatRenderHandler implements IMessageHandler {\r\n    public handles = [Events.CHAT_RECEIVED, Events.MESSAGE_TO_PLAYER];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        if (ev.type === Events.MESSAGE_TO_PLAYER) {\r\n            const msg = ev.args as IMessageToPlayerArgs;\r\n            this.context.renderer.addMessageToPlayer(msg.message);\r\n        } else {\r\n            const chat = ev.args as IChatArgs;\r\n            const player = this.context.state.getPlayerName(chat.playerId);\r\n\r\n            this.context.renderer.addChat(chat.playerId, player, chat.chatType, chat.chatMessage, chat.to);\r\n        }\r\n    }\r\n}\r\n","import { CTF_TEAMS, SERVER_MESSAGE_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { ServerCustomCTFData } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class CtfGameOverRenderHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.CTF_GAME_OVER];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        const msg = ev.args as ServerCustomCTFData;\r\n\r\n        this.context.renderer.showServerMessage(SERVER_MESSAGE_TYPES.INFO, 5000,\r\n            `Game over!<br/>The ${msg.w === CTF_TEAMS.BLUE ? \"blue\" : \"red\"} team has won!`);\r\n    }\r\n}\r\n","import { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\n// renders stuff that is not that important each second\r\nexport class EachSecondRenderHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.EACH_SECOND];\r\n\r\n    constructor(private context: BrowserContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        if (!this.context.isBrowserVisible) {\r\n            return;\r\n        }\r\n        this.context.renderer.renderMinimap();\r\n        this.context.renderer.renderPlayerList();\r\n        this.context.renderer.showPing();\r\n        this.context.renderer.showStats();\r\n        this.context.renderer.hideServerMessageAfterTimeout();\r\n\r\n        // removed for now per issue #29 (https://github.com/spatiebot/ab-client/issues/29)\r\n        // this.context.connection.fetchDetailedScore();\r\n    }\r\n}\r\n","import { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IExplosionArgs } from \"../../events/event-args/iexplosion-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { ExplosionVisual } from \"../../models/explosion-visual\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ExplosionVisualizationHandler implements IMessageHandler {\r\n    public handles = [Events.EXPLOSION];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        if (!this.context.isBrowserVisible) {\r\n            return;\r\n        }\r\n\r\n        const expl = ev.args as IExplosionArgs;\r\n        const explosion = new ExplosionVisual();\r\n        explosion.pos = expl.pos;\r\n        explosion.type = expl.type;\r\n        this.context.state.addExplosion(explosion);\r\n    }\r\n}\r\n","import { MOB_TYPES } from \"../ab-protocol/src/lib\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { Pos } from \"./pos\";\r\n\r\nconst EXPLOSION_TIMEOUT_MS = 500;\r\nconst EXPLOSION_MAX_SIZE = 60;\r\nconst EXPLOSION_GROW_PER_MS =  EXPLOSION_MAX_SIZE / EXPLOSION_TIMEOUT_MS;\r\n\r\nexport class ExplosionVisual {\r\n    public pos: Pos;\r\n    public type: MOB_TYPES;\r\n\r\n    private stopwatch: StopWatch = new StopWatch();\r\n\r\n    public get isFinished(): boolean {\r\n        return this.stopwatch.elapsedMs > EXPLOSION_TIMEOUT_MS;\r\n    }\r\n\r\n    public get size(): number {\r\n        return this.stopwatch.elapsedMs * EXPLOSION_GROW_PER_MS;\r\n    }\r\n}\r\n","import { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { ITickArgs } from \"../../events/event-args/itick-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class GameRenderHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TICK];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        if (!this.context.isBrowserVisible) {\r\n            return;\r\n        }\r\n\r\n        const msg = ev.args as ITickArgs;\r\n        const isFirstTick = msg.frame === 1;\r\n\r\n        window.requestAnimationFrame(() => this.context.renderer.renderGame(isFirstTick));\r\n    }\r\n}\r\n","import { EventRepel } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { GoliFartVisual } from \"../../models/golifart-visual\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class GoliFartVisualizationHandler implements IMessageHandler {\r\n    public handles = [Events.PLAYER_REPEL];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const repel = ev.args as EventRepel;\r\n\r\n        const fartVisual = new GoliFartVisual();\r\n        fartVisual.player = this.context.state.getPlayerById(repel.id);\r\n        this.context.state.addFart(fartVisual);\r\n    }\r\n}\r\n","import { StopWatch } from \"../helpers/stopwatch\";\r\nimport { Player } from \"./player\";\r\n\r\nconst FART_TIMEOUT_MS = 150;\r\nconst FART_MAX_SIZE = 140;\r\nconst FART_START_SIZE = 120;\r\nconst FART_GROW_PER_MS = (FART_MAX_SIZE - FART_START_SIZE) / FART_TIMEOUT_MS;\r\n\r\nexport class GoliFartVisual {\r\n    public player: Player;\r\n\r\n    private stopwatch = new StopWatch();\r\n\r\n    public get isFinished(): boolean {\r\n        return this.stopwatch.elapsedMs > FART_TIMEOUT_MS;\r\n    }\r\n\r\n    public get size(): number {\r\n        return FART_START_SIZE + this.stopwatch.elapsedMs * FART_GROW_PER_MS;\r\n    }\r\n}\r\n","import { PlayerKill } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { KillVisual } from \"../../models/kill-visual\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class KillVisualizationHandler implements IMessageHandler {\r\n    public handles = [Events.PLAYER_KILLED];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const kill = ev.args as PlayerKill;\r\n\r\n        const killVisual = new KillVisual();\r\n        killVisual.pos = new Pos(kill.posX, kill.posY);\r\n        this.context.state.addKill(killVisual);\r\n    }\r\n}\r\n","import { StopWatch } from \"../helpers/stopwatch\";\r\nimport { Pos } from \"./pos\";\r\n\r\nconst KILL_TIMEOUT_MS = 500;\r\nconst KILL_MAX_SIZE = 60;\r\nconst KILL_GROW_PER_MS = KILL_MAX_SIZE / KILL_TIMEOUT_MS;\r\n\r\nexport class KillVisual {\r\n    public pos: Pos;\r\n\r\n    private stopwatch = new StopWatch();\r\n\r\n    public get isFinished(): boolean {\r\n        return this.stopwatch.elapsedMs > KILL_TIMEOUT_MS;\r\n    }\r\n\r\n    public get size(): number {\r\n        return this.stopwatch.elapsedMs * KILL_GROW_PER_MS;\r\n    }\r\n}\r\n","import { PROJECTILES_SPECS } from \"../../ab-assets/missile-constants\";\r\nimport { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { ITickArgs } from \"../../events/event-args/itick-args\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { CloudVisual } from \"../../models/cloud-visual\";\r\nimport { CloudVisualSpec } from \"../../models/cloud-visual-spec\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class MissileChemtrailHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TICK];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n\r\n        if (!this.context.isBrowserVisible) {\r\n            return;\r\n        }\r\n\r\n        const tick = ev.args as ITickArgs;\r\n\r\n        for (const missile of this.context.state.getMissiles()) {\r\n\r\n            const cloudVisualSpec = CloudVisualSpec.getFor(missile.mobType);\r\n\r\n            if (tick.frame % cloudVisualSpec.spawnFreq === 0) {\r\n                const cloud = new CloudVisual(cloudVisualSpec);\r\n                cloud.pos = new Pos(missile.pos);\r\n\r\n                const maxSpeed = PROJECTILES_SPECS[missile.mobType].maxSpeed;\r\n                const jumpX = missile.speed.y / maxSpeed * cloudVisualSpec.distribBandwidth;\r\n                const jumpY = missile.speed.x / maxSpeed * cloudVisualSpec.distribBandwidth;\r\n                cloud.pos.x += tick.frame % (cloudVisualSpec.spawnFreq * 2) === 0 ? -jumpX : jumpX;\r\n                cloud.pos.y += tick.frame % (cloudVisualSpec.spawnFreq * 2) === 0 ? jumpY : -jumpY;\r\n                this.context.state.addRocketTrailCloud(cloud);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { StopWatch } from \"../helpers/stopwatch\";\r\nimport { CloudVisualSpec } from \"./cloud-visual-spec\";\r\nimport { Pos } from \"./pos\";\r\n\r\nexport class CloudVisual {\r\n    public pos: Pos;\r\n\r\n    private readonly stopwatch: StopWatch = new StopWatch();\r\n\r\n    constructor(private spec: CloudVisualSpec) {\r\n    }\r\n\r\n    public get isFinished(): boolean {\r\n        return this.stopwatch.elapsedMs > this.spec.cloudTimeoutMs;\r\n    }\r\n\r\n    public get opacity(): number {\r\n        if (this.stopwatch.elapsedMs < this.spec.cloudGrowMs) {\r\n            // growing\r\n            return this.stopwatch.elapsedMs * this.spec.opacityGrowStep;\r\n        }\r\n        // shrinking\r\n        return Math.max(0, this.spec.opacityMax - this.stopwatch.elapsedMs * this.spec.opacityShrinkStep);\r\n    }\r\n\r\n    public get size(): number {\r\n        if (this.stopwatch.elapsedMs < this.spec.cloudGrowMs) {\r\n            // growing\r\n            return this.spec.sizeStart + this.stopwatch.elapsedMs * this.spec.sizeGrowStep;\r\n        }\r\n        // shrinking\r\n        return Math.max(0, this.spec.sizeMax - this.spec.sizeShrinkStep * this.stopwatch.elapsedMs);\r\n    }\r\n}\r\n","import { PROJECTILES_SPECS } from \"../ab-assets/missile-constants\";\r\nimport { MOB_TYPES } from \"../ab-protocol/src/lib\";\r\n\r\nconst specs = {};\r\n\r\nexport class CloudVisualSpec {\r\n\r\n    public static getFor(type: MOB_TYPES): CloudVisualSpec {\r\n        if (!specs[type]) {\r\n            specs[type] = new CloudVisualSpec(type);\r\n        }\r\n        return specs[type];\r\n    }\r\n\r\n    public readonly opacityMax = 0.22;\r\n\r\n    public readonly cloudTimeoutMs: number;\r\n    public readonly cloudGrowMs: number;\r\n\r\n    public readonly opacityGrowStep: number;\r\n    public readonly opacityShrinkStep: number;\r\n\r\n    public readonly sizeStart: number;\r\n    public readonly sizeMax: number;\r\n    public readonly sizeShrinkStep: number;\r\n    public readonly sizeGrowStep: number;\r\n\r\n    public readonly spawnFreq: number;\r\n    public readonly distribBandwidth: number;\r\n\r\n    constructor(type: MOB_TYPES) {\r\n        const scale = 1 + (PROJECTILES_SPECS[type].damage as number - 0.3) / 1.8;\r\n\r\n        this.cloudTimeoutMs = 800 * scale;\r\n        this.cloudGrowMs = 200 * scale;\r\n\r\n        this.opacityGrowStep = this.opacityMax / this.cloudGrowMs;\r\n        this.opacityShrinkStep = this.opacityMax / (this.cloudTimeoutMs - this.cloudGrowMs);\r\n\r\n        this.sizeStart = 5 * scale;\r\n        this.sizeMax = 15 * scale;\r\n\r\n        this.sizeShrinkStep = this.sizeMax / (this.cloudTimeoutMs - this.cloudGrowMs);\r\n        this.sizeGrowStep = (this.sizeMax - this.sizeStart) / this.cloudGrowMs;\r\n\r\n        this.spawnFreq = Math.ceil(2 * scale * 1.2);\r\n\r\n        this.distribBandwidth = Math.ceil(3 * scale);\r\n    }\r\n\r\n}\r\n","import { CHAT_TYPE } from \"../../ab-assets/chat-constants\";\r\nimport { SERVER_ERRORS, SERVER_MESSAGE_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { Error, ServerMessage } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ServerAnnouncementRenderHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.SERVER_ANNOUNCEMENT, Events.SERVER_ERROR];\r\n\r\n    constructor(private context: BrowserContext) {\r\n\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        let msg: ServerMessage;\r\n        if (ev.type === Events.SERVER_ANNOUNCEMENT) {\r\n            msg = ev.args as ServerMessage;\r\n        } else {\r\n            const error = ev.args as Error;\r\n            msg = { type: SERVER_MESSAGE_TYPES.ALERT, duration: 4000 } as ServerMessage;\r\n\r\n            switch (error.error) {\r\n                case SERVER_ERRORS.ACCOUNT_BANNED:\r\n                    msg.text = \"Account is banned\";\r\n                    break;\r\n                case SERVER_ERRORS.AFK_DISCONNECT:\r\n                    msg.text = \"Disconnected, away too long.\";\r\n                    break;\r\n                case SERVER_ERRORS.ALREADY_LOGGED_IN:\r\n                    msg.text = \"You are already logged in.\";\r\n                    break;\r\n                case SERVER_ERRORS.CHAT_SPAMMING:\r\n                    msg.text = \"Don't spam!\";\r\n                    break;\r\n                case SERVER_ERRORS.FLAG_CHANGE_TOO_FAST:\r\n                    msg.text = \"Wait before changing your flag.\";\r\n                    break;\r\n                case SERVER_ERRORS.FORBIDDEN_TO_CHANGE_PLANE_IN_BTR:\r\n                    msg.text = \"Can't change aircraft in BTR.\";\r\n                    break;\r\n                case SERVER_ERRORS.GLOBAL_BAN:\r\n                    msg.text = \"You have been banned.\";\r\n                    break;\r\n                case SERVER_ERRORS.INCORRECT_PROTOCOL:\r\n                    msg.text = \"Your client uses an incorrect protocol version.\";\r\n                    break;\r\n                case SERVER_ERRORS.INVALID_LOGIN_DATA:\r\n                    msg.text = \"Invalid login data.\";\r\n                    break;\r\n                case SERVER_ERRORS.NOT_ENOUGH_UPGRADES:\r\n                    msg.text = \"Not enough upgrades\";\r\n                    break;\r\n                case SERVER_ERRORS.PACKET_FLOODING_BAN:\r\n                    msg.text = \"Banned for packet flooding.\";\r\n                    break;\r\n                case SERVER_ERRORS.PACKET_FLOODING_DISCONNECT:\r\n                    msg.text = \"Disconnected for packet flooding.\";\r\n                    break;\r\n                case SERVER_ERRORS.PLAYER_KICKED:\r\n                    msg.text = \"You have been kicked.\";\r\n                    break;\r\n                case SERVER_ERRORS.REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN:\r\n                    msg.text = \"Two seconds of inactivity and full health required to respawn.\";\r\n                    break;\r\n                case SERVER_ERRORS.REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE:\r\n                    msg.text = \"Two seconds of inactivity and full health required to spectate.\";\r\n                    break;\r\n                case SERVER_ERRORS.UNKNOWN_COMMAND:\r\n                    msg.text = \"Unknown command\";\r\n                    break;\r\n                case SERVER_ERRORS.UNKNOWN_ERROR:\r\n                    msg.text = \"Unknown error\";\r\n                    break;\r\n\r\n            }\r\n        }\r\n\r\n        this.context.renderer.showServerMessage(msg.type, msg.duration, msg.text);\r\n\r\n        // also show server messages in the chat.\r\n        const div = document.createElement(\"div\");\r\n        div.innerHTML = msg.text;\r\n        msg.text = div.innerText; // remove html elements\r\n        this.context.renderer.addChat(null, \"Server\", CHAT_TYPE.CHAT, msg.text, null);\r\n    }\r\n}\r\n","import { SERVER_MESSAGE_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { PlayerKill } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nconst KILL_MSG_DURATION_MS = 1000;\r\n\r\nexport class ShakeAndShowMessageOnKillHandler implements IMessageHandler {\r\n    public handles = [Events.PLAYER_KILLED];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerKill;\r\n\r\n        if (!msg.killer) {\r\n            // spectate or switching aircraft\r\n            return;\r\n        }\r\n\r\n        let text = \"\";\r\n        if (msg.killer === this.context.state.id) {\r\n            text = `You have destroyed ${this.context.state.getPlayerName(msg.id)}`;\r\n        } else if (msg.id === this.context.state.id) {\r\n            text = `Destroyed by ${this.context.state.getPlayerName(msg.killer)}`;\r\n            this.context.renderer.renderKill();\r\n        }\r\n\r\n        if (text) {\r\n            this.context.renderer.showServerMessage(SERVER_MESSAGE_TYPES.INFO, KILL_MSG_DURATION_MS, text);\r\n        }\r\n    }\r\n}\r\n","import { PlayerHit } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { BrowserContext } from \"../../browser-impl/browser-context\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nexport class ShakeOnHitHandler implements IMessageHandler {\r\n    public handles = [Events.PLAYER_HIT];\r\n\r\n    constructor(private context: BrowserContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n        const msg = ev.args as PlayerHit;\r\n\r\n        if (msg.players.find((x) => x.id === this.context.state.id)) {\r\n            this.context.renderer.renderHit();\r\n        }\r\n    }\r\n}\r\n","import { Events } from \"../events/constants\";\r\nimport { IBrowserVisibilityArgs } from \"../events/event-args/browser-visibility-args\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { BrowserContext } from \"./browser-context\";\r\n\r\n/**\r\n * specific initializations needed for using the app in the browser\r\n */\r\nexport class BrowserInitialization {\r\n\r\n    constructor(private context: BrowserContext) {\r\n\r\n    }\r\n\r\n    public detectVisibilityChange() {\r\n        let hidden: string;\r\n        let visibilityChange: string;\r\n        if (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support\r\n            hidden = \"hidden\";\r\n            visibilityChange = \"visibilitychange\";\r\n        } else if (typeof (document as any).msHidden !== \"undefined\") {\r\n            hidden = \"msHidden\";\r\n            visibilityChange = \"msvisibilitychange\";\r\n        } else if (typeof (document as any).webkitHidden !== \"undefined\") {\r\n            hidden = \"webkitHidden\";\r\n            visibilityChange = \"webkitvisibilitychange\";\r\n        }\r\n\r\n        const handleVisibilityChange = () => {\r\n            const isVisible = !document[hidden];\r\n            // this can't be published to the eventqueue, because the tick interval won't fire\r\n            // if the browserwindow isn't visible (in most browsers).\r\n            this.context.setBrowserVisibility(isVisible);\r\n        };\r\n\r\n        document.addEventListener(visibilityChange, handleVisibilityChange, false);\r\n\r\n        // set initial value\r\n        this.context.isBrowserVisible = !document[hidden];\r\n    }\r\n\r\n    public throttleZoom() {\r\n        // throttle Ctrl+Scroll to prevent flooding\r\n        const zoomThrottleStopwatch = new StopWatch();\r\n        document.getElementById(\"root\").addEventListener(\"wheel\", (e) => {\r\n            if (e.ctrlKey) {\r\n                if (zoomThrottleStopwatch.elapsedSeconds < 1) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n                zoomThrottleStopwatch.start();\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { ILogger } from \"../app-context/ilogger\";\r\n\r\nexport class BrowserLogger implements ILogger {\r\n    public debug(msg: string, ...args: any[]): void {\r\n        if ((window as any).debug) {\r\n            this.log(msg, ...args);\r\n        }\r\n    }\r\n    public info(msg: string, ...args: any[]): void {\r\n        this.log(msg, ...args);\r\n    }\r\n    public warn(msg: string, ...args: any[]): void {\r\n        this.log(msg, ...args);\r\n    }\r\n    public error(msg: string, ...args: any[]): void {\r\n        this.log(msg, ...args);\r\n    }\r\n    public fatal(msg: string, ...args: any[]): void {\r\n        this.log(msg, ...args);\r\n    }\r\n    public log(msg: string, ...args: any[]) {\r\n        // tslint:disable-next-line: no-console\r\n        console.log(msg, ...args);\r\n    }\r\n\r\n}\r\n","import { IWebSocketFactory } from \"../app-context/iwebsocket-factory\";\r\n\r\nexport class BrowserWebSocketFactory implements IWebSocketFactory {\r\n    public create(url: string): WebSocket {\r\n        return new WebSocket(url);\r\n    }\r\n}\r\n","import { CHAT_TYPE } from \"../../ab-assets/chat-constants\";\r\nimport { GAME_TYPES, SERVER_MESSAGE_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { PeriodicLogger } from \"../../helpers/periodic-logger\";\r\nimport { StopWatch } from \"../../helpers/stopwatch\";\r\nimport { ClippedView } from \"../clipped-view\";\r\nimport { BackgroundRenderer } from \"./background-renderer\";\r\nimport { DebugInfoRenderer } from \"./debug-info-renderer\";\r\nimport { EffectsRenderer } from \"./effects-renderer\";\r\nimport { FlagRenderer } from \"./flag-renderer\";\r\nimport { MinimapRenderer } from \"./minimap-renderer\";\r\nimport { MissilesRenderer } from \"./missiles-renderer\";\r\nimport { PathRenderer } from \"./path-renderer\";\r\nimport { PlayerListRenderer } from \"./playerlist-renderer\";\r\nimport { PlayersRenderer } from \"./players-renderer\";\r\nimport { StatsRenderer } from \"./stats-renderer\";\r\nimport { UpcratesRenderer } from \"./upcrates-renderer\";\r\nimport { WallsRenderer } from \"./walls-renderer\";\r\n\r\nexport class Renderer {\r\n    private canvas: HTMLCanvasElement;\r\n    private canvasContext: CanvasRenderingContext2D;\r\n\r\n    private chatBox: HTMLDivElement;\r\n    private serverMessage: HTMLDivElement;\r\n    private serverMessageStopwatch: StopWatch;\r\n\r\n    private pingElement: HTMLSpanElement;\r\n\r\n    private clip: ClippedView;\r\n    private playersRenderer: PlayersRenderer;\r\n    private wallsRenderer: WallsRenderer;\r\n    private missilesRenderer: MissilesRenderer;\r\n    private explosionsRenderer: EffectsRenderer;\r\n    private upcratesRenderer: UpcratesRenderer;\r\n    private backgroundRenderer: BackgroundRenderer;\r\n    private minimapRenderer: MinimapRenderer;\r\n    private playerListRenderer: PlayerListRenderer;\r\n    private flagRenderer: FlagRenderer;\r\n    private statsRenderer: StatsRenderer;\r\n    private debugInfoRenderer: DebugInfoRenderer;\r\n    private pathRenderer: PathRenderer;\r\n\r\n    private shakeTimeout: any;\r\n\r\n    private ignoredPlayers: number[] = [];\r\n    private periodicLogger: PeriodicLogger;\r\n\r\n    constructor(private context: IContext) {\r\n\r\n        this.getUiElements();\r\n\r\n        this.periodicLogger = new PeriodicLogger(context);\r\n        this.clip = new ClippedView(context);\r\n\r\n        this.backgroundRenderer = new BackgroundRenderer(this.clip, context);\r\n        this.wallsRenderer = new WallsRenderer(this.clip, context);\r\n        this.flagRenderer = new FlagRenderer(context, this.clip);\r\n        this.upcratesRenderer = new UpcratesRenderer(context, this.clip);\r\n        this.playersRenderer = new PlayersRenderer(context, this.clip);\r\n        this.missilesRenderer = new MissilesRenderer(context, this.clip);\r\n        this.explosionsRenderer = new EffectsRenderer(context, this.clip);\r\n\r\n        this.minimapRenderer = new MinimapRenderer(context);\r\n        this.playerListRenderer = new PlayerListRenderer(context);\r\n        this.statsRenderer = new StatsRenderer(context);\r\n\r\n        this.debugInfoRenderer = new DebugInfoRenderer(context);\r\n        this.pathRenderer = new PathRenderer(this.clip, context);\r\n    }\r\n\r\n    public addMessageToPlayer(msg: string) {\r\n        this.chatBox.innerHTML += `<div class=\"chat chat-warning\">${msg}</div>`;\r\n        this.chatBox.scrollTop = this.chatBox.scrollHeight;\r\n    }\r\n\r\n    public addChat(playerId: number, playerName: string, chatType: CHAT_TYPE, msg: string, to: number) {\r\n        if (this.ignoredPlayers.indexOf(playerId) !== -1) {\r\n            return;\r\n        }\r\n\r\n        playerName = playerName.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n        msg = msg.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n\r\n        if (chatType === CHAT_TYPE.SAY) {\r\n            this.playersRenderer.addSay(playerId, msg);\r\n        } else {\r\n            let type = \"\";\r\n            let typeLabel = \"\";\r\n            if (chatType === CHAT_TYPE.TEAM) {\r\n                type = \"chat-team\";\r\n                typeLabel = \" =&gt; team\";\r\n            } else if (chatType === CHAT_TYPE.WHISPER) {\r\n                type = \"chat-whisper\";\r\n                if (playerId === this.context.state.myPlayerId) { // state.id can be the spectatered player\r\n                    const other = this.context.state.getPlayerName(to);\r\n                    typeLabel = \" =&gt; \" + other;\r\n                } else {\r\n                    typeLabel = \" =&gt; me\";\r\n                }\r\n            }\r\n\r\n            const safePlayerName = encodeURI(playerName);\r\n\r\n            this.chatBox.innerHTML += `<div class=\"chat ${type}\"><strong class=\"player-name\" ` +\r\n                `data-name=\"${safePlayerName}\" data-id=\"${playerId}\">` +\r\n                `${playerName}${typeLabel}</strong>: ${msg}</div>`;\r\n            this.chatBox.scrollTop = this.chatBox.scrollHeight;\r\n        }\r\n\r\n    }\r\n\r\n    public showServerMessage(type: SERVER_MESSAGE_TYPES, durationMs: number, text: string) {\r\n        this.serverMessageStopwatch = new StopWatch(durationMs);\r\n        this.serverMessage.innerHTML = text;\r\n    }\r\n\r\n    public hideServerMessageAfterTimeout() {\r\n        if (!this.serverMessageStopwatch) {\r\n            return;\r\n        }\r\n\r\n        if (this.serverMessageStopwatch.hasTimedOut) {\r\n            this.serverMessage.innerHTML = \"\";\r\n            this.serverMessageStopwatch = null;\r\n        }\r\n    }\r\n\r\n    public showStats() {\r\n        this.statsRenderer.render();\r\n    }\r\n\r\n    public showPing() {\r\n        this.pingElement.innerText = \"\" + this.context.state.ping + \" ms\";\r\n    }\r\n\r\n    public highlightPlayerOnMinimap(playerId: number) {\r\n        this.minimapRenderer.highlight(playerId);\r\n    }\r\n\r\n    public ignorePlayer(playerId: number) {\r\n        if (this.ignoredPlayers.indexOf(playerId) === -1 && playerId !== this.context.state.id) {\r\n            this.ignoredPlayers.push(playerId);\r\n        }\r\n    }\r\n\r\n    public unignorePlayer(playerId: number) {\r\n        this.ignoredPlayers = this.ignoredPlayers.filter((x) => x !== playerId);\r\n    }\r\n\r\n    public renderMinimap() {\r\n        this.minimapRenderer.render();\r\n    }\r\n\r\n    public renderPlayerList() {\r\n        this.playerListRenderer.render();\r\n    }\r\n\r\n    public renderHit() {\r\n        this.canvas.className = \"shake-hit\";\r\n        this.stopShaking();\r\n    }\r\n\r\n    public renderKill() {\r\n        this.canvas.className = \"shake-kill\";\r\n        this.stopShaking();\r\n    }\r\n\r\n    public renderGame(isFirstTick: boolean): void {\r\n        if (isFirstTick) {\r\n            // this may be the first tick after a panic,\r\n            // purge any unnecessary stuff to keep up.\r\n            this.context.state.purgeAfterPanic();\r\n        }\r\n\r\n        if (!this.context.state.getFocusedPlayer()) {\r\n            return;\r\n        }\r\n\r\n        const canvasCtx = this.canvasContext;\r\n        this.clip.setClip(this.canvas);\r\n\r\n        // background\r\n        this.backgroundRenderer.renderBackground(canvasCtx);\r\n        // draw walls\r\n        this.wallsRenderer.renderWalls(canvasCtx);\r\n        this.pathRenderer.renderPath(canvasCtx); // bot path\r\n        // upgrade and powerup crates\r\n        this.upcratesRenderer.renderUpcrates(canvasCtx);\r\n        // draw players\r\n        this.playersRenderer.renderPlayers(canvasCtx);\r\n        // draw missiles\r\n        this.missilesRenderer.renderMissiles(canvasCtx);\r\n        // explosions and kills\r\n        this.explosionsRenderer.renderExplosions(canvasCtx);\r\n\r\n        if (this.context.gameType === GAME_TYPES.CTF) {\r\n            this.flagRenderer.render(canvasCtx);\r\n        }\r\n\r\n        this.debugInfoRenderer.render();\r\n    }\r\n\r\n    private getUiElements() {\r\n        this.canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\n        this.canvasContext = this.canvas.getContext(\"2d\");\r\n\r\n        this.chatBox = document.getElementById(\"chat\") as HTMLDivElement;\r\n        this.serverMessage = document.getElementById(\"server-message\") as HTMLDivElement;\r\n        this.pingElement = document.getElementById(\"stats-ping\") as HTMLSpanElement;\r\n    }\r\n\r\n    private stopShaking() {\r\n        if (this.shakeTimeout) {\r\n            this.context.tm.clearTimeout(this.shakeTimeout);\r\n        }\r\n        this.shakeTimeout = this.context.tm.setTimeout(() => this.canvas.className = \"\", 1000);\r\n    }\r\n\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { IPos } from \"../models/ipos\";\r\nimport { Pos } from \"../models/pos\";\r\n\r\nconst SHAKE_MARGIN = 20;\r\nconst SHAKE_MARGIN_CSS = `-${SHAKE_MARGIN}px`;\r\nconst SHAKE_MARGIN_DOUBLE = SHAKE_MARGIN * 2;\r\n\r\nexport class ClippedView {\r\n\r\n    private clipRectangle: Pos[];\r\n    private lastWidth: number;\r\n    private lastHeight: number;\r\n    private zoom: number;\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public setClip(canvas: HTMLCanvasElement): void {\r\n\r\n        // add margin of 25 on each side to allow for shaking\r\n        canvas.width = window.innerWidth + SHAKE_MARGIN_DOUBLE;\r\n        canvas.height = window.innerHeight + SHAKE_MARGIN_DOUBLE;\r\n        canvas.style.left = SHAKE_MARGIN_CSS;\r\n        canvas.style.top = SHAKE_MARGIN_CSS;\r\n\r\n        const zoom = this.context.settings.zoom;\r\n\r\n        if (this.lastWidth !== canvas.width || this.lastHeight !== canvas.height) {\r\n            const screenSizeX = canvas.width / zoom;\r\n            const screenSizeY = canvas.height / zoom;\r\n            this.context.connection.sendScreenSize(screenSizeX, screenSizeY);\r\n            this.lastWidth = canvas.width;\r\n            this.lastHeight = canvas.height;\r\n\r\n            // this is for sending the correct initial values\r\n            this.context.settings.horizonX = screenSizeX / 2;\r\n            this.context.settings.horizonY = screenSizeY / 2;\r\n        }\r\n\r\n        const myPos = this.context.state.getFocusedPlayer().pos;\r\n        const halfWidth = (canvas.width / zoom) / 2;\r\n        const halfHeight = (canvas.height / zoom) / 2;\r\n        this.clipRectangle = [\r\n            new Pos(myPos.x - halfWidth, myPos.y - halfHeight),\r\n            new Pos(myPos.x + halfWidth, myPos.y + halfHeight),\r\n        ];\r\n\r\n        this.zoom = zoom;\r\n    }\r\n\r\n    public isVisible(pos: IPos): boolean {\r\n        return this.clipRectangle[0].x < pos.x && this.clipRectangle[1].x > pos.x &&\r\n            this.clipRectangle[0].y < pos.y && this.clipRectangle[1].y > pos.y;\r\n    }\r\n\r\n    public translate(pos: IPos): Pos {\r\n        return new Pos((pos.x - this.clipRectangle[0].x) * this.zoom, (pos.y - this.clipRectangle[0].y) * this.zoom);\r\n    }\r\n\r\n    public scale(x: number) {\r\n        return x * this.zoom;\r\n    }\r\n\r\n    public getClipRectangle(): Pos[] {\r\n        // make a copy to prevent altering\r\n        return [\r\n            new Pos(this.clipRectangle[0]),\r\n            new Pos(this.clipRectangle[1]),\r\n        ];\r\n    }\r\n\r\n    public getClipSize(): Pos {\r\n        return new Pos(this.lastWidth, this.lastHeight);\r\n    }\r\n}\r\n","import { MAP_SIZE } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\ndeclare const constants: any;\r\n\r\nconst GRID_DISTANCE = 100;\r\n// the background image is 4x too small for performance reasons\r\nconst MAP_SCALE = .25;\r\n\r\nexport class BackgroundRenderer {\r\n    private backgroundImage: HTMLImageElement;\r\n    constructor(private clip: ClippedView, private context: IContext) {\r\n        this.backgroundImage = document.getElementById(\"map\") as HTMLImageElement;\r\n    }\r\n\r\n    public renderBackground(context: CanvasRenderingContext2D): void {\r\n\r\n        const clipRect = this.clip.getClipRectangle();\r\n\r\n        // draw background if using bitmaps only\r\n        if (this.context.settings.useBitmaps) {\r\n            const clipSize = new Pos(clipRect[1].x - clipRect[0].x, clipRect[1].y - clipRect[0].y);\r\n            context.drawImage(this.backgroundImage,\r\n                (MAP_SIZE.WIDTH / 2 + clipRect[0].x) * MAP_SCALE, (MAP_SIZE.HEIGHT / 2 + clipRect[0].y) * MAP_SCALE,\r\n                clipSize.x * MAP_SCALE, clipSize.y * MAP_SCALE,\r\n                0, 0, this.clip.scale(clipSize.x), this.clip.scale(clipSize.y));\r\n        }\r\n\r\n        // draw a grid\r\n        context.fillStyle = constants.BACKGROUND_GRID_COLOR;\r\n        const gridDistance = this.clip.scale(GRID_DISTANCE);\r\n        for (let y = clipRect[0].y - (clipRect[0].y % gridDistance); y < clipRect[1].y; y += gridDistance) {\r\n            for (let x = clipRect[0].x - (clipRect[0].x % gridDistance); x < clipRect[1].x; x += gridDistance) {\r\n                const pos = this.clip.translate(new Pos(x, y));\r\n                context.fillRect(pos.x, pos.y, 1, 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\n\r\nexport class DebugInfoRenderer {\r\n    private debugPanel: HTMLDivElement;\r\n    private skippedFramesElement: HTMLSpanElement;\r\n\r\n    constructor(private context: IContext) {\r\n        this.debugPanel = document.getElementById(\"debugPanel\") as HTMLDivElement;\r\n    }\r\n\r\n    public render(): void {\r\n        if (!this.context.settings.shouldShowDebugInfo) {\r\n            return;\r\n        }\r\n\r\n        const lag = this.context.connection.getLagMs();\r\n        const lagText = lag.toLocaleString(\"en-us\", {\r\n            maximumFractionDigits: 2,\r\n            minimumFractionDigits: 2,\r\n        });\r\n\r\n        const skippedFramesText = this.context.state.skippedFrames.toString();\r\n\r\n        this.debugPanel.innerHTML = `Lag: ${lagText}\\nSkipped frames: ${skippedFramesText}\\n` +\r\n            `My id: ${this.context.state.id}\\n` +\r\n            `GameType: ${this.context.gameType}`;\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\ndeclare const constants: any;\r\n\r\nexport class EffectsRenderer {\r\n    constructor(private context: IContext, private clip: ClippedView) {\r\n\r\n    }\r\n\r\n    public renderExplosions(context: CanvasRenderingContext2D) {\r\n        context.fillStyle = constants.EFFECTS_EXPLOSION_COLOR;\r\n        for (const explosion of this.context.state.getActiveExplosions()) {\r\n            const pos = explosion.pos;\r\n            if (!pos) {\r\n                continue;\r\n            }\r\n            if (this.clip.isVisible(pos)) {\r\n                const clipPos = this.clip.translate(pos);\r\n                context.beginPath();\r\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(explosion.size), 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n\r\n        // kills\r\n        context.fillStyle = constants.EFFECTS_KILL_COLOR;\r\n        for (const kill of this.context.state.getActiveKills()) {\r\n            const pos = kill.pos;\r\n            if (!pos) {\r\n                continue;\r\n            }\r\n            if (this.clip.isVisible(pos)) {\r\n                const clipPos = this.clip.translate(pos);\r\n                context.beginPath();\r\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(kill.size), 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n\r\n        // farts\r\n        context.fillStyle = constants.EFFECTS_FART_COLOR;\r\n        for (const fart of this.context.state.getActiveFarts()) {\r\n            if (!fart.player) {\r\n                continue;\r\n            }\r\n            const pos = fart.player.pos;\r\n            if (!pos) {\r\n                continue;\r\n            }\r\n\r\n            if (this.clip.isVisible(pos)) {\r\n                const clipPos = this.clip.translate(pos);\r\n                context.beginPath();\r\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(fart.size), 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n\r\n        // missile clouds\r\n        for (const cloud of this.context.state.getActiveRocketTrailClouds()) {\r\n            const pos = cloud.pos;\r\n            if (!pos) {\r\n                continue;\r\n            }\r\n            if (this.clip.isVisible(pos)) {\r\n                const opacity = cloud.opacity;\r\n                if (opacity === 0) {\r\n                    continue;\r\n                }\r\n                context.fillStyle = `rgba(${constants.EFFECTS_MISSILE_BASE_COLOR}, ${opacity})`;\r\n                const clipPos = this.clip.translate(pos);\r\n                context.beginPath();\r\n                const cloudSize = this.clip.scale(cloud.size);\r\n                context.arc(clipPos.x, clipPos.y, cloudSize, 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { FLAG_DEFAULT_POSITION } from \"../../ab-assets/ctf-constants\";\r\nimport { CTF_FLAG_STATE, CTF_TEAMS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { CtfTeam } from \"../../models/ctf-team\";\r\nimport { IPos } from \"../../models/ipos\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\nconst CTF_BASE_SIZE = 120;\r\nconst CTF_BASE_HALF_SIZE = CTF_BASE_SIZE / 2;\r\nconst CTF_BASE_LINE_WIDTH = 8;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class FlagRenderer {\r\n    private readonly blueFlag: HTMLImageElement;\r\n    private readonly redFlag: HTMLImageElement;\r\n\r\n    constructor(private context: IContext, private clip: ClippedView) {\r\n        this.blueFlag = document.getElementById(\"blue-flag\") as HTMLImageElement;\r\n        this.redFlag = document.getElementById(\"red-flag\") as HTMLImageElement;\r\n    }\r\n\r\n    public render(ctx: CanvasRenderingContext2D): void {\r\n\r\n        const redTeam = this.context.state.getCtfTeam(CTF_TEAMS.RED);\r\n        const blueTeam = this.context.state.getCtfTeam(CTF_TEAMS.BLUE);\r\n\r\n        this.renderFlag(redTeam, this.redFlag, ctx);\r\n        this.renderFlag(blueTeam, this.blueFlag, ctx);\r\n\r\n        this.renderBase(ctx, FLAG_DEFAULT_POSITION.blue, constants.CTF_BLUE_TEAM_COLOR);\r\n        this.renderBase(ctx, FLAG_DEFAULT_POSITION.red, constants.CTF_RED_TEAM_COLOR);\r\n    }\r\n\r\n    private renderBase(ctx: CanvasRenderingContext2D, pos: IPos, color: string) {\r\n        const leftUpper = new Pos(pos.x - CTF_BASE_HALF_SIZE, pos.y - CTF_BASE_HALF_SIZE);\r\n        const rightBottom = new Pos(pos.x + CTF_BASE_HALF_SIZE, pos.y + CTF_BASE_HALF_SIZE);\r\n        if (!this.clip.isVisible(leftUpper) && !this.clip.isVisible(rightBottom)) {\r\n            return;\r\n        }\r\n\r\n        const scaledBasePos = this.clip.translate(pos);\r\n        const scaledBaseSize = this.clip.scale(CTF_BASE_SIZE);\r\n        const halfBaseSize = scaledBaseSize / 2;\r\n        ctx.strokeStyle = color;\r\n        ctx.lineWidth = this.clip.scale(CTF_BASE_LINE_WIDTH);\r\n        ctx.lineJoin = \"round\";\r\n        ctx.strokeRect(\r\n            scaledBasePos.x - halfBaseSize, scaledBasePos.y - halfBaseSize,\r\n            scaledBaseSize, scaledBaseSize);\r\n    }\r\n\r\n    private renderFlag(team: CtfTeam, flag: HTMLImageElement, ctx: CanvasRenderingContext2D) {\r\n        let pos = team.flagPos;\r\n\r\n        if (!pos) {\r\n            return;\r\n        }\r\n\r\n        let isFlagVisible: boolean;\r\n        let isFlagBeingCarried = false;\r\n        if (team.flagState === CTF_FLAG_STATE.DYNAMIC) {\r\n            // flag is on the move\r\n            const carrier = this.context.state.getPlayerById(team.flagTakenById);\r\n            if (carrier) {\r\n                pos = carrier.mostReliablePos;\r\n                isFlagVisible = carrier.isVisibleOnScreen && this.clip.isVisible(pos);\r\n                isFlagBeingCarried = true;\r\n            }\r\n        } else {\r\n            isFlagVisible = this.clip.isVisible(pos);\r\n        }\r\n\r\n        if (isFlagVisible) {\r\n            const clippedFlagPos = this.clip.translate(pos);\r\n            const scaledWidth = this.clip.scale(flag.width);\r\n            const scaledHeight = this.clip.scale(flag.height);\r\n            ctx.drawImage(flag, 0, 0, flag.width, flag.height,\r\n                clippedFlagPos.x - scaledWidth / 2 + (isFlagBeingCarried ? scaledWidth / 2 : 0),\r\n                clippedFlagPos.y - scaledHeight / 2 - (isFlagBeingCarried ? scaledHeight / 2 : 0),\r\n                scaledWidth, scaledHeight);\r\n        }\r\n    }\r\n}\r\n","export const FLAG_DEFAULT_POSITION = {\r\n    blue: { x: -9670, y: -1470 },\r\n    red: { x: 8600, y: -940 },\r\n};\r\n","import { FLAG_DEFAULT_POSITION } from \"../../ab-assets/ctf-constants\";\r\nimport { CTF_FLAG_STATE, CTF_TEAMS, GAME_TYPES, MAP_SIZE, PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { CtfTeam } from \"../../models/ctf-team\";\r\nimport { IPos } from \"../../models/ipos\";\r\nimport { Pos } from \"../../models/pos\";\r\n\r\nconst MARKER_SIZE = 3;\r\nconst MY_RECT_WIDTH = 15;\r\nconst MY_RECT_HEIGHT = 10;\r\n\r\nconst HALF_MAP_WIDTH = MAP_SIZE.WIDTH / 2;\r\nconst HALF_MAP_HEIGHT = MAP_SIZE.HEIGHT / 2;\r\n\r\nconst CTF_BASE_SIZE = 4;\r\nconst CTF_FLAG_SIZE = 10;\r\n\r\nconst HIGHLIGH_SIZE = 2 * MARKER_SIZE;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class MinimapRenderer {\r\n\r\n    private canvas: HTMLCanvasElement;\r\n    private canvasContext: CanvasRenderingContext2D;\r\n    private readonly blueFlag: HTMLImageElement;\r\n    private readonly redFlag: HTMLImageElement;\r\n\r\n    private playerToHighlight: number;\r\n\r\n    constructor(private context: IContext) {\r\n        this.canvas = document.getElementById(\"minimap-canvas\") as HTMLCanvasElement;\r\n        this.canvasContext = this.canvas.getContext(\"2d\");\r\n        this.blueFlag = document.getElementById(\"blue-flag\") as HTMLImageElement;\r\n        this.redFlag = document.getElementById(\"red-flag\") as HTMLImageElement;\r\n    }\r\n\r\n    public highlight(playerId: number) {\r\n        this.playerToHighlight = playerId;\r\n    }\r\n\r\n    public render(): void {\r\n        this.canvasContext.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        const scaleX = this.canvas.width / MAP_SIZE.WIDTH;\r\n        const scaleY = this.canvas.height / MAP_SIZE.HEIGHT;\r\n\r\n        const myId = this.context.state.id;\r\n\r\n        for (const player of this.context.state.getPlayers()) {\r\n            if (player.status === PLAYER_STATUS.INACTIVE) {\r\n                continue;\r\n            }\r\n\r\n            const pos = new Pos(\r\n                (player.mostReliablePos.x + HALF_MAP_WIDTH) * scaleX,\r\n                (player.mostReliablePos.y + HALF_MAP_HEIGHT) * scaleY);\r\n\r\n            if (player.id === myId) {\r\n                this.canvasContext.strokeStyle = constants.MINIMAP_HIGHLIGHT_COLOR;\r\n                this.canvasContext.strokeRect(\r\n                    pos.x - MY_RECT_WIDTH / 2, pos.y - MY_RECT_HEIGHT / 2,\r\n                    MY_RECT_WIDTH, MY_RECT_HEIGHT);\r\n            } else {\r\n                let fillStyle = constants.MINIMAP_FFA_PLAYER_COLOR;\r\n                if (player.team === CTF_TEAMS.BLUE) {\r\n                    fillStyle = constants.CTF_BLUE_TEAM_COLOR;\r\n                } else if (player.team === CTF_TEAMS.RED) {\r\n                    fillStyle = constants.CTF_RED_TEAM_COLOR;\r\n                }\r\n                switch (player.ranking) {\r\n                    case 1:\r\n                        fillStyle = constants.MINIMAP_PLAYER_1_COLOR;\r\n                        break;\r\n                    case 2:\r\n                        fillStyle = constants.MINIMAP_PLAYER_2_COLOR;\r\n                        break;\r\n                    case 3:\r\n                        fillStyle = constants.MINIMAP_PLAYER_3_COLOR;\r\n                        break;\r\n                }\r\n\r\n                this.canvasContext.fillStyle = fillStyle;\r\n                this.canvasContext.beginPath();\r\n                this.canvasContext.arc(pos.x, pos.y, MARKER_SIZE, 0, 2 * Math.PI);\r\n                this.canvasContext.fill();\r\n\r\n                if (player.id === this.playerToHighlight) {\r\n                    this.canvasContext.strokeStyle = constants.MINIMAP_HIGHLIGHT_COLOR;\r\n                    this.canvasContext.beginPath();\r\n                    this.canvasContext.arc(pos.x, pos.y, HIGHLIGH_SIZE, 0, 2 * Math.PI);\r\n                    this.canvasContext.stroke();\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.context.gameType === GAME_TYPES.CTF) {\r\n\r\n            const redTeam = this.context.state.getCtfTeam(CTF_TEAMS.RED);\r\n            const blueTeam = this.context.state.getCtfTeam(CTF_TEAMS.BLUE);\r\n\r\n            this.renderFlag(redTeam, this.redFlag, this.canvasContext,\r\n                FLAG_DEFAULT_POSITION.red, constants.CTF_RED_TEAM_COLOR);\r\n            this.renderFlag(blueTeam, this.blueFlag, this.canvasContext,\r\n                FLAG_DEFAULT_POSITION.blue, constants.CTF_BLUE_TEAM_COLOR);\r\n        }\r\n    }\r\n\r\n    private renderFlag(\r\n        team: CtfTeam, flag: HTMLImageElement,\r\n        ctx: CanvasRenderingContext2D, basePos: IPos, color: string) {\r\n\r\n        let pos = team.flagPos;\r\n\r\n        if (!pos) {\r\n            return;\r\n        }\r\n\r\n        if (team.flagState === CTF_FLAG_STATE.DYNAMIC) {\r\n            // flag is on the move\r\n            const carrier = this.context.state.getPlayerById(team.flagTakenById);\r\n            if (carrier) {\r\n                pos = carrier.mostReliablePos;\r\n            }\r\n        }\r\n\r\n        const scaleX = this.canvas.width / MAP_SIZE.WIDTH;\r\n        const scaleY = this.canvas.height / MAP_SIZE.HEIGHT;\r\n\r\n        const scaledPos = new Pos(\r\n            (pos.x + HALF_MAP_WIDTH) * scaleX,\r\n            (pos.y + HALF_MAP_HEIGHT) * scaleY);\r\n\r\n        const ctfFlagHeight = (CTF_FLAG_SIZE / flag.width) * flag.height;\r\n\r\n        ctx.drawImage(flag, 0, 0, flag.width, flag.height,\r\n            scaledPos.x - CTF_FLAG_SIZE / 2, scaledPos.y - ctfFlagHeight / 2, CTF_FLAG_SIZE, ctfFlagHeight);\r\n\r\n        if (!pos.equals(basePos)) {\r\n            const scaledBasePos = new Pos(\r\n                (basePos.x + HALF_MAP_WIDTH) * scaleX,\r\n                (basePos.y + HALF_MAP_HEIGHT) * scaleY);\r\n            this.canvasContext.strokeStyle = color;\r\n            this.canvasContext.strokeRect(\r\n                scaledBasePos.x - CTF_BASE_SIZE / 2, scaledBasePos.y - CTF_BASE_SIZE / 2,\r\n                CTF_BASE_SIZE, CTF_BASE_SIZE);\r\n        }\r\n    }\r\n}\r\n","import { PROJECTILES_SPECS } from \"../../ab-assets/missile-constants\";\r\nimport { GAME_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\nconst MISSILE_IMAGE_BASE_SCALE = 1;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class MissilesRenderer {\r\n\r\n    private readonly missileImage: HTMLImageElement;\r\n\r\n    constructor(private context: IContext, private clip: ClippedView) {\r\n        this.missileImage = document.getElementById(\"missile\") as HTMLImageElement;\r\n    }\r\n\r\n    public renderMissiles(context: CanvasRenderingContext2D) {\r\n        context.fillStyle = constants.MISSILE_COLOR;\r\n        for (const missile of this.context.state.getMissiles()) {\r\n            const pos = missile.pos;\r\n            if (!pos) {\r\n                continue;\r\n            }\r\n\r\n            if (!this.clip.isVisible(pos)) {\r\n                continue;\r\n            }\r\n\r\n            const clipPos = this.clip.translate(pos);\r\n            const missileScale = 1 + (PROJECTILES_SPECS[missile.mobType].damage as number - 0.3) / 1.8;\r\n\r\n            if (this.context.settings.useBitmaps) {\r\n                context.translate(clipPos.x, clipPos.y);\r\n                context.rotate(missile.rot);\r\n\r\n                let shouldRestoreAlphs = false;\r\n                if (this.context.gameType === GAME_TYPES.CTF && missile.team) {\r\n                    if (missile.team === this.context.state.team && missile.ownerId !== this.context.state.id) {\r\n                        // show friendly missiles as transparent\r\n                        context.globalAlpha = 0.4;\r\n                        shouldRestoreAlphs = true;\r\n                    }\r\n                }\r\n\r\n                const targetWidth = this.clip.scale(this.missileImage.width *\r\n                    missileScale * MISSILE_IMAGE_BASE_SCALE);\r\n                const targetHeight = this.clip.scale(this.missileImage.height *\r\n                    missileScale * MISSILE_IMAGE_BASE_SCALE);\r\n\r\n                context.drawImage(this.missileImage, 0, 0, this.missileImage.width, this.missileImage.height,\r\n                    -targetWidth / 2, -targetHeight / 2, targetWidth, targetHeight);\r\n\r\n                if (shouldRestoreAlphs) {\r\n                    context.globalAlpha = 1;\r\n                }\r\n\r\n                context.rotate(-missile.rot);\r\n                context.translate(-clipPos.x, -clipPos.y);\r\n            } else {\r\n                context.beginPath();\r\n                context.arc(clipPos.x, clipPos.y, this.clip.scale(4 *  missileScale), 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\nexport class PathRenderer {\r\n\r\n    constructor(private clip: ClippedView, private context: IContext) {\r\n    }\r\n\r\n    public renderPath(context: CanvasRenderingContext2D) {\r\n        const path = this.context.botstate.path;\r\n        if (path && path.length > 0) {\r\n            let count = 0;\r\n            context.strokeStyle = \"orange\";\r\n            context.lineWidth = 2;\r\n            context.beginPath();\r\n\r\n            for (const pos of path) {\r\n                const clipPos = this.clip.translate(pos);\r\n                if (count === 0) {\r\n                    context.moveTo(clipPos.x, clipPos.y);\r\n                } else {\r\n                    context.lineTo(clipPos.x, clipPos.y);\r\n                }\r\n                context.stroke();\r\n\r\n                if (count === 1) {\r\n                    context.font = \"16px 'Courier New'\"\r\n                    context.fillStyle = \"white\";\r\n                    context.fillText(\"dist: \" + this.context.botstate.distanceToTarget, clipPos.x, clipPos.y);\r\n                }\r\n\r\n                count++;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { CTF_TEAMS, FLAGS_CODE_TO_ISO, PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Player } from \"../../models/player\";\r\n\r\nexport class PlayerListRenderer {\r\n\r\n    private listElement: HTMLTableElement;\r\n\r\n    constructor(private context: IContext) {\r\n        this.listElement = document.getElementById(\"player-list\") as HTMLTableElement;\r\n    }\r\n\r\n    public render(): void {\r\n        const players = this.context.state.getPlayers();\r\n\r\n        players.sort((a: Player, b: Player) => {\r\n            const ar = a.ranking || Number.MAX_SAFE_INTEGER;\r\n            const br = b.ranking || Number.MAX_SAFE_INTEGER;\r\n            return ar - br;\r\n        });\r\n\r\n        let rowCount = 0;\r\n        for (const player of players) {\r\n\r\n            if (player.status === PLAYER_STATUS.INACTIVE && player.name === \"Server\") {\r\n                continue;\r\n            }\r\n\r\n            let row = this.listElement.rows[rowCount];\r\n            let cellPos: HTMLTableDataCellElement;\r\n            let cellFlag: HTMLTableDataCellElement;\r\n            let cellName: HTMLTableDataCellElement;\r\n            let cellScore: HTMLTableDataCellElement;\r\n            let flagImage: HTMLImageElement;\r\n\r\n            if (row) {\r\n                cellPos = row.cells[0];\r\n                cellFlag = row.cells[1];\r\n                cellName = row.cells[2];\r\n                cellScore = row.cells[3];\r\n                flagImage = cellFlag.firstElementChild as HTMLImageElement;\r\n            } else {\r\n                row = this.listElement.insertRow();\r\n                cellPos = row.insertCell();\r\n                cellPos.className = \"playerlist-pos\";\r\n                cellFlag = row.insertCell();\r\n                cellFlag.className = \"playerlist-flag\";\r\n                cellName = row.insertCell();\r\n                cellName.className = \"playerlist-name player-name\";\r\n                cellScore = row.insertCell();\r\n                cellScore.className = \"playerlist-score\";\r\n\r\n                flagImage = document.createElement(\"img\") as HTMLImageElement;\r\n                flagImage.width = 24;\r\n                flagImage.height = 24;\r\n                cellFlag.appendChild(flagImage);\r\n            }\r\n\r\n            row.className = player.status === PLAYER_STATUS.INACTIVE ? \"playerlist-player-inactive\" : \"\";\r\n\r\n            if (player.team === CTF_TEAMS.BLUE) {\r\n                row.className += \" playerlist-team-blue\";\r\n            } else if (player.team === CTF_TEAMS.RED) {\r\n                row.className += \" playerlist-team-red\";\r\n            }\r\n\r\n            const ranking = player.ranking || rowCount;\r\n            cellPos.innerText = `${ranking}. `;\r\n\r\n            const flag = FLAGS_CODE_TO_ISO[\"\" + player.flag] || \"JOLLY\";\r\n\r\n            flagImage.src = \"flags/\" + flag + \".png\";\r\n\r\n            if (player.level) {\r\n                cellName.innerText = `${player.name} [${player.level}]`;\r\n            } else {\r\n                cellName.innerText = player.name;\r\n            }\r\n            cellName.dataset.name = encodeURI(player.name);\r\n            cellName.dataset.id = player.id.toString();\r\n            cellScore.innerText = `${player.score}`;\r\n\r\n            rowCount++;\r\n        }\r\n\r\n        while (this.listElement.rows[rowCount]) {\r\n            const row = this.listElement.rows[rowCount];\r\n            row.remove();\r\n        }\r\n    }\r\n}\r\n","import { SHIPS_SPECS, SHIPS_TYPES } from \"../../ab-assets/ships-constants\";\r\nimport { COUNTRY_NAMES, CTF_TEAMS, FLAGS_CODE_TO_ISO, PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { StopWatch } from \"../../helpers/stopwatch\";\r\nimport { Player } from \"../../models/player\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\n// health/energy colors\r\nconst HEALTH_ENERGY_BARS_RADIUS = 75;\r\nconst HEALTH_ENERGY_BARS_WIDTH = 8;\r\nconst SHIELD_INFERNO_BARS_WIDTH = 2 * HEALTH_ENERGY_BARS_WIDTH;\r\n\r\nconst SHIELD_INFERNO_RADIUS = HEALTH_ENERGY_BARS_RADIUS\r\n    - (HEALTH_ENERGY_BARS_WIDTH / 2)\r\n    - (SHIELD_INFERNO_BARS_WIDTH / 2);\r\n\r\nconst FLAG_WIDTH = 24;\r\nconst FLAG_MARGIN_LEFT = 10;\r\nconst FONT_SIZE = 11;\r\nconst FLAG_PADDING_TOP = 4; // diff between length and width / 2\r\n\r\nconst SAY_MARGIN = 20;\r\nconst SAY_HEIGHT = 40;\r\nconst SAY_DURATION_SECONDS = 5;\r\nconst SAY_DISTANCE_FROM_AIRCRAFT = 80;\r\n\r\nconst INVISIBLE_PROWLER_BLUR_WIDTH = 10;\r\nconst PROWLER_RADAR_CIRCLE_RADIUS = 300;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class PlayersRenderer {\r\n\r\n    private images: {\r\n        raptor: HTMLImageElement,\r\n        spirit: HTMLImageElement,\r\n        mohawk: HTMLImageElement,\r\n        tornado: HTMLImageElement,\r\n        prowler: HTMLImageElement,\r\n    };\r\n\r\n    private flagImages: any = {};\r\n\r\n    private saysToSay: { playerId: number, msg: string, sw: StopWatch }[] = [];\r\n\r\n    constructor(private context: IContext, private clip: ClippedView) {\r\n        this.images = {\r\n            mohawk: document.getElementById(\"mohawk\") as HTMLImageElement,\r\n            prowler: document.getElementById(\"prowler\") as HTMLImageElement,\r\n            raptor: document.getElementById(\"raptor\") as HTMLImageElement,\r\n            spirit: document.getElementById(\"spirit\") as HTMLImageElement,\r\n            tornado: document.getElementById(\"tornado\") as HTMLImageElement,\r\n        };\r\n    }\r\n\r\n    public addSay(playerId: number, msg: string) {\r\n        this.saysToSay.push({ playerId, msg, sw: new StopWatch() });\r\n    }\r\n\r\n    public renderPlayers(context: CanvasRenderingContext2D): void {\r\n\r\n        const scaledFontSize = this.clip.scale(FONT_SIZE);\r\n        context.font = scaledFontSize + \"pt 'Tahoma'\";\r\n        const scaledFlagWidth = this.clip.scale(FLAG_WIDTH);\r\n        const scaledFlagPaddingTop = this.clip.scale(FLAG_PADDING_TOP);\r\n        const scaledFlagMarginLeft = this.clip.scale(FLAG_MARGIN_LEFT);\r\n\r\n        if (!this.flagImages.JOLLY) {\r\n            this.initFlagImages();\r\n        }\r\n\r\n        for (const player of this.context.state.getPlayers()) {\r\n\r\n            if (player.status === PLAYER_STATUS.INACTIVE) {\r\n                continue;\r\n            }\r\n\r\n            const pos = player.mostReliablePos;\r\n            const isInViewPort = pos && this.clip.isVisible(pos);\r\n            const isInvisiblyInViewPort = isInViewPort && !player.isVisibleOnScreen;\r\n            const isStealthyInViewPort = isInViewPort && player.stealthed;\r\n            const isFriendlyPlayer = player.team === this.context.state.team;\r\n\r\n            const isProwler = player.type === SHIPS_TYPES.PROWLER;\r\n            const isInvisibleProwler = isProwler && !isFriendlyPlayer && (isInvisiblyInViewPort || isStealthyInViewPort);\r\n\r\n            if (!player.isVisibleOnScreen && !isInvisibleProwler) {\r\n                continue;\r\n            }\r\n\r\n            const clipPos = this.clip.translate(pos);\r\n\r\n            // move & rotate canvas to render the aircraft\r\n            context.translate(clipPos.x, clipPos.y);\r\n\r\n            if (!isInvisibleProwler) {\r\n                context.rotate(player.rot);\r\n            } else {\r\n                // don't rotate invisible prowlers, because we don't know their rotation\r\n                // but do blur them to indicate this is prowler radar\r\n                context.filter = `blur(${INVISIBLE_PROWLER_BLUR_WIDTH}px)`;\r\n            }\r\n\r\n            this.renderAircraft(player, context, isInvisibleProwler);\r\n\r\n            if (!isInvisibleProwler) {\r\n                // rotate back and render bars\r\n                context.rotate(-player.rot);\r\n                this.renderBars(context, player);\r\n            } else {\r\n                context.filter = \"none\";\r\n            }\r\n\r\n            // draw name + flag\r\n            this.renderName(player, context,\r\n                scaledFlagWidth, scaledFlagMarginLeft, scaledFontSize, scaledFlagPaddingTop);\r\n\r\n            // render text bubble\r\n            this.renderTextBubble(player, context);\r\n\r\n            // restore canvas\r\n            context.translate(-clipPos.x, -clipPos.y);\r\n        }\r\n    }\r\n\r\n    private renderTextBubble(player: Player, context: CanvasRenderingContext2D) {\r\n        for (const say of this.saysToSay) {\r\n            if (say.playerId === player.id) {\r\n                context.fillStyle = constants.PLAYER_SAY_BACKGROUND_COLOR;\r\n                const textWidth = context.measureText(say.msg).width;\r\n                const sayLeft = textWidth / 2;\r\n                const sayTop = -this.clip.scale(SAY_DISTANCE_FROM_AIRCRAFT);\r\n                const sayMargin = this.clip.scale(SAY_MARGIN);\r\n                const sayHeight = this.clip.scale(SAY_HEIGHT);\r\n                context.fillRect(-sayLeft - sayMargin, sayTop - sayMargin,\r\n                    textWidth + sayMargin * 2, sayHeight);\r\n                context.fillStyle = constants.PLAYER_SAY_FOREGROUND_COLOR;\r\n                context.fillText(say.msg, -sayLeft, sayTop);\r\n            }\r\n        }\r\n        this.saysToSay = this.saysToSay.filter((x) => x.sw.elapsedSeconds < SAY_DURATION_SECONDS);\r\n    }\r\n\r\n    private renderName(\r\n        player: Player,\r\n        context: CanvasRenderingContext2D,\r\n        scaledFlagWidth: number,\r\n        scaledFlagMarginLeft: number,\r\n        scaledFontSize: number,\r\n        scaledFlagPaddingTop: number) {\r\n\r\n        let nameColor = this.context.settings.useBitmaps ?\r\n            constants.PLAYER_NAME_COLOR : constants.PLAYER_NAME_NOBITMAP_COLOR;\r\n        if (player.team === CTF_TEAMS.BLUE) {\r\n            nameColor = constants.PLAYER_NAME_BLUE_TEAM_COLOR;\r\n        } else if (player.team === CTF_TEAMS.RED) {\r\n            nameColor = constants.PLAYER_NAME_RED_TEAM_COLOR;\r\n        }\r\n        context.fillStyle = nameColor;\r\n\r\n        let levelPostfix = \"\";\r\n        if (player.level) {\r\n            levelPostfix = ` [${player.level}]`;\r\n        }\r\n\r\n        const name = `${player.ranking || \"?\"}. ${player.name}${levelPostfix}`;\r\n        const flagSpace = this.context.settings.useBitmaps ? scaledFlagWidth + scaledFlagMarginLeft : 0;\r\n        const nameWidth = context.measureText(name).width + flagSpace;\r\n        const left = - nameWidth / 2;\r\n        const top = this.clip.scale(70);\r\n\r\n        context.fillText(name, left, top);\r\n\r\n        if (this.context.settings.useBitmaps) {\r\n            const flag = FLAGS_CODE_TO_ISO[\"\" + player.flag] || \"JOLLY\";\r\n            const flagImage = this.flagImages[flag] as HTMLImageElement;\r\n            context.drawImage(flagImage, 0, 0, FLAG_WIDTH, FLAG_WIDTH,\r\n                left + nameWidth - scaledFlagWidth, top - scaledFlagWidth + scaledFontSize - scaledFlagPaddingTop,\r\n                scaledFlagWidth, scaledFlagWidth);\r\n        }\r\n\r\n        // removed for now per issue #29 (https://github.com/spatiebot/ab-client/issues/29)\r\n        // draw stats\r\n        // const lineHeight = this.clip.scale(20);\r\n        // context.fillStyle = constants.PLAYER_STATS_COLOR;\r\n        // const stats2 = `Score: ${player.score}; ping: ${player.ping || \"?\"} ms`;\r\n        // context.fillText(stats2, left, top + lineHeight);\r\n    }\r\n\r\n    private renderBars(context: CanvasRenderingContext2D, player: Player) {\r\n\r\n        context.strokeStyle = constants.PLAYER_HEALTH_OK_COLOR;\r\n        if (player.health < 0.3) {\r\n            context.strokeStyle = constants.PLAYER_HEALTH_DANGER_COLOR;\r\n        } else if (player.health < 0.6) {\r\n            context.strokeStyle = constants.PLAYER_HEALTH_WARN_COLOR;\r\n        }\r\n\r\n        const r = this.clip.scale(HEALTH_ENERGY_BARS_RADIUS);\r\n\r\n        context.lineWidth = this.clip.scale(HEALTH_ENERGY_BARS_WIDTH);\r\n        context.globalAlpha = player.id === this.context.state.id ? 0.8 : 0.5;\r\n\r\n        context.beginPath();\r\n        context.arc(0, 0, r, Math.PI, Math.PI + (Math.PI * player.health / 2));\r\n        context.stroke();\r\n\r\n        context.strokeStyle = constants.PLAYER_ENERGY_COLOR;\r\n        context.beginPath();\r\n        const energy = Math.max(0.01, player.energy);\r\n        context.arc(0, 0, r, 0, Math.PI * 2 - Math.PI * energy / 2, true);\r\n        context.stroke();\r\n\r\n        if (player.powerUps.inferno || player.powerUps.shield) {\r\n            context.strokeStyle = player.powerUps.shield ?\r\n                constants.PLAYER_SHIELD_COLOR : constants.PLAYER_INFERNO_COLOR;\r\n            context.beginPath();\r\n            const duration = !player.shieldOrInfernoTimer ? 1 :\r\n                Math.max(0.01, 1 - player.shieldOrInfernoTimer.timeoutFraction);\r\n\r\n            context.lineWidth = this.clip.scale(SHIELD_INFERNO_BARS_WIDTH);\r\n            const shieldR = this.clip.scale(SHIELD_INFERNO_RADIUS);\r\n            context.arc(0, 0, shieldR, Math.PI, Math.PI + (Math.PI * duration));\r\n            context.stroke();\r\n        }\r\n\r\n        context.globalAlpha = 1;\r\n    }\r\n\r\n    private renderAircraft(player: Player, context: CanvasRenderingContext2D, isInvisibleProwler: boolean) {\r\n\r\n        const aircraftSpecs = SHIPS_SPECS[player.type];\r\n\r\n        if (isInvisibleProwler) {\r\n            context.fillStyle =\r\n                player.team === CTF_TEAMS.BLUE ? constants.PLAYER_NOBITMAP_BLUE_TEAM_PROWLER_COLOR :\r\n                    player.team === CTF_TEAMS.RED ? constants.PLAYER_NOBITMAP_RED_TEAM_PROWLER_COLOR :\r\n                        constants.PLAYER_NOBITMAP_PROWLER_COLOR;\r\n            const r = this.clip.scale(PROWLER_RADAR_CIRCLE_RADIUS);\r\n            context.beginPath();\r\n            context.arc(0, 0, r, 0, 2 * Math.PI);\r\n            context.fill();\r\n        } else if (this.context.settings.useBitmaps) {\r\n            const image: HTMLImageElement = this.images[aircraftSpecs.name];\r\n            const imageScale = 1; // used to have larger images before\r\n            const targetWidth = this.clip.scale(image.width * imageScale);\r\n            const targetHeight = this.clip.scale(image.height * imageScale);\r\n            const actionX = targetWidth / 2;\r\n            const actionY = targetHeight / 2;\r\n\r\n            if (player.stealthed) {\r\n                // make prowler a ghost if stealthed\r\n                context.globalAlpha = 0.4;\r\n            }\r\n            context.drawImage(image, 0, 0, image.width, image.height, -actionX, -actionY, targetWidth, targetHeight);\r\n\r\n            context.globalAlpha = 1;\r\n\r\n        } else {\r\n            if (player.team === CTF_TEAMS.BLUE) {\r\n                context.fillStyle = player.stealthed ?\r\n                    constants.PLAYER_NOBITMAP_BLUE_TEAM_PROWLER_COLOR : constants.PLAYER_NOBITMAP_BLUE_TEAM_COLOR;\r\n            } else if (player.team === CTF_TEAMS.RED) {\r\n                context.fillStyle = player.stealthed ?\r\n                    constants.PLAYER_NOBITMAP_RED_TEAM_PROWLER_COLOR : constants.PLAYER_NOBITMAP_RED_TEAM_COLOR;\r\n            } else {\r\n                context.fillStyle = player.stealthed ?\r\n                    constants.PLAYER_NOBITMAP_PROWLER_COLOR : constants.PLAYER_NOBITMAP_COLOR;\r\n            }\r\n            const hitCircles = aircraftSpecs.collisions;\r\n            for (const hitCircle of hitCircles) {\r\n                const hitCirclePos = new Pos(this.clip.scale(hitCircle[0]), this.clip.scale(hitCircle[1]));\r\n                const r = this.clip.scale(hitCircle[2]);\r\n                context.beginPath();\r\n                context.arc(hitCirclePos.x, hitCirclePos.y, r, 0, 2 * Math.PI);\r\n                context.fill();\r\n            }\r\n        }\r\n    }\r\n\r\n    private initFlagImages() {\r\n        for (const flag of Object.keys(COUNTRY_NAMES)) {\r\n            this.flagImages[flag] = document.getElementById(`flag-${flag}`);\r\n        }\r\n    }\r\n}\r\n","import { FLAG_DEFAULT_POSITION } from \"../../ab-assets/ctf-constants\";\r\nimport { CTF_FLAG_STATE, CTF_TEAMS, GAME_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Upgrades } from \"../../models/upgrades\";\r\n\r\nexport class StatsRenderer {\r\n\r\n    private scoreElement: HTMLSpanElement;\r\n    private upgradesElement: HTMLSpanElement;\r\n    private killsElement: HTMLSpanElement;\r\n    private deathsElement: HTMLSpanElement;\r\n    private upgrSpeedElement: HTMLSpanElement;\r\n    private upgrDefenseElement: HTMLSpanElement;\r\n    private upgrEnergyElement: HTMLSpanElement;\r\n    private upgrMissileElement: HTMLSpanElement;\r\n\r\n    private ctfInfo: HTMLElement;\r\n    private blueScore: HTMLSpanElement;\r\n    private blueFlagLocation: HTMLSpanElement;\r\n    private redScore: HTMLSpanElement;\r\n    private redFlagLocation: HTMLSpanElement;\r\n\r\n    constructor(private context: IContext) {\r\n        this.scoreElement = document.getElementById(\"stats-score\") as HTMLSpanElement;\r\n        this.upgradesElement = document.getElementById(\"stats-upgrades\") as HTMLSpanElement;\r\n        this.killsElement = document.getElementById(\"stats-kills\") as HTMLSpanElement;\r\n        this.deathsElement = document.getElementById(\"stats-deaths\") as HTMLSpanElement;\r\n        this.upgrSpeedElement = document.getElementById(\"stats-speed\") as HTMLSpanElement;\r\n        this.upgrDefenseElement = document.getElementById(\"stats-defense\") as HTMLSpanElement;\r\n        this.upgrEnergyElement = document.getElementById(\"stats-energy\") as HTMLSpanElement;\r\n        this.upgrMissileElement = document.getElementById(\"stats-missile\") as HTMLSpanElement;\r\n\r\n        this.ctfInfo = document.getElementById(\"ctf-info\");\r\n        this.blueScore = document.getElementById(\"blue-score\") as HTMLSpanElement;\r\n        this.redScore = document.getElementById(\"red-score\") as HTMLSpanElement;\r\n        this.blueFlagLocation = document.getElementById(\"blue-flag-location\") as HTMLSpanElement;\r\n        this.redFlagLocation = document.getElementById(\"red-flag-location\") as HTMLSpanElement;\r\n    }\r\n\r\n    private toString(n: number) {\r\n        if (n !== 0 && !n) {\r\n            return \"\";\r\n        }\r\n\r\n        return \"\" + n;\r\n    }\r\n\r\n    public render(): void {\r\n        const me = this.context.state.getFocusedPlayer();\r\n        if (!me) {\r\n            return;\r\n        }\r\n\r\n        this.scoreElement.innerText = this.toString(me.score);\r\n        this.killsElement.innerText = this.toString(me.kills);\r\n        this.deathsElement.innerText = this.toString(me.deaths);\r\n\r\n        const upgrades = me.upgrades || new Upgrades();\r\n\r\n        this.upgradesElement.innerText = this.toString(upgrades.available);\r\n        this.upgrDefenseElement.innerText = this.toString(upgrades.defense);\r\n        this.upgrEnergyElement.innerText = this.toString(upgrades.energy);\r\n        this.upgrMissileElement.innerText = this.toString(upgrades.missile);\r\n        this.upgrSpeedElement.innerText = this.toString(upgrades.speed);\r\n\r\n        // CTF stats\r\n        if (this.context.gameType === GAME_TYPES.CTF) {\r\n            if (this.ctfInfo.style.display !== \"block\") {\r\n                this.ctfInfo.style.display = \"block\";\r\n            }\r\n            const blueInfo = this.context.state.getCtfTeam(CTF_TEAMS.BLUE);\r\n            const redInfo = this.context.state.getCtfTeam(CTF_TEAMS.RED);\r\n\r\n            const blueScore = blueInfo.score ? blueInfo.score : 0;\r\n            const redScore = redInfo.score ? redInfo.score : 0;\r\n\r\n            this.blueScore.innerText = this.toString(blueScore);\r\n            this.redScore.innerText = this.toString(redScore);\r\n\r\n            let blueFlagLocation = \"?\";\r\n            if (blueInfo.flagState === CTF_FLAG_STATE.DYNAMIC) {\r\n                const carrierName = this.context.state.getPlayerName(blueInfo.flagTakenById);\r\n                blueFlagLocation = `taken by ${carrierName}`;\r\n            } else if (blueInfo.flagPos.equals(FLAG_DEFAULT_POSITION.blue)) {\r\n                blueFlagLocation = \"home\";\r\n            } else {\r\n                blueFlagLocation = \"abandoned\";\r\n            }\r\n            this.blueFlagLocation.innerText = blueFlagLocation;\r\n\r\n            let redFlagLocation = \"?\";\r\n            if (redInfo.flagState === CTF_FLAG_STATE.DYNAMIC) {\r\n                const carrierName = this.context.state.getPlayerName(redInfo.flagTakenById);\r\n                redFlagLocation = `taken by ${carrierName}`;\r\n            } else if (redInfo.flagPos.equals(FLAG_DEFAULT_POSITION.red)) {\r\n                redFlagLocation = \"home\";\r\n            } else {\r\n                redFlagLocation = \"abandoned\";\r\n            }\r\n            this.redFlagLocation.innerText = redFlagLocation;\r\n        }\r\n    }\r\n}\r\n","import { MOB_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { PeriodicLogger } from \"../../helpers/periodic-logger\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\nconst CRATE_HALF_SIZE = 12;\r\nconst CRATE_SIZE = CRATE_HALF_SIZE * 2;\r\nconst CRATE_ROTATION = Math.PI / 4;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class UpcratesRenderer {\r\n\r\n    private logger: PeriodicLogger;\r\n\r\n    constructor(private context: IContext, private clip: ClippedView) {\r\n        this.logger = new PeriodicLogger(context);\r\n    }\r\n\r\n    public renderUpcrates(context: CanvasRenderingContext2D) {\r\n        for (const crate of this.context.state.getUpcrates()) {\r\n            const pos = crate.pos;\r\n\r\n            if (!pos || !this.clip.isVisible(pos)) {\r\n                // this.logger.log(\"not visible\", pos, this.clip.getClipRectangle());\r\n                continue;\r\n            }\r\n\r\n            let fillColor = constants.UPCRATES_UPGRADE_CRATE_COLOR;\r\n            switch (crate.mobType) {\r\n                case MOB_TYPES.INFERNO:\r\n                    fillColor = constants.UPCRATES_RAMPAGE_CRATE_COLOR;\r\n                    break;\r\n                case MOB_TYPES.SHIELD:\r\n                    fillColor = constants.UPCRATES_SHIELD_CRATE_COLOR;\r\n                    break;\r\n            }\r\n\r\n            const clipPos = this.clip.translate(pos);\r\n\r\n            context.translate(clipPos.x, clipPos.y);\r\n            context.rotate(CRATE_ROTATION);\r\n\r\n            context.beginPath();\r\n            context.fillStyle = fillColor;\r\n            const halfSize = this.clip.scale(CRATE_HALF_SIZE);\r\n            const size = this.clip.scale(CRATE_SIZE);\r\n            context.rect(-halfSize, -halfSize, size, size);\r\n            context.fill();\r\n            context.strokeStyle = constants.UPCRATES_BORDER_COLOR;\r\n            context.stroke();\r\n\r\n            context.rotate(-CRATE_ROTATION);\r\n            context.translate(-clipPos.x, -clipPos.y);\r\n        }\r\n    }\r\n}\r\n","import { abWalls } from \"../../ab-assets/walls\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Pos } from \"../../models/pos\";\r\nimport { ClippedView } from \"../clipped-view\";\r\n\r\nconst MOUNTAIN_BITMAP_SCALE = 1.4;\r\n\r\nconst MIN_RADIUS_FOR_LARGE = 132;\r\nconst MIN_RADIUS_FOR_MEDIUM = 120;\r\nconst MIN_RADIUS_FOR_REGULAR = 108;\r\nconst MIN_RADIUS_FOR_SMALL = 84;\r\nconst MIN_RADIUS_FOR_SMALLER = 60;\r\n\r\ndeclare const constants: any;\r\n\r\nexport class WallsRenderer {\r\n\r\n    private wallImages: {\r\n        [wallNum: number]: HTMLImageElement,\r\n    };\r\n\r\n    constructor(private clip: ClippedView, private context: IContext) {\r\n        const medium = document.getElementById(\"mountain-medium\") as HTMLImageElement;\r\n        const large = document.getElementById(\"mountain-large\") as HTMLImageElement;\r\n\r\n        const regular = [];\r\n        regular.push(document.getElementById(\"mountain-regular-a\") as HTMLImageElement);\r\n        regular.push(document.getElementById(\"mountain-regular-b\") as HTMLImageElement);\r\n        regular.push(document.getElementById(\"mountain-regular-c\") as HTMLImageElement);\r\n\r\n        const small = document.getElementById(\"mountain-small\") as HTMLImageElement;\r\n        const smaller = document.getElementById(\"mountain-smaller\") as HTMLImageElement;\r\n        const mini = document.getElementById(\"mountain-mini\") as HTMLImageElement;\r\n\r\n        // assign images to each wall\r\n        let wallNum = 0;\r\n        this.wallImages = {};\r\n        for (const wall of abWalls) {\r\n            const radius = wall[2];\r\n            let img: HTMLImageElement;\r\n            if (radius >= MIN_RADIUS_FOR_LARGE) {\r\n                img = large;\r\n            } else if (radius >= MIN_RADIUS_FOR_MEDIUM) {\r\n                img = medium;\r\n            } else if (radius >= MIN_RADIUS_FOR_REGULAR) {\r\n                img = regular[wallNum % regular.length];\r\n            } else if (radius >= MIN_RADIUS_FOR_SMALL) {\r\n                img = small;\r\n            } else if (radius >= MIN_RADIUS_FOR_SMALLER) {\r\n                img = smaller;\r\n            } else {\r\n                img = mini;\r\n            }\r\n\r\n            wall[3] = wallNum;\r\n            this.wallImages[wallNum] = img;\r\n\r\n            wallNum++;\r\n        }\r\n\r\n    }\r\n\r\n    public renderWalls(context: CanvasRenderingContext2D) {\r\n        for (const wall of abWalls) {\r\n            const pos = new Pos(wall[0], wall[1]);\r\n            const radius = wall[2];\r\n\r\n            const topLeft = new Pos(pos.x - radius, pos.y - radius);\r\n            const bottRight = new Pos(pos.x + radius, pos.y + radius);\r\n\r\n            if (this.clip.isVisible(topLeft) || this.clip.isVisible(bottRight)) {\r\n\r\n                const clipPos = this.clip.translate(pos);\r\n\r\n                if (this.context.settings.useBitmaps) {\r\n                    const scaledRadius = this.clip.scale(radius) * MOUNTAIN_BITMAP_SCALE;\r\n                    const wallNum = wall[3];\r\n\r\n                    const img = this.wallImages[wallNum];\r\n                    context.drawImage(img, 0, 0, img.width, img.height,\r\n                        clipPos.x - scaledRadius, clipPos.y - scaledRadius, scaledRadius * 2, scaledRadius * 2);\r\n\r\n                } else {\r\n                    const scaledradius = this.clip.scale(radius);\r\n                    context.fillStyle = constants.WALLS_NOBITMAP_COLOR;\r\n                    context.beginPath();\r\n\r\n                    context.arc(clipPos.x, clipPos.y, scaledradius, 0, 2 * Math.PI);\r\n                    context.fill();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","/* tslint:disable */\r\n\r\n/** some stats: the walls have 12 different radii,\r\n * distributed in steps of 12 like this:\r\n * \r\n * radius : number of walls\r\n  '36': 4,\r\n  '48': 24,\r\n  '60': 52,\r\n  '72': 53,\r\n  '84': 62,\r\n  '96': 50,\r\n  '108': 142,\r\n  '120': 77,\r\n  '132': 43,\r\n  '144': 9,\r\n  '156': 2,\r\n  '168': 2\r\n */\r\n\r\nconst abWalls = [[1009, -2308, 108], [1241, -2490, 60], [1157, -2379, 84], [622, -2126, 48], [669, -2187, 72], [-392, -1669, 132],\r\n[-273, -1746, 60], [-252, -1504, 120], [1553, -2016, 48], [1637, -1972, 60], [1736, -1922, 60], [2150, -2406, 72], [2238, -2318, 108],\r\n[2364, -2391, 72], [2491, -2682, 72], [2596, -2671, 108], [-150, -3147, 48], [-155, -3044, 84], [-427, -3600, 48], [-259, -2982, 60],\r\n[-379, -3529, 72], [-665, -3052, 60], [20, -1816, 60], [127, -1799, 60], [263, -2572, 48], [405, -2570, 108], [851, -4183, 120], [754, -3971, 108],\r\n[1757, -5065, 132], [1169, -4453, 108], [2054, -5244, 108], [1631, -4901, 108], [2305, -5281, 108], [1007, -4281, 96], [2766, -5202, 96],\r\n[2927, -5204, 84], [3206, -5218, 36], [3099, -5193, 72], [1417, -4726, 120], [2844, -1513, 60], [3206, -1464, 120], [2881, -1403, 108],\r\n[3804, -2025, 84], [4116, -1778, 108], [3715, -1508, 72], [4247, -1126, 72], [3860, 268, 60], [4334, -1011, 132], [3849, 349, 72],\r\n[3956, 490, 96], [4073, 667, 108], [3583, -864, 96], [4135, 836, 120], [4785, -743, 120], [4993, -839, 108], [5224, -482, 84], [5235, -1238, 132],\r\n[5419, -1346, 72], [6075, -5099, 96], [5767, -4953, 108], [5896, -4967, 108], [5384, -4642, 108], [5704, -4857, 108], [5563, -4697, 108],\r\n[5406, -4470, 132], [5352, -3964, 108], [5309, -3665, 132], [5247, -3464, 108], [5300, -3121, 108], [3524, -3340, 132], [3661, -3589, 108],\r\n[7236, -1376, 72], [7624, -1610, 96], [7403, -1555, 84], [7514, -1568, 108], [3660, -2705, 108], [3374, -2813, 96], [7347, -1447, 108],\r\n[7236, -775, 60], [7207, -631, 108], [7303, -468, 108], [7262, -1263, 108], [7404, -350, 120], [7589, -305, 108], [7741, -1589, 120],\r\n[7949, -1594, 120], [8152, -1599, 132], [8378, -1602, 144], [7873, -321, 72], [8543, -1661, 84], [7790, -259, 120], [8675, -1573, 120],\r\n[8163, -245, 84], [8329, -311, 84], [8275, -229, 120], [8447, -277, 120], [8824, -1447, 108], [7221, -1140, 60], [8924, -1273, 108],\r\n[6844, -950, 120], [8949, -1060, 132], [8904, -920, 96], [8582, -338, 84], [8963, -803, 120], [8680, -322, 108], [8811, -449, 108],\r\n[8910, -610, 108], [6855, 114, 96], [6971, 241, 120], [6852, 656, 60], [6980, 706, 108], [6946, 939, 120], [6027, -560, 72],\r\n[7521, 425, 48], [7599, 389, 60], [5863, -431, 108], [9392, 262, 108], [7521, 512, 72], [9807, 1027, 60], [9554, 237, 120],\r\n[9346, 392, 144], [9789, 1142, 84], [9747, -532, 96], [8591, 347, 72], [9951, -509, 120], [9308, 2417, 60], [10185, -522, 108],\r\n[10330, 2147, 72], [9350, 2480, 84], [10503, 2124, 108], [12500, 2628, 60], [13188, 2864, 60], [12637, 2659, 84], [13262, 2899, 60],\r\n[13777, 5168, 60], [15709, 6399, 48], [13539, 5664, 60], [15660, 6474, 48], [13743, 5248, 84], [15482, 6600, 48], [15591, 6525, 36],\r\n[13487, 5738, 84], [15407, 6702, 72], [8171, -2568, 60], [16001, 6015, 72], [16017, 6110, 48], [6496, -1491, 60], [6626, -1480, 84],\r\n[6190, -1022, 96], [8325, -2615, 120], [8222, -2412, 120], [9204, -2288, 108], [9279, -2216, 120], [10375, -1558, 96], [10309, -1421, 108],\r\n[10247, -1216, 144], [10079, -2310, 108], [10320, -2330, 120], [10942, -2963, 108], [10807, -2778, 132], [12989, -1929, 72],\r\n[12613, -1181, 48], [12559, -1120, 60], [11642, -1900, 84], [11558, -1692, 108], [11509, -1479, 60], [12559, -2673, 96], [12446, -2487, 120],\r\n[12375, -2303, 108], [10363, -3514, 84], [10290, -3340, 108], [10162, -3207, 84], [9003, -3048, 108], [9161, -3119, 72], [14550, -3462, 108],\r\n[14407, -3335, 108], [14366, -4493, 108], [14477, -4437, 120], [15305, -4230, 108], [15481, -4283, 108], [15349, -5009, 48],\r\n[11874, -4879, 72], [15453, -4984, 84], [11907, -4742, 96], [12440, -4278, 60], [11980, -4582, 108], [12131, -4387, 132],\r\n[15681, -4973, 120], [12591, -4252, 96], [12777, -4244, 108], [12969, -4227, 108], [15897, -5071, 108], [13204, -4228, 120], [11592, -5261, 84],\r\n[12743, -4826, 48], [10102, -5078, 84], [12854, -4782, 108], [10191, -5033, 84], [10523, -5133, 120], [10336, -4977, 132], [10667, -5250, 96],\r\n[9665, -6403, 84], [10798, -5379, 60], [9670, -5547, 108], [9834, -6369, 120], [9864, -5572, 132], [11362, -3957, 108], [11162, -3830, 120],\r\n[8922, -6173, 120], [9003, -5368, 60], [8453, -6153, 72], [8954, -5229, 108], [8905, -5072, 96], [8704, -3873, 108], [8578, -6105, 96],\r\n[8508, -3710, 84], [8614, -5400, 60], [8788, -4922, 132], [8936, -3905, 72], [9701, -4613, 108], [6973, -4776, 72], [7016, -4674, 108],\r\n[9124, -3853, 108], [7253, -4648, 96], [6602, -4591, 72], [8510, -5322, 108], [6687, -3810, 84], [9525, -4492, 132], [7461, -4705, 108],\r\n[9280, -3812, 96], [6467, -2811, 36], [6842, -3820, 96], [6483, -2725, 72], [7675, -4864, 132], [6991, -2885, 108], [6610, -2664, 108],\r\n[6822, -2736, 108], [6763, -4582, 108], [6509, -2490, 108], [7216, -3865, 132], [7018, -3708, 120], [2254, -3301, 96], [6378, -2310, 96],\r\n[7197, -2857, 108], [2609, -3483, 60], [2449, -3385, 108], [4585, -2889, 84], [4470, -2768, 96], [4083, -4033, 108], [1568, -2869, 48],\r\n[4336, -4105, 144], [1977, -1678, 60], [1412, -3642, 60], [1570, -2792, 72], [1932, -1586, 72], [1310, -3547, 72], [3611, 1391, 120],\r\n[3558, 2174, 108], [3431, 1563, 108], [3142, 2813, 84], [3330, 2296, 132], [3001, 2818, 72], [3703, 2044, 48], [2872, 3863, 108],\r\n[3125, 2942, 132], [2841, 4018, 132], [2402, 5140, 72], [2511, 5167, 96], [-14607, -5112, 108], [-14430, -5180, 108], [-14197, -5222, 144],\r\n[-14895, -4703, 60], [-14797, -4728, 48], [-14697, -4739, 48], [-13919, -5281, 132], [-13646, -5170, 84], [-13400, -5068, 144],\r\n[-13099, -5108, 132], [-12824, -5092, 108], [-12631, -5044, 108], [-12427, -4914, 108], [-12270, -4816, 84], [-11772, -4983, 84], [-11940, -4867, 108], [-12091, -4699, 108], [-12270, -4529, 84], [-12460, -4396, 108], [-13058, -4252, 108], [-12894, -4096, 84], [-12738, -4077, 84], [-13546, -4341, 48], [-13428, -4299, 108], [-14679, -4192, 84], [-14368, -4308, 84], [-14495, -4133, 132], [-12072, -3824, 96], [-11904, -3648, 120], [-11654, -3569, 84], [-11648, -3357, 108], [-11420, -3359, 108], [-11296, -3135, 84], [-10782, -2838, 96], [-11410, -3039, 36], [-10581, -2773, 132], [-11118, -5114, 96], [-10675, -5079, 108], [-10205, -4890, 96], [-11543, -4164, 96], [-11287, -4244, 60], [-10018, -4747, 120], [-9278, 419, 60], [-9341, 470, 60], [-9180, 496, 96], [-11365, -4131, 120], [-9353, 0, 72], [-8975, 528, 120], [-9413, 89, 108], [-8230, 770, 48], [-9231, 17, 84], [-6808, 1667, 60], [-6694, 1622, 96], [-8285, 855, 72], [-6793, 1796, 96], [-6865, 1935, 60], [-7043, 2222, 72], [-7083, 2368, 72], [-7103, 2533, 84], [-7099, 2721, 96], [-7178, 2874, 48], [-6964, 3110, 84], [-6246, 4191, 72], [-6735, 3446, 48], [-6722, 3537, 84], [-6396, 3388, 108], [-6787, 3140, 108], [-6227, 4488, 84], [-6281, 3953, 72], [-6530, 3576, 132], [-6147, 3994, 132], [-6141, 4292, 144], [-6377, 5578, 84], [-6152, 4569, 108], [-6222, 4769, 84], [-6266, 4956, 72], [-6233, 5414, 108], [-6347, 5646, 84], [-6400, 6066, 84], [-6411, 6261, 96], [-6565, 7043, 72], [-6377, 6415, 108], [-6440, 6614, 84], [-5944, 1954, 60], [-6001, 2039, 96], [-6467, 7070, 108], [-4963, 3608, 72], [-4776, 3510, 48], [-5785, 1998, 132], [-3708, 3449, 72], [-3790, 3582, 108], [-4031, 3697, 84], [-4859, 3634, 120], [-3850, 3730, 120], [-4689, 4605, 108], [-3492, 2892, 72], [-4507, 4483, 72], [-4829, 2745, 108], [-4435, 4273, 108], [-3383, 2930, 108], [-4888, 2821, 108], [-5372, 5172, 60], [-5036, 2981, 108], [-9895, -1942, 120], [-9371, -2159, 72], [-9995, -1773, 108], [-5280, 5218, 108], [-5079, 5183, 108], [-5149, 3079, 72], [-9695, -2048, 120], [-5063, 5374, 108], [-9504, -2059, 120], [-8948, -2140, 84], [-9262, -2081, 132], [-9068, -2071, 120], [-8861, -2045, 132], [-8654, -2083, 120], [-8473, -2048, 120], [-8283, -1965, 120], [-8182, -1863, 108], [-10037, -1579, 108], [-10063, -1365, 108], [-10074, -1190, 108], [-8167, -1225, 60], [-8188, -1087, 96], [-9975, -1022, 108], [-9835, -910, 120], [-9709, -848, 120], [-9532, -792, 120], [-9348, -779, 120], [-9131, -784, 132], [-8754, -795, 84], [-8587, -797, 120], [-8424, -856, 108], [-8246, -921, 108], [-8153, -1701, 84], [-6447, -2137, 72], [-8153, -1591, 60], [-7694, -1393, 120], [-6541, -2030, 84], [-7135, -1547, 84], [-5885, -2958, 72], [-7171, -1440, 96], [-5620, -3123, 72], [-6631, -1866, 96], [-5882, -3696, 96], [-5716, -2944, 108], [-5949, -3528, 60], [-6869, -4052, 96], [-7081, -2673, 60], [-6725, -4069, 72], [-10487, -2295, 60], [-7032, -2749, 72], [-10769, -3817, 72], [-6607, -4081, 60], [-10849, -1824, 84], [-10479, -2146, 108], [-7003, -2611, 108], [-10749, -1511, 72], [-10697, -1953, 120], [-10848, -1330, 108], [-10912, -1220, 60], [-9843, -2685, 84], [-10823, -3717, 84], [-9697, -2713, 72], [-10080, -3431, 48], [-10648, -3844, 108], [-9530, -2695, 120], [-2387, -6791, 108], [-8465, -5037, 84], [-2550, -6627, 108], [-9325, -2822, 84], [-10140, -3346, 96], [-8461, -4908, 108], [8116, -1076, 96], [8115, -940, 96], [-2503, -6359, 168], [-9062, -1580, 96], [8120, -790, 96], [-9065, -1444, 96], [-2615, -6159, 120], [-2744, -5943, 132], [-3713, -4955, 108], [-9061, -1292, 96], [-1551, -4718, 60], [5251, -6249, 60], [5192, -6181, 48], [-2898, -5732, 108], [-1705, -4629, 96], [1618, -7035, 60], [-3829, -4776, 108], [-2851, -5589, 132], [-2974, -5399, 132], [-3952, -4568, 108], [-4135, -4368, 132], [-3428, -5104, 132], [-3167, -5254, 108], [-3049, -6916, 120], [-3097, -6722, 108], [-3190, -6493, 120], [-3318, -6284, 132], [-4672, -5861, 132], [-4480, -5668, 120], [-4294, -5548, 108], [-3433, -6072, 120], [-3568, -5881, 120], [-3736, -5698, 144], [-3978, -7517, 108], [-3956, -5572, 120], [-4103, -5400, 120], [-4281, -5240, 120], [-4409, -5034, 120], [-4475, -4808, 108], [-2777, -7546, 120], [-2542, -7502, 108], [-2398, -7364, 108], [-2350, -7151, 108], [-2315, -6976, 96], [-3749, -7488, 120], [-2995, -7596, 144], [-3253, -7558, 132], [-3468, -7472, 120], [-5028, -6473, 120], [-3604, -7301, 132], [-3678, -7078, 132], [-3835, -6826, 132], [-3935, -6595, 120], [-5214, -7381, 120], [-4065, -6416, 132], [-4174, -6231, 84], [-4556, -6940, 120], [-4663, -6781, 120], [-4748, -6548, 156], [-4847, -6257, 132], [-4806, -6016, 108], [-4950, -7410, 168], [-5470, -7251, 156], [-5637, -7038, 120], [-5593, -6819, 120], [-5406, -6727, 120], [-5263, -6580, 120], [-4636, -7476, 120], [-4399, -7496, 108], [-6769, -7571, 108], [-6853, -7377, 108], [-8273, -7231, 60], [-4182, -7512, 108], [-7525, -5855, 108], [-7495, -6329, 60], [-7297, -6946, 108], [-8148, -7137, 84], [-7030, -7301, 84]];\r\nexport { abWalls };","import { IContext } from \"../../app-context/icontext\";\r\n\r\nexport class AircraftSelection {\r\n\r\n    constructor(private context: IContext) {\r\n        const raptor = document.getElementById(\"select-raptor\");\r\n        raptor.onclick = () => this.selectAircraft(\"1\");\r\n        const spirit = document.getElementById(\"select-spirit\");\r\n        spirit.onclick = () => this.selectAircraft(\"2\");\r\n        const mohawk = document.getElementById(\"select-mohawk\");\r\n        mohawk.onclick = () => this.selectAircraft(\"3\");\r\n        const tornado = document.getElementById(\"select-tornado\");\r\n        tornado.onclick = () => this.selectAircraft(\"4\");\r\n        const prowler = document.getElementById(\"select-prowler\");\r\n        prowler.onclick = () => this.selectAircraft(\"5\");\r\n    }\r\n\r\n    public selectAircraft(selection: string) {\r\n        this.context.connection.sendCommand(\"respawn\", selection);\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\n\r\nexport class ApplyUpgrades {\r\n\r\n    constructor(private context: IContext) {\r\n        const speed = document.getElementById(\"select-speed\");\r\n        speed.onclick = () => this.applyUpgrade(\"1\");\r\n        const defense = document.getElementById(\"select-defense\");\r\n        defense.onclick = () => this.applyUpgrade(\"2\");\r\n        const energy = document.getElementById(\"select-energy\");\r\n        energy.onclick = () => this.applyUpgrade(\"3\");\r\n        const missile = document.getElementById(\"select-missile\");\r\n        missile.onclick = () => this.applyUpgrade(\"4\");\r\n\r\n        const drop = document.getElementById(\"drop-upgrade\");\r\n        drop.onclick = () => this.dropUpgrade();\r\n    }\r\n\r\n    public applyUpgrade(selection: string) {\r\n        this.context.connection.sendCommand(\"upgrade\", selection);\r\n    }\r\n\r\n    public dropUpgrade() {\r\n        this.context.connection.sendCommand(\"upgrades\", \"drop\");\r\n    }\r\n}\r\n","import { CHAT_TYPE } from \"../../ab-assets/chat-constants\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IChatSendArgs } from \"../../events/event-args/ichat-send-args\";\r\nimport { IMessageToPlayerArgs } from \"../../events/event-args/message-to-player-args\";\r\nimport { Player } from \"../../models/player\";\r\n\r\nexport class ChatInput {\r\n\r\n    private input: HTMLInputElement;\r\n    private commandRegex = /^\\/(\\w+)(?:\\s(.+))?$/;\r\n\r\n    constructor(private context: IContext) {\r\n        this.input = document.getElementById(\"chat-input-textbox\") as HTMLInputElement;\r\n        this.input.addEventListener(\"blur\", () => this.hide());\r\n        this.hide();\r\n\r\n        const instructionSpan = document.getElementById(\"input-instruction\");\r\n        instructionSpan.addEventListener(\"click\", () => this.showAndFocus());\r\n    }\r\n\r\n    public showAndFocus() {\r\n        this.input.style.display = \"block\";\r\n        this.input.focus();\r\n    }\r\n\r\n    public hide() {\r\n        this.input.style.display = \"none\";\r\n    }\r\n\r\n    public startChat(suggestedText: string) {\r\n        this.showAndFocus();\r\n        this.input.value = suggestedText;\r\n    }\r\n\r\n    public isChatInputFocused() {\r\n        return this.input.style.display.toLowerCase() === \"block\";\r\n    }\r\n\r\n    public submit() {\r\n        const text = this.input.value;\r\n\r\n        if (text) {\r\n            this.input.value = \"\";\r\n\r\n            const commandMatch = this.commandRegex.exec(text);\r\n            if (!commandMatch) {\r\n                this.context.eventQueue.pub(Events.CHAT_SEND, { text, type: CHAT_TYPE.CHAT } as IChatSendArgs);\r\n            } else {\r\n                const command = commandMatch[1];\r\n                const args = commandMatch[2];\r\n\r\n                if (command === \"t\") {\r\n                    this.context.eventQueue.pub(Events.CHAT_SEND,\r\n                        { text: args, type: CHAT_TYPE.TEAM } as IChatSendArgs);\r\n                } else if (command === \"s\") {\r\n                    this.context.eventQueue.pub(Events.CHAT_SEND, { text: args, type: CHAT_TYPE.SAY } as IChatSendArgs);\r\n                } else if (command === \"w\") {\r\n                    const allPlayers = this.context.state.getPlayers();\r\n                    allPlayers.sort((a, b) => b.name.length - a.name.length);\r\n\r\n                    let player: Player;\r\n                    for (const targetPlayer of allPlayers) {\r\n                        if (args.startsWith(targetPlayer.name)) {\r\n                            player = targetPlayer;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (player) {\r\n                        const whisperText = args.substr(player.name.length + 1);\r\n                        this.context.eventQueue.pub(Events.CHAT_SEND,\r\n                            {\r\n                                playerId: player.id,\r\n                                text: whisperText,\r\n                                type: CHAT_TYPE.WHISPER,\r\n                            } as IChatSendArgs);\r\n                    } else {\r\n                        this.context.eventQueue.pub(Events.MESSAGE_TO_PLAYER, {\r\n                            message: \"Unknown player, message not sent.\",\r\n                        } as IMessageToPlayerArgs);\r\n                    }\r\n\r\n                } else {\r\n                    this.context.connection.sendCommand(command, args || \"\");\r\n                }\r\n            }\r\n            this.hide();\r\n        }\r\n    }\r\n}\r\n","import { KEY_CODES } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { IKeyboardArgs } from \"../../events/event-args/ikeyboard-args\";\r\nimport { AircraftSelection } from \"./aircraft-selection\";\r\nimport { ApplyUpgrades } from \"./apply-upgrades\";\r\nimport { ChatInput } from \"./chat-input\";\r\nimport { PlayerDropDownMenu } from \"./player-dropdownmenu\";\r\nimport { DropFlag } from \"./drop-flag\";\r\nimport { AutoFire } from \"./auto-fire\";\r\nimport { Spectate } from \"./spectate\";\r\n\r\nexport class KeyboardAndMouseInput {\r\n\r\n    constructor(\r\n        private context: IContext,\r\n        private chatInput: ChatInput,\r\n        private applyUpgrades: ApplyUpgrades,\r\n        private dropFlag: DropFlag,\r\n        private autoFire: AutoFire,\r\n        private spectate: Spectate,\r\n        private aircraftSelection: AircraftSelection,\r\n        private playerDropdownMenu: PlayerDropDownMenu) {\r\n\r\n        document.addEventListener(\"keydown\", (e) => this.onKey(e, true));\r\n        document.addEventListener(\"keyup\", (e) => this.onKey(e, false));\r\n\r\n        const canvas = document.getElementById(\"canvas\");\r\n        canvas.addEventListener(\"mousedown\", (e) => this.onMouseFire(e, true));\r\n        canvas.addEventListener(\"mouseup\", (e) => this.onMouseFire(e, false));\r\n\r\n        // listen for clicks on usernames in chat and player list\r\n        const chat = document.getElementById(\"chat\");\r\n        const playerList = document.getElementById(\"player-list\");\r\n        chat.addEventListener(\"mouseup\", (e) => this.onMouseUpInChatOrPlayerList(e, false));\r\n        chat.addEventListener(\"contextmenu\", (e) => this.onMouseUpInChatOrPlayerList(e, true));\r\n        playerList.addEventListener(\"mouseup\", (e) => this.onMouseUpInChatOrPlayerList(e, false));\r\n        playerList.addEventListener(\"contextmenu\", (e) => this.onMouseUpInChatOrPlayerList(e, true));\r\n    }\r\n\r\n    private onMouseUpInChatOrPlayerList(e: MouseEvent, isContextMenu: boolean) {\r\n        // if the landing page is still shown, do nothing here\r\n        if (!this.context.isActive) {\r\n            return;\r\n        }\r\n\r\n        const element = e.target as HTMLElement;\r\n        if (!element.className || element.className.indexOf(\"player-name\") === -1) {\r\n            this.playerDropdownMenu.hide();\r\n            return;\r\n        }\r\n\r\n        if (!isContextMenu && e.button === 2) {\r\n            // regular right-click will be handled by contextmenu event.\r\n            return;\r\n        }\r\n\r\n        const playerName = element.dataset.name;\r\n        const playerId = element.dataset.id;\r\n\r\n        this.playerDropdownMenu.show(e.x, e.y, playerId, playerName);\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private onMouseFire(e: MouseEvent, isButtonDown: boolean) {\r\n        // if the landing page is still shown, do nothing here\r\n        if (!this.context.isActive) {\r\n            return;\r\n        }\r\n\r\n        this.context.eventQueue.pub(Events.KEYBOARD, { key: KEY_CODES.FIRE, state: isButtonDown } as IKeyboardArgs);\r\n\r\n        this.playerDropdownMenu.hide();\r\n    }\r\n\r\n    private onKey(e: KeyboardEvent, isKeyDown: boolean) {\r\n\r\n        // if the landing page is still shown, do nothing here\r\n        if (!this.context.isActive) {\r\n            return;\r\n        }\r\n\r\n        const isChatInputFocused = this.chatInput.isChatInputFocused();\r\n\r\n        // do limited key detection when typing in the chat box\r\n        if (isChatInputFocused) {\r\n            if (isKeyDown) {\r\n                if (e.keyCode === 27) {\r\n                    this.chatInput.hide();\r\n                }\r\n\r\n                if (e.keyCode === 13) {\r\n                    this.chatInput.submit();\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        let preventDefault = false;\r\n        let keyToSend: KEY_CODES;\r\n        switch (e.keyCode) {\r\n            case 16: // Shift\r\n            case 17: // Control\r\n                keyToSend = KEY_CODES.SPECIAL;\r\n                break;\r\n\r\n            case 32: // Space\r\n                keyToSend = KEY_CODES.FIRE;\r\n                break;\r\n\r\n            case 65: // A\r\n            case 37: // Left\r\n                preventDefault = true;\r\n                keyToSend = KEY_CODES.LEFT;\r\n                break;\r\n\r\n            case 87: // W\r\n            case 38: // Up\r\n                preventDefault = true;\r\n                keyToSend = KEY_CODES.UP;\r\n                break;\r\n\r\n            case 68: // D\r\n            case 39: // Right\r\n                preventDefault = true;\r\n                keyToSend = KEY_CODES.RIGHT;\r\n                break;\r\n\r\n            case 83: // S\r\n            case 40: // Down\r\n                preventDefault = true;\r\n                keyToSend = KEY_CODES.DOWN;\r\n                break;\r\n\r\n            case 13: // Enter\r\n                if (isKeyDown) {\r\n                    this.chatInput.showAndFocus();\r\n                }\r\n                break;\r\n\r\n            case 86: // v\r\n                if (isKeyDown) {\r\n                    this.spectate.spectate();\r\n                }\r\n                break;\r\n\r\n            case 88: // x\r\n                if (isKeyDown) {\r\n                    this.applyUpgrades.dropUpgrade();\r\n                }\r\n                break;\r\n\r\n            case 89: // y\r\n                if (isKeyDown) {\r\n                    this.dropFlag.dropFlag();\r\n                }\r\n                break;\r\n\r\n            case 90: // z\r\n                if (isKeyDown) {\r\n                    this.autoFire.toggleAutoFire();\r\n                }\r\n                break;\r\n\r\n            case 49: // 1\r\n            case 50: // 2\r\n            case 51: // 3\r\n            case 52: // 4\r\n                if (isKeyDown) {\r\n                    this.applyUpgrades.applyUpgrade(\"\" + (e.keyCode - 48));\r\n                }\r\n                break;\r\n\r\n            case 112: // F1\r\n            case 113: // F2\r\n            case 114: // F3\r\n            case 115: // F4\r\n            case 116: // F5\r\n                preventDefault = true;\r\n                if (isKeyDown) {\r\n                    this.aircraftSelection.selectAircraft(\"\" + (e.keyCode - 111));\r\n                }\r\n\r\n        }\r\n\r\n        if (keyToSend && !e.repeat) {\r\n            // if bot is active: stop it.\r\n            this.context.botstate.stop();\r\n\r\n            this.context.eventQueue.pub(Events.KEYBOARD, { key: keyToSend, state: isKeyDown } as IKeyboardArgs);\r\n        }\r\n\r\n        if (preventDefault) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n    }\r\n}\r\n","import { FLAGS_CODE_TO_ISO, GAME_TYPES } from \"../../ab-protocol/src/lib\";\r\nimport { BrowserContext } from \"../browser-context\";\r\nimport { Renderer } from \"../renderers/renderer\";\r\nimport { ChatInput } from \"./chat-input\";\r\n\r\nexport class PlayerDropDownMenu {\r\n    private readonly menu: HTMLDivElement;\r\n    private readonly menuTitle: HTMLDivElement;\r\n    private readonly menuStats: HTMLDivElement;\r\n\r\n    private currentId: number;\r\n    private currentName: string;\r\n\r\n    constructor(private context: BrowserContext, private chatInput: ChatInput, private renderer: Renderer) {\r\n        this.menu = document.getElementById(\"player-context-menu\") as HTMLDivElement;\r\n        this.menuTitle = document.getElementById(\"menu-title\") as HTMLDivElement;\r\n        this.menuStats = document.getElementById(\"menu-stats\") as HTMLDivElement;\r\n\r\n        // add handlers\r\n        const items = this.menu.getElementsByClassName(\"menu-item\");\r\n        for (const item of items) {\r\n            item.addEventListener(\"click\", () => this.onMenuItemClicked(item));\r\n        }\r\n    }\r\n\r\n    public show(x: number, y: number, id: string, name: string) {\r\n        this.menu.style.left = x + \"px\";\r\n        this.menu.style.top = y + \"px\";\r\n        this.menu.style.display = \"block\";\r\n\r\n        this.currentId = Number(id);\r\n        this.currentName = decodeURI(name);\r\n\r\n        const player = this.context.state.getPlayerById(Number(id));\r\n\r\n        this.menuTitle.innerText = this.currentName;\r\n        this.menuStats.innerText =\r\n            \"Kills: \" + player.kills + \"; Deaths: \" + player.deaths + \"\\n\" +\r\n            \"Damage: \" + player.damage + \"; Ping: \" + player.ping +\r\n            (this.context.gameType === GAME_TYPES.CTF ? \"\\nCaptures: \" + (player.captures ?? 0) : \"\");\r\n    }\r\n\r\n    public hide() {\r\n        this.menu.style.display = \"none\";\r\n    }\r\n\r\n    private onMenuItemClicked(item: Element) {\r\n        this.hide();\r\n\r\n        const player = this.context.state.getPlayerById(this.currentId);\r\n\r\n        if (!player || player.name === \"Server\") {\r\n            return;\r\n        }\r\n\r\n        switch (item.id) {\r\n            case \"menu-flag\":\r\n                this.context.connection.sendCommand(\"flag\", FLAGS_CODE_TO_ISO[\"\" + player.flag]);\r\n                break;\r\n\r\n            case \"menu-whisper\":\r\n                this.chatInput.startChat(`/w ${this.currentName} `);\r\n                break;\r\n\r\n            case \"menu-ignore\":\r\n                this.renderer.ignorePlayer(player.id);\r\n                this.renderer.addMessageToPlayer(\"Player chats will be ignored for player \" + player.name);\r\n                break;\r\n\r\n            case \"menu-unignore\":\r\n                this.renderer.unignorePlayer(player.id);\r\n                this.renderer.addMessageToPlayer(\"Removed player from the ignore list.\");\r\n                break;\r\n\r\n            case \"menu-votemute\":\r\n                this.context.connection.voteMute(player.id);\r\n                this.renderer.addMessageToPlayer(\"You have voted to mute player \" + player.name);\r\n                break;\r\n\r\n            case \"menu-locate\":\r\n                this.renderer.highlightPlayerOnMinimap(player.id);\r\n                break;\r\n\r\n            case \"menu-spectate\":\r\n                // start spectating\r\n                if (!this.context.state.spectatingId) {\r\n                    this.context.connection.sendCommand(\"spectate\", \"-3\");\r\n                }\r\n                // spectate player\r\n                this.context.connection.sendCommand(\"spectate\", player.id + \"\");\r\n                break;\r\n\r\n            case \"menu-kill\":\r\n                this.context.botstate.playerToKill = player.id;\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\n\r\nexport class StayActiveHandler implements IMessageHandler {\r\n    public handles = [Events.EACH_SECOND];\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n\r\n        // only do this when spectating\r\n        if (!this.context.state.spectatingId) {\r\n            return;\r\n        }\r\n\r\n        this.context.connection.sendKey(KEY_CODES.SPECIAL, true);\r\n    }\r\n\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { GAME_TYPES } from \"../../ab-protocol/src/lib\";\r\n\r\nexport class DropFlag {\r\n    constructor(private context: IContext) {\r\n\r\n        const drop = document.getElementById(\"drop-flag\");\r\n        drop.onclick = () => this.dropFlag();\r\n    }\r\n\r\n    public dropFlag() {\r\n        this.context.connection.sendCommand(\"drop\", \"\");\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { KEY_CODES } from \"../../ab-protocol/src/lib\";\r\n\r\nexport class AutoFire {\r\n    constructor(private context: IContext) {\r\n        const autofireButton = document.getElementById(\"auto-fire\");\r\n        autofireButton.onclick = () => this.toggleAutoFire();\r\n    }\r\n\r\n    public toggleAutoFire() {\r\n        this.context.botstate.autoFire = !this.context.botstate.autoFire;\r\n        this.context.botstate.autoFireToggledManually = this.context.botstate.autoFire;\r\n    }\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\n\r\nconst AUTOFIRE_THRESHOLD_MS = 250;\r\nexport class AutoFireHandler implements IMessageHandler {\r\n    public handles = [Events.TICK];\r\n\r\n    private timer = new StopWatch();\r\n    private wasAutoFiring = false;\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n\r\n        if (!this.wasAutoFiring && !this.context.botstate.autoFire) {\r\n            return;\r\n        }\r\n\r\n        if (this.timer.elapsedMs < AUTOFIRE_THRESHOLD_MS) {\r\n            return;\r\n        }\r\n\r\n        this.timer.start();\r\n\r\n        this.context.connection.sendKey(KEY_CODES.FIRE, this.context.botstate.autoFire);\r\n        this.wasAutoFiring = this.context.botstate.autoFire;\r\n    }\r\n\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\n\r\nexport class Spectate {\r\n    constructor(private context: IContext) {\r\n\r\n        const drop = document.getElementById(\"spectate\");\r\n        drop.onclick = () => this.spectate();\r\n    }\r\n\r\n    public spectate() {\r\n        this.context.connection.sendCommand(\"spectate\", \"-3\");\r\n    }\r\n}\r\n","import { IContext } from \"../../app-context/icontext\";\r\nimport { ServerMessage } from \"../../ab-protocol/src/types/packets-server\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { StopWatch } from \"../../helpers/stopwatch\";\r\n\r\nexport class SwitchSides {\r\n\r\n    private timer: StopWatch;\r\n\r\n    constructor(private context: IContext) {\r\n\r\n        const switchSides = document.getElementById(\"switch-sides\");\r\n        switchSides.onclick = () => this.switch();\r\n    }\r\n\r\n    public switch() {\r\n        // prevent an endless loop if spectating fails\r\n        if (this.timer && this.timer.elapsedSeconds > 5) {\r\n            this.showMessage(\"Switch failed, giving up.\")\r\n            this.timer = null;\r\n            return;\r\n        }\r\n\r\n        if (!this.timer) {\r\n            this.timer = new StopWatch();\r\n        }\r\n\r\n        const c = this.context;\r\n\r\n        if (c.botstate.isOn()) {\r\n            this.showMessage(\"Switching, stopping automatic activity...\");\r\n            c.botstate.stop(true);\r\n            c.tm.setTimeout(() => this.switch(), 2000);\r\n            return;\r\n        }\r\n\r\n        if (!c.state.spectatingId) {\r\n            this.showMessage(\"Switching, entering spec mode...\")\r\n            c.connection.sendCommand(\"spectate\", \"-3\");\r\n            c.tm.setTimeout(() => this.switch(), 500 + this.timer.elapsedMs / 4);\r\n            return;\r\n        }\r\n\r\n        this.timer = null;\r\n        this.showMessage(\"Switching...\")\r\n        c.connection.sendCommand(\"switch\", \"\");\r\n        c.tm.setTimeout(() => {\r\n            this.showMessage(\"Switching, respawning...\")\r\n            const myAircraft = c.state.getPlayerById(c.state.myPlayerId);\r\n            c.connection.sendCommand(\"respawn\", myAircraft.type.toString());\r\n        }, 500);\r\n    }\r\n\r\n    private showMessage(msg: string) {\r\n        const servermessage = {\r\n            text: msg,\r\n            duration: 1000\r\n        } as ServerMessage;\r\n\r\n        this.context.eventQueue.pub(Events.SERVER_ANNOUNCEMENT, servermessage);\r\n    }\r\n}\r\n","import { FLAG_DEFAULT_POSITION } from \"../../ab-assets/ctf-constants\";\r\nimport { CTF_FLAG_STATE, CTF_TEAMS, KEY_CODES, PLAYER_STATUS } from \"../../ab-protocol/src/lib\";\r\nimport { IContext } from \"../../app-context/icontext\";\r\nimport { FaceLocationExecutor } from \"../../botting/face-location-executor\";\r\nimport { GotoLocationExecutor } from \"../../botting/goto-location-executor\";\r\nimport { Events } from \"../../events/constants\";\r\nimport { EventMessage } from \"../../events/event-message\";\r\nimport { StopWatch } from \"../../helpers/stopwatch\";\r\nimport { IPos } from \"../../models/ipos\";\r\nimport { IMessageHandler } from \"../imessage-handler\";\r\n\r\nconst BOT_TICK_MS = 250;\r\nconst SHOOTING_RANGE = 1000;\r\n\r\nexport class BotHeartbeatHandler implements IMessageHandler {\r\n\r\n    public handles = [Events.TICK];\r\n\r\n    private timer = new StopWatch(BOT_TICK_MS);\r\n\r\n    constructor(private context: IContext) {\r\n        this.timer.start();\r\n    }\r\n\r\n    public exec(ev: EventMessage): void {\r\n        if (!this.timer.hasTimedOut) {\r\n            return;\r\n        }\r\n\r\n        if (this.context.botstate.autoPilotToFlag) {\r\n            this.autoPilot();\r\n        } else if (this.context.botstate.playerToKill) {\r\n            this.followPlayer();\r\n        }\r\n\r\n        this.doSteering();\r\n\r\n        this.timer.start();\r\n    }\r\n\r\n    private autoPilot() {\r\n\r\n        const otherTeam = this.context.state.getOtherCtfTeam(this.context.state.team);\r\n        if (!otherTeam) {\r\n            return;\r\n        }\r\n        const me = this.context.state.getFocusedPlayer();\r\n\r\n        let posToGoTo: IPos = otherTeam.flagPos;\r\n        if (otherTeam.flagState === CTF_FLAG_STATE.DYNAMIC) {\r\n            // flag is on the move\r\n            if (otherTeam.flagTakenById === this.context.state.myPlayerId) {\r\n                // I'm carrying the flag\r\n                // fly back to our own flag\r\n                if (this.context.state.team === CTF_TEAMS.BLUE) {\r\n                    posToGoTo = FLAG_DEFAULT_POSITION.blue;\r\n                } else {\r\n                    posToGoTo = FLAG_DEFAULT_POSITION.red;\r\n                }\r\n            } else {\r\n                const carrier = this.context.state.getPlayerById(otherTeam.flagTakenById);\r\n                if (carrier) {\r\n                    posToGoTo = carrier.mostReliablePos;\r\n                }\r\n            }\r\n        }\r\n\r\n        const goto = new GotoLocationExecutor(this.context, me, posToGoTo, 10, false);\r\n        goto.execute(this.timer.elapsedMs);\r\n\r\n    }\r\n\r\n    private followPlayer() {\r\n        const killPlayer = this.context.state.getPlayerById(this.context.botstate.playerToKill);\r\n\r\n        if (!killPlayer) {\r\n            this.context.botstate.playerToKill = null;\r\n            return;\r\n        }\r\n\r\n        if (killPlayer.status !== PLAYER_STATUS.ALIVE) {\r\n            return;\r\n        }\r\n\r\n        const me = this.context.state.getFocusedPlayer();\r\n        const posToGoTo = killPlayer.mostReliablePos;\r\n\r\n        const goto = new GotoLocationExecutor(this.context, me, posToGoTo);\r\n        const { isClose, distance } = goto.execute(this.timer.elapsedMs, SHOOTING_RANGE);\r\n\r\n        if (isClose) {\r\n            const faceLocation = new FaceLocationExecutor(this.context, me, posToGoTo);\r\n            faceLocation.execute();\r\n        }\r\n\r\n        if (distance < SHOOTING_RANGE) {\r\n            this.context.botstate.autoFire = true;\r\n        } else {\r\n            this.context.botstate.autoFire = false;\r\n        }\r\n    }\r\n\r\n    private doSteering() {\r\n        const keyInstructions = this.context.botstate.eatKeyQueue();\r\n\r\n        const allKeys = [KEY_CODES.UP, KEY_CODES.DOWN, KEY_CODES.LEFT, KEY_CODES.RIGHT, KEY_CODES.FIRE, KEY_CODES.SPECIAL];\r\n\r\n        // only send the last state per key of all instructions\r\n        for (const keyCode of allKeys) {\r\n            for (let i = keyInstructions.length - 1; i >= 0; i--) {\r\n                const instr = keyInstructions[i];\r\n                if (instr.key === keyCode) {\r\n                    // in case of duration (= turning during a certain time, or boosting), only send the key if we aren't doing it already.\r\n                    if (instr.duration > 0) {\r\n                        // check if we can reserve a timeout slot\r\n                        const timeoutAcquired = this.context.botstate.requestTimeoutFor(instr);\r\n\r\n                        if (timeoutAcquired) {\r\n                            this.context.connection.sendKey(instr.key, instr.state);\r\n                        }\r\n                    } else {\r\n                        this.context.connection.sendKey(instr.key, instr.state);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n    }\r\n\r\n}\r\n","import { SHIPS_SPECS } from \"../ab-assets/ships-constants\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { Rotation } from \"../helpers/rotation\";\r\nimport { IPos } from \"../models/ipos\";\r\nimport { Player } from \"../models/player\";\r\n\r\nconst MS_PER_SEC = 1000;\r\nconst FPS = 60;\r\nconst MS_PER_FRAME = MS_PER_SEC / FPS;\r\n\r\nexport class FaceLocationExecutor {\r\n\r\n    constructor(private context: IContext, private me: Player, private locationToFace: IPos) {\r\n\r\n    }\r\n\r\n    public execute() {\r\n\r\n        if (this.context.botstate.turningTimeout) {\r\n            return;\r\n        }\r\n\r\n        const pos = this.locationToFace;\r\n\r\n        const targetRotation = Rotation.getTargetRotation(this.me.pos, pos);\r\n        const rotDiff = Rotation.getAngleDiff(this.me.rot, targetRotation);\r\n        const absDiff = Math.abs(rotDiff);\r\n\r\n        let key: KEY_CODES;\r\n        let otherKey: KEY_CODES;\r\n        if (rotDiff > 0) {\r\n            key = KEY_CODES.RIGHT;\r\n            otherKey = KEY_CODES.LEFT;\r\n        } else {\r\n            key = KEY_CODES.LEFT;\r\n            otherKey = KEY_CODES.RIGHT;\r\n        }\r\n\r\n        // turnfactor = turning distance per frame\r\n        const turnFactor = SHIPS_SPECS[this.me.type].turnFactor;\r\n        const framesNeededToTurn = absDiff / turnFactor\r\n        const duration = framesNeededToTurn * MS_PER_FRAME;\r\n        this.context.botstate.enqueueKey(key, true, duration);\r\n        this.context.botstate.enqueueKey(otherKey, false);\r\n    }\r\n}","import { IPos } from \"../models/ipos\";\r\n\r\nexport class Rotation {\r\n    static getAngleDiff(current: number, target: number): number {\r\n        return Math.atan2(Math.sin(target - current), Math.cos(target - current));\r\n    }\r\n\r\n    static getTargetRotation(pos1: IPos, pos2: IPos): number {\r\n        let theta = Math.atan2(pos2.x - pos1.x, pos1.y - pos2.y);\r\n        if (theta < 0) {\r\n            theta += Math.PI * 2;\r\n        }\r\n\r\n        return theta;\r\n    }\r\n}","import { SHIPS_TYPES } from \"../ab-assets/ships-constants\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\nimport { IContext } from \"../app-context/icontext\";\r\nimport { Delta } from \"../helpers/delta\";\r\nimport { Prediction } from \"../helpers/prediction\";\r\nimport { IPos } from \"../models/ipos\";\r\nimport { Player } from \"../models/player\";\r\nimport { FaceLocationExecutor } from \"./face-location-executor\";\r\n\r\nconst DISTANCE_CLOSE = 300;\r\nconst DISTANCE_TOO_CLOSE = 50;\r\nconst DISTANCE_FAR = DISTANCE_CLOSE * 2;\r\n\r\nconst MS_PER_SEC = 1000;\r\nconst FPS = 60;\r\nconst MS_PER_FRAME = MS_PER_SEC / FPS;\r\n\r\ninterface IGotoResult {\r\n    isClose: boolean;\r\n    distance: number;\r\n}\r\n\r\nexport class GotoLocationExecutor {\r\n\r\n    constructor(private context: IContext, private me: Player, private posToGoTo: IPos, private closeness = DISTANCE_CLOSE, private backupIfTooClose: boolean = true) {\r\n    }\r\n\r\n    private finish(isClose: boolean, distance: number): IGotoResult {\r\n        this.context.botstate.path = null;\r\n        this.context.botstate.enqueueKey(KEY_CODES.UP, false);\r\n        if (this.backupIfTooClose) {\r\n            this.context.botstate.enqueueKey(KEY_CODES.DOWN, true);\r\n        }\r\n        return { isClose, distance };\r\n    }\r\n\r\n    public execute(tickDuration: number, allowBoostRange: number = DISTANCE_FAR): IGotoResult {\r\n        const { distance } = Delta.getDelta(this.me.pos, this.posToGoTo);\r\n\r\n        this.context.botstate.distanceToTarget = Math.round(distance);\r\n\r\n        if (distance < DISTANCE_TOO_CLOSE) {\r\n            return this.finish(true, distance);\r\n        }\r\n\r\n        this.context.botstate.initPathFindingWorker();\r\n\r\n        if (this.context.botstate.needsNewPath) {\r\n            // avoid players and missiles\r\n            const avoid: IPos[] = [];\r\n            for (const p of this.context.state.getPlayers()) {\r\n                if (p.id === this.me.id || p.id === this.context.botstate.playerToKill) {\r\n                    continue;\r\n                }\r\n                avoid.push(Prediction.predictPosition(p.mostReliablePos, p.speed, tickDuration));\r\n            }\r\n            for (const m of this.context.state.getMissiles()) {\r\n                if (m.team === this.me.team) {\r\n                    continue;\r\n                }\r\n                avoid.push(Prediction.predictPosition(m.pos, m.speed, tickDuration));\r\n            }\r\n\r\n            this.context.botstate.calcPath({\r\n                pos1: this.me.pos,\r\n                pos2: this.posToGoTo,\r\n                aircraftType: this.me.type,\r\n                pointsToAvoid: avoid\r\n            });\r\n        }\r\n\r\n        if (!this.context.botstate.path) {\r\n            // still calculating\r\n            return { isClose: false, distance };\r\n        }\r\n\r\n        const path = this.context.botstate.path;\r\n        const nextStep = this.nextStep(path, tickDuration);\r\n        if (!nextStep) {\r\n            return this.finish(true, distance);\r\n        }\r\n\r\n        const faceLocation = new FaceLocationExecutor(this.context, this.me, nextStep);\r\n        faceLocation.execute();\r\n\r\n        const isClose = distance < this.closeness;\r\n        if (isClose) {\r\n            return this.finish(true, distance);\r\n        } else {\r\n            this.context.botstate.enqueueKey(KEY_CODES.UP, true);\r\n\r\n            if (this.me.type === SHIPS_TYPES.PREDATOR) {\r\n                this.context.botstate.autoBoost = distance > allowBoostRange;\r\n            }\r\n        }\r\n        return { isClose, distance };\r\n    }\r\n\r\n    nextStep(path: IPos[], tickDurationMs: number) {\r\n        const firstStep = path[0];\r\n        if (!firstStep) {\r\n            return null;\r\n        }\r\n        const { distance } = Delta.getDelta(this.me.mostReliablePos, firstStep);\r\n\r\n        const numFramesInPrevTick = tickDurationMs / MS_PER_FRAME;\r\n        const distancePrevTick = Math.sqrt(Math.pow(this.me.speed.y, 2) + Math.pow(this.me.speed.x, 2)) * numFramesInPrevTick;\r\n        if (distance > distancePrevTick * 3) {\r\n            this.context.botstate.path = path.slice(1);\r\n\r\n            return firstStep;\r\n        }\r\n\r\n        return this.nextStep(path.slice(1), tickDurationMs);\r\n    }\r\n}","import { IPos } from \"../models/ipos\";\r\n\r\nexport class Delta {\r\n    public diffX: number;\r\n    public diffY: number;\r\n    public distance: number;\r\n\r\n    public static getDelta(first: IPos, second: IPos): Delta {\r\n        if (!first || !second) {\r\n            return null;\r\n        }\r\n\r\n        const diffX = second.x - first.x;\r\n        const diffY = second.y - first.y;\r\n        const distance = Math.sqrt(diffX * diffX + diffY * diffY);\r\n        return {\r\n            diffX,\r\n            diffY,\r\n            distance\r\n        };\r\n    }\r\n}","import { IPos } from \"../models/ipos\";\r\n\r\nconst MS_PER_SEC = 1000;\r\nconst FPS = 60;\r\nconst MS_PER_FRAME = MS_PER_SEC / FPS;\r\n\r\nexport class Prediction {\r\n    static predictPosition(pos: IPos, speed: IPos, lookaheadMs: number): IPos {\r\n        if (!speed || !pos) {\r\n            return pos;\r\n        }\r\n\r\n        const framesAhead = lookaheadMs / MS_PER_FRAME;\r\n\r\n        const pred: IPos = {\r\n            x: pos.x + speed.x * framesAhead,\r\n            y: pos.y + speed.y * framesAhead\r\n        };\r\n\r\n        return pred;\r\n    }\r\n\r\n}","import { IContext } from \"../../app-context/icontext\";\r\n\r\nexport class AutoPilotToFlag {\r\n    constructor(private context: IContext) {\r\n\r\n        const button = document.getElementById(\"fly-to-flag\");\r\n        button.onclick = () => this.autoPilotToFlag();\r\n    }\r\n\r\n    public autoPilotToFlag() {\r\n\r\n        this.context.botstate.autoPilotToFlag = !this.context.botstate.autoPilotToFlag;\r\n    }\r\n}\r\n","import { IContext } from \"../app-context/icontext\";\r\nimport { Events } from \"../events/constants\";\r\nimport { EventMessage } from \"../events/event-message\";\r\nimport { IMessageHandler } from \"./imessage-handler\";\r\nimport { StopWatch } from \"../helpers/stopwatch\";\r\nimport { KEY_CODES } from \"../ab-protocol/src/lib\";\r\n\r\nconst AUTOBOOST_THRESHOLD_MS = 1000;\r\n\r\nexport class AutoBoostHandler implements IMessageHandler {\r\n    public handles = [Events.TICK];\r\n\r\n    private timer = new StopWatch();\r\n    private wasAutoBoosting = false;\r\n\r\n    constructor(private context: IContext) {\r\n    }\r\n\r\n    public exec(ev: EventMessage) {\r\n\r\n        if (!this.wasAutoBoosting && !this.context.botstate.autoBoost) {\r\n            return;\r\n        }\r\n\r\n        if (this.timer.elapsedMs < AUTOBOOST_THRESHOLD_MS) {\r\n            return;\r\n        }\r\n\r\n        const enemyTeam = this.context.state.getOtherCtfTeam(this.context.state.team);\r\n        if (enemyTeam && enemyTeam.flagTakenById === this.context.state.myPlayerId) {\r\n            return;\r\n        }\r\n\r\n        this.timer.start();\r\n\r\n        this.context.connection.sendKey(KEY_CODES.SPECIAL, this.context.botstate.autoBoost);\r\n        this.wasAutoBoosting = this.context.botstate.autoBoost;\r\n    }\r\n\r\n}\r\n","\r\nimport Cookies from \"js-cookie\";\r\nimport { COUNTRY_NAMES } from \"../ab-protocol/src/lib\";\r\nimport { Settings } from \"../app-context/settings\";\r\nimport { ServerGamesRepository } from \"../helpers/games-repository\";\r\nimport { StylesRepository } from \"../helpers/styles-repository\";\r\nimport { GameEndpoint } from \"../models/game-endpoint\";\r\nimport { ServerRegion } from \"../models/server-region\";\r\nimport { BrowserContext } from \"./browser-context\";\r\nimport { ThirdPartyLogin } from \"./thirdparty-login\";\r\n\r\nexport class LandingPage {\r\n\r\n    private serverGamesRepository: ServerGamesRepository;\r\n    private stylesRepository: StylesRepository;\r\n    private nameInput: HTMLInputElement;\r\n    private styleSelect: HTMLSelectElement;\r\n    private zoomSelect: HTMLSelectElement;\r\n    private loadConstantsPromise: Promise<any>;\r\n\r\n    private thirdPartyLogin: ThirdPartyLogin;\r\n\r\n    constructor(private context: BrowserContext) {\r\n        this.serverGamesRepository = new ServerGamesRepository();\r\n        this.stylesRepository = new StylesRepository();\r\n\r\n        this.nameInput = document.getElementById(\"playerName\") as HTMLInputElement;\r\n        this.styleSelect = document.getElementById(\"styleSelect\") as HTMLSelectElement;\r\n        this.zoomSelect = document.getElementById(\"zoomSelect\") as HTMLSelectElement;\r\n\r\n        this.thirdPartyLogin = new ThirdPartyLogin(context);\r\n    }\r\n\r\n    public async run(): Promise<void> {\r\n        this.doBackground();\r\n\r\n        await this.populateServerList();\r\n\r\n        this.loadAllFlags();\r\n        this.fillInPrevSettings();\r\n\r\n        this.loadConstantsPromise = this.stylesRepository.loadStyle(\"styles/default/\");\r\n\r\n        this.styleSelect.addEventListener(\"change\", () => {\r\n            if (this.styleSelect.value !== \"no-bitmaps\") {\r\n                this.loadConstantsPromise = this.stylesRepository.loadStyle(this.styleSelect.value);\r\n            }\r\n        });\r\n    }\r\n\r\n    private fillInPrevSettings() {\r\n        const prevSettingsString = Cookies.get(\"settings\");\r\n        if (!prevSettingsString) {\r\n            return;\r\n        }\r\n\r\n        const prevSettings = JSON.parse(prevSettingsString) as Settings;\r\n\r\n        this.nameInput.value = prevSettings.playerName;\r\n        this.select(this.zoomSelect, prevSettings.zoom.toString());\r\n\r\n        if (!prevSettings.useBitmaps) {\r\n            this.styleSelect.options[1].selected = true;\r\n        }\r\n    }\r\n\r\n    private select(selectElement: HTMLSelectElement, value: string) {\r\n        for (const option of selectElement.options) {\r\n            if (option.value === value) {\r\n                option.selected = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private async startGame(websocketUrl: string) {\r\n\r\n        this.context.settings.playerName = this.nameInput.value || \"Unknown\";\r\n        this.context.settings.websocketUrl = websocketUrl;\r\n        this.context.settings.zoom = Number(this.zoomSelect.value) || 1;\r\n        this.context.settings.useBitmaps = this.styleSelect.value !== \"no-bitmaps\";\r\n        this.context.settings.horizonX = window.innerWidth / 2;\r\n        this.context.settings.horizonY = window.innerHeight / 2;\r\n\r\n        Cookies.set(\"settings\", JSON.stringify(this.context.settings), { expires: 365 });\r\n\r\n        document.getElementById(\"nameAndGame\").style.display = \"none\";\r\n        document.getElementById(\"chat\").style.display = \"block\";\r\n        document.getElementById(\"chat-input\").style.display = \"block\";\r\n        document.getElementById(\"aircraftSelection\").style.display = \"block\";\r\n        document.getElementById(\"stats\").style.display = \"block\";\r\n        document.getElementById(\"upgradeSelection\").style.display = \"block\";\r\n        document.getElementById(\"actionButtons\").style.display = \"block\";\r\n        document.getElementById(\"minimap\").style.display = \"block\";\r\n        document.getElementById(\"player-list\").style.display = \"block\";\r\n        document.getElementById(\"server-message\").style.display = \"block\";\r\n\r\n        if (location.href.indexOf(\"debug\") > -1) {\r\n            document.getElementById(\"debugPanel\").style.display = \"block\";\r\n            this.context.settings.shouldShowDebugInfo = true;\r\n        }\r\n\r\n        await this.loadConstantsPromise;\r\n\r\n        // ctf-block will be shown later\r\n        window.document.body.style.backgroundImage = \"inherit\";\r\n        this.context.start();\r\n\r\n        // expose context to manipulation in F12 :)\r\n        (window as any).gameContext = this.context;\r\n    }\r\n\r\n    private async populateServerList() {\r\n        const serverInfo = await this.serverGamesRepository.getServerInfo();\r\n\r\n        const flag = Cookies.get(\"flag\") || serverInfo.country;\r\n        this.context.settings.flag = flag;\r\n\r\n        const gamesContainer = document.getElementById(\"games\");\r\n        const table = document.createElement(\"table\");\r\n        table.innerHTML = \"<tr><th>Region</th><th>Game</th><th>Players online</th><th></th></tr>\";\r\n        gamesContainer.append(table);\r\n\r\n        for (const server of serverInfo.data) {\r\n            for (const game of server.games) {\r\n                const row = document.createElement(\"tr\");\r\n                table.append(row);\r\n\r\n                const cellRegion = document.createElement(\"td\");\r\n                row.append(cellRegion);\r\n                cellRegion.innerText = server.name;\r\n                cellRegion.className = \"region\";\r\n\r\n                const cellGameName = document.createElement(\"td\");\r\n                row.append(cellGameName);\r\n                cellGameName.innerText = game.name;\r\n                cellGameName.className = \"game-name\";\r\n\r\n                const cellNumPlayers = document.createElement(\"td\");\r\n                row.append(cellNumPlayers);\r\n                cellNumPlayers.innerText = game.players || game.players === 0 ? game.players.toString() : \"?\";\r\n                cellNumPlayers.className = \"num-players\";\r\n\r\n                const cellButton = document.createElement(\"td\");\r\n                row.append(cellButton);\r\n                const button = document.createElement(\"input\") as HTMLInputElement;\r\n                cellButton.append(button);\r\n                cellButton.className = \"start-button\";\r\n                button.type = \"button\";\r\n                button.value = \"Start\";\r\n\r\n                let protocol = \"wss\";\r\n                if (game.type === 0) {\r\n                    protocol = \"ws\"; // no https\r\n                }\r\n                const url = `${protocol}://${game.host}/${game.path}`;\r\n                button.onclick = () => this.startGame(url);\r\n            }\r\n        }\r\n    }\r\n\r\n    private loadAllFlags() {\r\n        for (const flag of Object.keys(COUNTRY_NAMES)) {\r\n            const img = document.createElement(\"img\");\r\n            img.src = `flags/${flag}.png`;\r\n            img.style.display = \"none\";\r\n            img.id = `flag-${flag}`;\r\n            document.body.appendChild(img);\r\n        }\r\n    }\r\n\r\n    private doBackground() {\r\n        const map = document.getElementById(\"map\") as HTMLImageElement;\r\n        window.document.body.style.backgroundImage = `url(${map.src})`;\r\n        window.document.body.style.backgroundSize = \"cover\";\r\n    }\r\n}\r\n","import axios from \"axios\";\r\nimport { GameEndpoint } from \"../models/game-endpoint\";\r\nimport { ServerRegion } from \"../models/server-region\";\r\nimport { ServerRegionInfoDto } from \"../models/server-region-info\";\r\n\r\nconst GAMES_URL = \"https://data.airmash.rocks/games?main=1&_=\";\r\nconst FALLBACK_URL = \"https://raw.githubusercontent.com/airmash-refugees/airmash-games/master/games.txt?_=\";\r\nconst LOCAL_SERVER_URL = process.env.LOCAL_SERVER_URL; \r\n\r\nexport class ServerGamesRepository {\r\n\r\n    private addLocalServerUrl(serverInfo: ServerRegionInfoDto) {\r\n\r\n        // if running locally, add the local server url to connect to\r\n        if (!LOCAL_SERVER_URL) {\r\n            return;\r\n        } \r\n\r\n        const localUrl = new URL(LOCAL_SERVER_URL);\r\n\r\n        serverInfo.data.unshift({\r\n            games: [{\r\n                host: localUrl.host,\r\n                id: \"local\",\r\n                name: \"Local\",\r\n                nameShort: \"local\",\r\n                path: localUrl.pathname.slice(1), // this doesn't matter if running locally\r\n                players: 0,\r\n                type: localUrl.protocol === \"ws:\" ? 0 : 1, // this probably doesnt matter too, use it as an http indicator\r\n            } as GameEndpoint],\r\n            id: \"local\",\r\n            name: \"Local\",\r\n        } as ServerRegion);\r\n    }\r\n\r\n    public async getServerInfo(): Promise<ServerRegionInfoDto> {\r\n\r\n        let result: ServerRegionInfoDto;\r\n\r\n        try {\r\n            const response = await axios.get(GAMES_URL + Date.now());\r\n            const data = response.data;\r\n\r\n            // the data property in the response is again stringified\r\n            data.data = JSON.parse(data.data);\r\n            result = data;\r\n\r\n        } catch (error) {\r\n\r\n            result = await this.getFallbackData();\r\n\r\n        }\r\n\r\n        this.addLocalServerUrl(result);\r\n\r\n        return result;\r\n    }\r\n\r\n    private async getFallbackData(): Promise<ServerRegionInfoDto> {\r\n        // fallback data\r\n        const response = await axios.get(FALLBACK_URL + Date.now());\r\n        const data: string = response.data;\r\n        const lines = data.split(\"\\n\");\r\n\r\n        const result = new ServerRegionInfoDto();\r\n        result.country = \"?\";\r\n        result.protocol = 1;\r\n        result.data = [];\r\n        for (const line of lines) {\r\n            const fields = line.split(\"|\");\r\n            let region = result.data.find((x) => x.name === fields[0]);\r\n            if (!region) {\r\n                region = new ServerRegion();\r\n                region.name = fields[0];\r\n                region.id = fields[0];\r\n                region.games = [];\r\n                result.data.push(region);\r\n            }\r\n\r\n            const game = new GameEndpoint();\r\n            game.name = fields[3];\r\n            game.nameShort = fields[4];\r\n            game.host = fields[5];\r\n            game.path = fields[6];\r\n\r\n            region.games.push(game);\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","module.exports = require('./lib/axios');","export class GameEndpoint {\r\n    public type: number;\r\n    public id: string;\r\n    public name: string;\r\n    public nameShort: string;\r\n    public host: string;\r\n    public path: string;\r\n    public players: number;\r\n}\r\n","import { GameEndpoint } from \"./game-endpoint\";\r\n\r\nexport class ServerRegion {\r\n    public name: string;\r\n    public id: string;\r\n    public games: GameEndpoint[];\r\n}\r\n","import { ServerRegion } from \"./server-region\";\r\n\r\nexport class    ServerRegionInfoDto {\r\n    public country: string;\r\n    public protocol: number;\r\n    public data: ServerRegion[];\r\n}\r\n","export class StylesRepository {\r\n\r\n    private lastUrl = \"styles/default/\";\r\n\r\n    public async loadStyle(url: string): Promise<any> {\r\n\r\n        // replace all image files with this style\r\n        const images = document.querySelectorAll(\"img\");\r\n        for (const img of images) {\r\n            img.src = img.src.replace(this.lastUrl, url);\r\n        }\r\n\r\n        // replace css link in header\r\n        const link = document.getElementById(\"ui-styling\") as HTMLLinkElement;\r\n        link.href = link.href.replace(this.lastUrl, url);\r\n\r\n        this.lastUrl = url;\r\n    }\r\n}\r\n","import { AuthData } from \"../app-context/auth-data\";\r\nimport { BrowserContext } from \"./browser-context\";\r\n\r\nconst LOGIN_URL = \"https://login.airmash.rocks\";\r\nconst AUTH_DATA_KEY = \"auth-data\";\r\n\r\nexport class ThirdPartyLogin {\r\n\r\n    private loginButton: HTMLButtonElement;\r\n    private loginSelector: HTMLDivElement;\r\n    private overlay: HTMLDivElement;\r\n    private loginMessage: HTMLSpanElement;\r\n\r\n    private loginToken: string;\r\n    private usedProvider: number;\r\n\r\n    private orgLoginMessageText: string;\r\n    private orgLoginButtonText: string;\r\n\r\n    constructor(private context: BrowserContext) {\r\n\r\n        this.loginButton = document.getElementById(\"loginButton\") as HTMLButtonElement;\r\n        this.loginSelector = document.getElementById(\"loginselector\") as HTMLDivElement;\r\n        this.overlay = document.getElementById(\"overlay\") as HTMLDivElement;\r\n        this.loginMessage = document.getElementById(\"loginMessage\") as HTMLSpanElement;\r\n\r\n        this.orgLoginMessageText = this.loginMessage.innerHTML;\r\n        this.orgLoginButtonText = this.loginButton.value;\r\n\r\n        this.loginButton.addEventListener(\"click\", () => {\r\n            const isLoggedIn = !!this.context.auth;\r\n\r\n            if (isLoggedIn) {\r\n                this.logout();\r\n            } else {\r\n                // show login stuff\r\n                this.overlay.style.display = \"block\";\r\n                this.loginSelector.style.display = \"block\";\r\n            }\r\n        });\r\n\r\n        this.overlay.addEventListener(\"click\", () => this.finish());\r\n\r\n        const loginButtons = document.querySelectorAll(\".loginbutton\");\r\n\r\n        for (const btn of loginButtons) {\r\n            const provider = btn.getAttribute(\"data-provider\");\r\n            btn.addEventListener(\"click\", () => this.loginPopup(Number(provider)));\r\n        }\r\n\r\n        this.loadPreviousLoginData();\r\n    }\r\n\r\n    private async loadPreviousLoginData() {\r\n        try {\r\n            const raw = localStorage.getItem(AUTH_DATA_KEY);\r\n            if (raw) {\r\n                const data = JSON.parse(raw) as AuthData;\r\n                this.context.auth = data;\r\n            }\r\n        } catch (error) {\r\n            this.context.logger.error(\"Auth data could not be loaded\", error);\r\n        }\r\n\r\n        this.toggleLoginMessage();\r\n    }\r\n\r\n    private toggleLoginMessage() {\r\n        const isLoggedIn = !!this.context.auth;\r\n\r\n        if (isLoggedIn) {\r\n            this.loginButton.value = \"Log out\";\r\n            this.loginMessage.innerHTML = `Logged in as ${this.context.auth.loginName}`;\r\n        } else {\r\n            this.loginButton.value = this.orgLoginButtonText;\r\n            this.loginMessage.innerHTML = this.orgLoginMessageText;\r\n        }\r\n    }\r\n\r\n    private finish() {\r\n        this.overlay.style.display = \"none\";\r\n        this.loginSelector.style.display = \"none\";\r\n    }\r\n\r\n    private getRandomToken(length: number) {\r\n        let token = window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16);\r\n        if (length - token.length > 0) {\r\n            token += this.getRandomToken(length - token.length);\r\n        }\r\n        return token.substr(0, length);\r\n    }\r\n\r\n    /*\r\n     * The popup window opened on login.airmash.rocks ends up posting a message\r\n     * back to the main window like so:\r\n     *\r\n     *   <html>\r\n     *     <head>\r\n     *       <script type=\"text/javascript\">\r\n     *         function closePopup(){\r\n     *           window.opener.postMessage({\r\n     *               nonce:       \"…\",  // randomly generated by client, for CSRF prevention\r\n     *               tokens:      \"…\",  // tokens used by client to authenticate with settings service and game servers\r\n     *               provider:     …,   // number indicating which identity provider  }- these are for client\r\n     *               loginname:   \"…\",  // account name or email                      }  display only\r\n     *              }, \"https://…\"); // expected to match origin of window.opener e.g. https://airmash.rocks\r\n     *           window.close();\r\n     *         }\r\n     *       </script>\r\n     *     </head>\r\n     *     <body onload=\"closePopup()\"></body>\r\n     *   </html>\r\n     *\r\n     * On the original airma.sh, the login window could call window.opener.loginSuccess()\r\n     * directly as they had the same origin. But now we will want to use the same login\r\n     * flow from multiple domains (airmash.rocks, starma.sh, ...),\r\n     * therefore use Window.postMessage() and Window.addEventListener() for cross-origin\r\n     * communication\r\n     *\r\n     */\r\n    private loginPopup(provider: number) {\r\n        window.addEventListener(\"message\", (e) => this.receiveLoginMessage(e), { once: true });\r\n        this.usedProvider = provider;\r\n        this.loginToken = this.getRandomToken(32);\r\n        const url = `${LOGIN_URL}/login?provider=${provider}&nonce=${this.loginToken}&origin=${window.origin}`;\r\n\r\n        const width = provider === 4 ? 900 : 400;\r\n        const height = provider === 5 ? 800 : 600;\r\n        this.openLoginWindow(url, \"Login\", width, height);\r\n    }\r\n\r\n    private openLoginWindow(url: string, windowTitle: string, width: number, height: number) {\r\n        const screenLeft = window.screenLeft ? window.screenLeft : window.screenX;\r\n        const screenTop = window.screenTop ? window.screenTop : window.screenY;\r\n        const left = (window.innerWidth ? window.innerWidth :\r\n            document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width)\r\n            / 2 - width / 2 + screenLeft;\r\n        const top = (window.innerHeight ? window.innerHeight :\r\n            document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height)\r\n            / 2 - height / 2 + screenTop;\r\n\r\n        window.open(url, windowTitle, \"width=\" + width + \", height=\" + height + \", top=\" + top + \", left=\" + left);\r\n    }\r\n\r\n    private receiveLoginMessage(e: any) {\r\n        if (e.origin !== LOGIN_URL) {\r\n            this.context.logger.error(\"bad origin for login message: \" + e.origin);\r\n            return;\r\n        }\r\n\r\n        if (e.data.provider !== this.usedProvider) {\r\n            this.context.logger.error(\"identity provider does not match: \" + e.data.provider);\r\n            return;\r\n        }\r\n\r\n        if (e.data.nonce !== this.loginToken) {\r\n            this.context.logger.error(\"nonce does not match: \" + e.data.nonce);\r\n            return;\r\n        }\r\n\r\n        this.loginToken = null;\r\n        this.usedProvider = null;\r\n\r\n        this.loginSuccess({\r\n            identityProvider: e.data.provider as number,\r\n            loginName: e.data.loginname as string,\r\n            tokens: e.data.tokens as { game: string, settings: string },\r\n        } as AuthData);\r\n    }\r\n\r\n    private loginSuccess(data: AuthData) {\r\n        this.context.auth = data;\r\n\r\n        localStorage.setItem(AUTH_DATA_KEY, JSON.stringify(data));\r\n\r\n        this.toggleLoginMessage();\r\n        this.finish();\r\n    }\r\n\r\n    private logout() {\r\n        localStorage.removeItem(AUTH_DATA_KEY);\r\n        this.context.auth = null;\r\n\r\n        this.toggleLoginMessage();\r\n    }\r\n}\r\n"],"names":["$parcel$interopDefault","a","__esModule","default","DATA_TYPES","KEY_CODES","SERVER_ERRORS","SERVER_MESSAGE_TYPES","LEAVE_HORIZON_TYPES","MOB_TYPES","PLAYER_LEVEL_UPDATE_TYPES","PLAYER_STATUS","SERVER_CUSTOM_TYPES","PLAYER_POWERUP_TYPES","CTF_TEAMS","CTF_FLAG_STATE","GAME_TYPES","GAME_STATE_CODES","Events","CHAT_TYPE","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$gKvUL","$jJbMR","$ewFRw","$lk5EI","$57966c7e0affc4cb$var$axios","$57966c7e0affc4cb$var$createInstance","defaultConfig","context","instance","prototype","request","extend","create","instanceConfig","Axios","Cancel","CancelToken","isCancel","VERSION","version","all","promises","Promise","spread","isAxiosError","$c319b2c832c2914a$var$toString","Object","toString","$c319b2c832c2914a$var$isArray","val","Array","isArray","$c319b2c832c2914a$var$isUndefined","$c319b2c832c2914a$var$isArrayBuffer","$c319b2c832c2914a$var$isObject","$c319b2c832c2914a$var$isPlainObject","getPrototypeOf","$c319b2c832c2914a$var$isFunction","$c319b2c832c2914a$var$forEach","obj","fn","i","l","length","key","hasOwnProperty","isArrayBuffer","isBuffer","constructor","isFormData","isArrayBufferView","result","ArrayBuffer","isView","buffer","isString","isNumber","isObject","isPlainObject","isUndefined","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","isStandardBrowserEnv","navigator","product","window","document","forEach","merge","$c319b2c832c2914a$var$merge","assignValue","slice","arguments","b","thisArg","trim","str","replace","stripBOM","content","charCodeAt","args","apply","$cbIsf","$83RYu","$dlZEJ","$bv3QM","$a93486d2307f31c3$var$validators","validators","$a93486d2307f31c3$var$Axios","defaults","interceptors","response","configOrUrl","config","url","method","toLowerCase","promise","transitional","undefined","assertOptions","silentJSONParsing","boolean","forcedJSONParsing","clarifyTimeoutError","requestInterceptorChain","synchronousRequestInterceptors","interceptor","runWhen","synchronous","unshift","fulfilled","rejected","responseInterceptorChain","push","chain","concat","resolve","then","shift","newConfig","onFulfilled","onRejected","error","reject","getUri","params","paramsSerializer","data","$8df8fedf1c1e4428$var$encode","encodeURIComponent","serializedParams","parts","v","toISOString","JSON","stringify","join","hashmarkIndex","indexOf","$5de878cd737ef277$var$InterceptorManager","handlers","use","options","eject","h","$7YJ0v","$7L4QX","$lJY4v","$4Tkeq","$9b8d10189805ccc0$var$throwIfCancellationRequested","cancelToken","throwIfRequested","signal","aborted","headers","transformRequest","common","adapter","transformResponse","reason","fns","$hPtJY","$kiL6T","$8v8A7","$fd3c65eeb28abd71$var$DEFAULT_CONTENT_TYPE","$fd3c65eeb28abd71$var$setContentTypeIfUnset","value","$fd3c65eeb28abd71$var$defaults","XMLHttpRequest","$fd3c65eeb28abd71$var$stringifySafely","rawValue","parser","encoder","parse","e","name","strictJSONParsing","responseType","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","status","$cfae44f0dfdf62c0$var$cachedSetTimeout","$cfae44f0dfdf62c0$var$cachedClearTimeout","$cfae44f0dfdf62c0$var$currentQueue","$cfae44f0dfdf62c0$var$process","$cfae44f0dfdf62c0$var$defaultSetTimout","$cfae44f0dfdf62c0$var$defaultClearTimeout","$cfae44f0dfdf62c0$var$runTimeout","fun","setTimeout","clearTimeout","$cfae44f0dfdf62c0$var$queue","$cfae44f0dfdf62c0$var$draining","$cfae44f0dfdf62c0$var$queueIndex","$cfae44f0dfdf62c0$var$cleanUpNextTick","$cfae44f0dfdf62c0$var$drainQueue","len","run","$cfae44f0dfdf62c0$var$runClearTimeout","marker","$cfae44f0dfdf62c0$var$Item","array","$cfae44f0dfdf62c0$var$noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","toUpperCase","toJSON","message","description","number","fileName","lineNumber","columnNumber","stack","$kk0E9","$8JRzs","$7GD7a","$lDriZ","$889er","$kjF3e","onCanceled","requestData","requestHeaders","done","unsubscribe","removeEventListener","auth","username","password","unescape","Authorization","btoa","fullPath","baseURL","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","onreadystatechange","readyState","responseURL","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","read","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancel","type","abort","subscribe","send","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","decodeURIComponent","remove","now","$ckHwb","$fE4ul","requestedURL","test","relativeURL","$fc026bbf9ee156f1$var$ignoreDuplicateOf","parsed","split","line","substr","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","$38fbfe0afbd5bf1e$var$Cancel","__CANCEL__","config1","config2","getMergedValue","target","source","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","keys","configValue","$85f59389941e7907$require$VERSION","$35BUy","$85f59389941e7907$var$validators","thing","$85f59389941e7907$var$deprecatedWarnings","validator","formatMessage","opt","desc","opts","console","warn","schema","allowUnknown","TypeError","$fb81495929d8a282$var$CancelToken","executor","resolvePromise","token","_listeners","onfulfilled","_resolve","listener","index","splice","c","callback","arr","payload","$e097e23fe9578079$export$49cb77d19e897fe6","$e097e23fe9578079$export$bd6a5472535ccab5","$e097e23fe9578079$export$e16542dee1cf1467","$18e45e7867169046$export$2e2bcd8739ae039","LOGIN","BACKUP","HORIZON","ACK","PONG","KEY","COMMAND","SCOREDETAILED","CHAT","WHISPER","SAY","TEAMCHAT","VOTEMUTE","LOCALPING","$1c411432bfef9709$export$2e2bcd8739ae039","PING","PING_RESULT","ERROR","COMMAND_REPLY","PLAYER_NEW","PLAYER_LEAVE","PLAYER_UPDATE","PLAYER_FIRE","PLAYER_HIT","PLAYER_RESPAWN","PLAYER_FLAG","PLAYER_KILL","PLAYER_UPGRADE","PLAYER_TYPE","PLAYER_POWERUP","PLAYER_LEVEL","PLAYER_RETEAM","GAME_FLAG","GAME_SPECTATE","GAME_PLAYERSALIVE","GAME_FIREWALL","EVENT_REPEL","EVENT_BOOST","EVENT_BOUNCE","EVENT_STEALTH","EVENT_LEAVEHORIZON","MOB_UPDATE","MOB_UPDATE_STATIONARY","MOB_DESPAWN","MOB_DESPAWN_COORDS","CHAT_PUBLIC","CHAT_TEAM","CHAT_SAY","CHAT_WHISPER","CHAT_VOTEMUTEPASSED","CHAT_VOTEMUTED","SCORE_UPDATE","SCORE_BOARD","SCORE_DETAILED","SCORE_DETAILED_CTF","SCORE_DETAILED_BTR","SERVER_MESSAGE","SERVER_CUSTOM","$77aedac665eeb9f9$export$68317eef4cf08696","$93253a2a814802d6$export$2e2bcd8739ae039","uint8","text","uint16","uint32","$31f2d7946cdadaba$export$2e2bcd8739ae039","coordx","coordy","rotation","textbig","coord24","speed","healthenergy","regen","arraysmall","accel","float32","$8c40ee774dfe65ed$export$fcabffea81927cf1","s","bytes","Uint8Array","ci","c2","subarray","$8c40ee774dfe65ed$export$2a3384f9191ce613","String","fromCharCode","$d65546d13b8ceefe$var$staticAckPacket","dataView","DataView","setUint8","$d65546d13b8ceefe$var$staticScoredetailedPacket","$d65546d13b8ceefe$export$2e2bcd8739ae039","msg","session","flag","offset","charOffset","setUint16","horizonX","horizonY","setUint32","num","seq","state","com","$065ec9a64641db80$var$staticBackupPacket","$065ec9a64641db80$var$staticAckPacket","$065ec9a64641db80$var$staticChatVotemutedPacket","$065ec9a64641db80$export$2e2bcd8739ae039","arrStrings","arrStringsOffset","arraysSize","players","bots","room","serverConfiguration","success","team","clock","level","posX","posY","rot","upgrades","ping","playerstotal","playersgame","isBot","keystate","u8","speedX","speedY","projectiles","energy","energyRegen","accelX","accelY","maxSpeed","owner","health","healthRegen","killer","defense","missile","duration","blueteam","redteam","setFloat32","radius","mobs","playerHealth","playerHealthRegen","boost","from","to","score","earnings","totalkills","totaldeaths","rankings","x","y","scores","kills","deaths","damage","captures","alive","wins","$8b72c93c7e6c3a89$var$encodedStrings","storage","last","put","flush","$8b72c93c7e6c3a89$var$flushVars","$8b72c93c7e6c3a89$var$calcBufferLength","dataSchema","fieldIndex","fieldName","fieldType","subSchema","fieldData","uint24","float64","$8b72c93c7e6c3a89$var$fillBufferWithData","startOffset","encodedString","arrayElementIndex","u16","setFloat64","$8b72c93c7e6c3a89$var$marshal","usePredefinedMarshal","messageCode","predefMarshal","bufferLength","$8b72c93c7e6c3a89$export$97bc324abc99862e","$03d3c2a8bad48c0b$var$staticAckPacket","$03d3c2a8bad48c0b$var$staticScoredetailedPacket","$03d3c2a8bad48c0b$export$2e2bcd8739ae039","readIndex","getUint8","stringLength","charIndex","getUint16","getUint32","$58e127a82d4b4c67$var$staticBackupPacket","$58e127a82d4b4c67$var$staticAckPacket","$58e127a82d4b4c67$var$staticChatVotemutedPacket","$58e127a82d4b4c67$export$2e2bcd8739ae039","arrayLength","arrayElement","getFloat32","$c6f1544c12e7055a$var$readBufferData","startReadIndex","subSchemaFieldIndex","subFieldName","subFieldType","getFloat64","$c6f1544c12e7055a$var$unmarshal","$c6f1544c12e7055a$export$f0d21d16879ad2a0","$76f6b37726981285$export$5fb656eb8279cede","assign","entries","map","$87b45d444a9d6cc7$export$e9ee844dcc7f0271","$87b45d444a9d6cc7$export$42a822ee93e68ea","$87b45d444a9d6cc7$export$acf2bb14e0f91565","$87b45d444a9d6cc7$export$696edb37a517566d","$87b45d444a9d6cc7$export$b46071ccfafa6f3d","$87b45d444a9d6cc7$export$757f4d82d38e44cb","$87b45d444a9d6cc7$export$92da91fbfb7b66aa","$87b45d444a9d6cc7$export$91e7ecb6780caa5e","$87b45d444a9d6cc7$export$d26f8cc6b574a220","$87b45d444a9d6cc7$export$dc70d30ea27a9c84","$87b45d444a9d6cc7$export$8b45ddaeb7c31e28","$87b45d444a9d6cc7$export$fdf35536e9a0700c","WIDTH","HEIGHT","$f956132f61210f83$export$66d1dac76b8287de","numCode","charCode","$f956132f61210f83$export$c5279c2d460d3a22","AL","DZ","AD","AQ","AR","AM","AU","AT","AZ","BH","BD","BY","BE","BT","BO","BA","BR","BG","CA","CL","CN","CO","COMMUNIST","CONFEDERATE","CR","HR","CU","CY","CZ","DK","DO","KP","EC","EG","SV","EE","EU","FI","FR","GE","DE","GR","GT","HN","HK","HU","IS","IMPERIAL","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JOLLY","JO","KZ","KW","LV","LB","LY","LI","LT","LU","MO","MK","MY","MT","MX","MD","MC","ME","MA","NP","NL","NZ","NG","NO","OM","PK","PA","PY","PE","PH","PL","PT","PR","QA","RAINBOW","RO","RU","SM","SA","RS","SG","SK","SI","SO","ZA","KR","ES","LK","SE","CH","SY","TW","TZ","TH","TT","TN","TR","TM","UA","AE","GB","UN","US","UY","UZ","VE","VN","$d5bae74266feebd6$var$clamp","lower","upper","$d5bae74266feebd6$export$1f1fdb6ace8bea22","$d5bae74266feebd6$export$81184b07be21e3c8","shield","inferno","$d5bae74266feebd6$export$3a66bae294e393e3","UP","DOWN","LEFT","RIGHT","strafe","stealthed","flagspeed","$ed2bcfa6a550406e$export$81ce11201617bceb","performanceNow","performance","timeoutMs","start","startTime","elapsedMs","elapsedSeconds","elapsedMinutes","hasTimedOut","timeoutFraction","$bbad732aa541d8da$export$7e611eda647c99e9","keyQueue","isWorkerInitializing","stopwatchAfterCalculatingPath","initPathFindingWorker","calculatingPathStopwatch","logger","pathFindingWorker","terminate","createPathFindingWorker","onmessage","calculatedPath","needsNewPath","calcPath","postMessage","stop","force","playerToKill","autoPilotToFlag","autoBoost","autoFireToggledManually","autoFire","isOn","enqueueKey","eatKeyQueue","requestTimeoutFor","instr","SPECIAL","boostTimeout","connection","sendKey","botstate","turningTimeout","$9968c76574ffabad$export$ada873a34909da65","$7477aee85877c805$var$TICK_MS","$7477aee85877c805$var$MS_PER_SEC","$7477aee85877c805$export$a532fd855d35deb0","skippedFrames","startProcessingEventQueue","handler","handlersByType","eventType","handles","handlersForType","tm","setInterval","tick","Math","floor","stopwatch","tickCounter","eachSecondStopwatch","lag","getLagMs","diffTime","tooEarly","frameFactor","eventQueue","pub","TICK","frame","timeFromStart","EACH_SECOND","nextMessage","dequeue","process","exec","getOwnPropertyNames","$918741f7904e4de8$export$e6367b8bc557b579","CHAT_SEND","ev","sendChat","playerId","$88bf5f73dfa5b57a$export$940315a71f02c017","KEYBOARD","keyArgs","$c524a7a8ab7a657e$export$4748fae0954bb8cb","MIN_X","MIN_Y","MAX_X","$c524a7a8ab7a657e$export$fdf35536e9a0700c","MAX_Y","$c524a7a8ab7a657e$export$9000cfdce9ac9444","$c114b7c070aa477c$export$54b64fe98c3ef41a","PREDATOR_MISSILE","baseSpeed","speedFactor","infernoSpeedFactor","infernoDamageFactor","distance","shape","repelEnergy","GOLIATH_MISSILE","COPTER_MISSILE","TORNADO_MISSILE","TORNADO_SMALL_MISSILE","PROWLER_MISSILE","$bdf85e9274c899ea$export$be4b57d101c7dae0","getMissiles","missileParams","mobType","prevSpeedX","prevSpeedY","hypot","pos","removeMob","$da9f0f51a11e6713$export$aa1d7fff11452d37","PREDATOR","GOLIATH","COPTER","TORNADO","PROWLER","$da9f0f51a11e6713$var$missileTemplate","alt","$da9f0f51a11e6713$var$missileFireTemplate","def","special","$da9f0f51a11e6713$export$de794ad9b3d6afb7","turnFactor","accelFactor","brakeFactor","boostFactor","infernoFactor","minSpeed","flagSpeed","fireEnergy","specialEnergy","specialEnergyRegen","specialDelay","fireDelay","damageFactor","energyLight","collisions","$58f54767077d59c0$export$9077c3fe1b08d4a3","SPEED","cost","factor","$ced59494b384773c$export$1ef0d431ba4bc4d","intervalSeconds","log","info","$c9d1dabe486c787f$export$fbb3d83649f9a651","PI","$c9d1dabe486c787f$export$3fe2f0ec2f7baf97","player","getPlayers","INACTIVE","updatePlayer","aircraftSpecs","isNaN","energyDiff","shieldOrInfernoTimer","powerUps","flightDirection","speedValue","startSpeedX","startSpeedY","sin","cos","maxspeed","$75d2662fce9f31ac$export$d1763b2f7574d334","$5fa40ec87f9b6d27$export$648b05ad0bbad899","chatType","serverMessage","CHAT_RECEIVED","chatMessage","TEAM","CHAT_NOT_POSSIBLE_BC_MUTED","CHAT_PLAYER_MUTED","SERVER_COMMAND_REPLY","SERVER_ERROR","PLAYER_BOOST","PLAYER_BOUNCE","LEAVE_HORIZON","PLAYER_REPEL","PLAYER_STEALTH","FLAG_UPDATE","PLAYER_SPECTATE","MOUNTAIN_HIT","MISSILE_UPDATE","CRATE_NEW","PLAYER_CHANGE_FLAG","PLAYER_KILLED","TEAMS","PLAYER_UPGRADE_APPLIED","PLAYER_SWITCH_TYPE","SERVER_ANNOUNCEMENT","scoreBoard","MINI_MAP","ffaScores","detailedFfa","$ca9820f5036d37f5$var$PI_2","$ca9820f5036d37f5$export$88719fa01a501de5","other","direction","atan2","equals","$adf765773e02547a$export$acd1b67b03820565","highResPos","posUpdateTimer","$94fa898554ce7217$export$9f88de082db26157","m","addMob","$2446cc6c84060fde$export$d62895eb8d0b916a","getCtfTeam","flagState","flagTakenById","flagPos","BLUE","RED","$fdd7de1257b9b446$export$a01bcde5e6e021e8","mobOrPlayer","MOB","getMobById","getPlayerById","isVisibleOnScreen","PLAYER","$30fae0f4ca680a25$export$f9de6ca0bc043724","upgradesToPowerUps","keystateToPlayerMovements","$eead5056872c678a$export$5258e3695c6fefc5","$4133c675cdad3d12$export$f8aa58de3e528e10","available","$b6a2d44aa9791d0e$export$2616165974278734","posFromMinimap","lowResPos","lowResPosUpdateTimer","mostReliablePos","diff","setMovements","movements","$d0b0b7eb832266ba$export$db3f084f2c8a3b67","spectatingId","myPlayerId","gameType","FFA","CTF","ranking","loginPlayer","p","addPlayer","$ec2d8b7b79d81cb2$export$7958b285ecb30ff7","playerMinimapPos","focusAircraft","getFocusedPlayer","coords","$a649d49a981dd9a5$export$5845cc957b77614a","mob","$6dc87a89c877491b$export$d2e9930cf455f08c","$f0b8393968723d69$export$c0a91f80a79788f6","EXPLOSION","$d7d98d35c0faa128$export$fea50599fc01409f","$8e63836e7c46c518$export$d898c164336326dd","$27cf9cf3dff130c8$export$70a617cba837381c","$f5320996be1a6592$export$beaf5bc61b4858a3","ownerId","$7f286ffdf5de55fc$export$c3f91a347532312c","who","$2da9357579056d37$export$bfdd021ee70e0754","$f80704f7cc52c647$export$4d292aecdc95915f","removePlayer","$ea554d88cfeedeee$export$3e4e3511032a11ab","LEVELUP","MESSAGE_TO_PLAYER","$bbb45b630755c660$export$69e04bbaca85ddb3","$25d613a83ba03cd5$export$15ad0fd328c6f45f","hasShield","SHIELD","hasInferno","INFERNO","$9b3d10c87568acf7$export$c988119c861e542e","repelledPlayer","$2d0ef53fd2504491$export$8ea528941535e4c","ALIVE","$a9b7bfb0626d3bcc$export$cbe3f35926a9221e","$fb756e7a5dff9891$export$552aa09374207b0c","$bea32aa4231249f7$export$8d56994814bcf118","$a8079fb2acd89e54$export$11e4ce01fccd8fec","$74e806647c813a90$export$7f0b08775df8d7fb","u","$13c7f18c1410cbf8$export$c5115ec7ccd55b07","playerScore","$fb4d2b66386f23a2$export$3e74a27329e57bb1","ctfScores","$a910483a07a94a3a$export$bc609f4bf45c2115","$02b46e28b08674ad$export$58ee7786790aca8d","$8a892c33dc7036f0$export$d539ea555dfed31e","SPAM_WARING_RECEIVED","$4905700ae2b83259$export$18eaed6a4a83b967","CTF_GAME_OVER","$2f03cb659e83805a$export$95ba2b88ba93531b","$f1db6ebdfb52ea93$export$1022856bf78f6588","$5aa44addb5d309de$export$1c97c34345443340","getDefaultHandlers","$60e13f38b92dc041$export$c72f6eaae7b9adff","websocketUrl","playerName","logLevel","isDevelopment","zoom","useBitmaps","shouldShowDebugInfo","$30bd2ca140c9a447$export$53c071335e90c4fd","$5d431779d34d0e11$var$MISSILES","$5d431779d34d0e11$var$CRATES","UPGRADE","$5d431779d34d0e11$export$7254cc27399e90bd","teams","explosions","farts","rocketTrailClouds","Number","getPlayerByName","find","values","getPlayerName","allMobs","filter","getUpcrates","getOtherCtfTeam","otherTeam","purgeAfterPanic","addExplosion","expl","getActiveExplosions","activeExplosions","isFinished","addKill","kill","getActiveKills","activeKills","addFart","fart","getActiveFarts","activeFarts","addRocketTrailCloud","cloud","getActiveRocketTrailClouds","activeClouds","$01459c8a440766ec$export$7a3ed086e5f6e799","action","ms","onTimeoutFinished","timeouts","intervals","clearInterval","onIntervalCleared","clearAll","t","$94d961d1016672f2$export$99f1242aa3690c5d","lastPressed","$2678f6b020b306a6$export$98b66c25bb38499d","keySequenceNumber","lagMs","lastReceivedMessages","lastReceivedMessagesGcStopwatch","lastSentKeyStates","client","initWebSocket","onInitPrimary","cache","backupClientIsConnected","sendCommand","command","voteMute","fetchDetailedScore","targetPlayerID","sendScreenSize","width","height","ceil","loginPromiseResolver","debug","thirdPartyLogin","tokens","game","settings","afterLogin","ackInterval","ackToBackup","backupClient","close","onInitBackup","resetCalibration","newTime","serverClockCalibrationTimeResetStopwatch","serverClockCalibrationTime","isPrimary","ws","webSocketFactory","binaryType","onopen","shouldDropMessage","calibrateTime","pingResult","pingResultResult","numPlayers","numPlayersTotal","CONNECTION_ERROR","onclose","CONNECTION_CLOSE","currentServerClock","lastServerClock","elapsedOnServer","elapsedHere","existingKey","sendToBackup","clientMgs","$869c996441bfa57f$export$219f39b771ed4b6","$83ea097b3d8b02b5$export$2fc6338444a158e6","queue","$522acc80766a1de1$export$694fff7a1fdd2092","clearKeys","me","FIRE","$666bc8f27f76152a$exports","factory","converter","defaultAttributes","set","attributes","toUTCString","escape","stringifiedAttributes","attributeName","get","cookies","jar","foundKey","withAttributes","withConverter","freeze","$5f638201e24c3bf1$export$669c6859c790e38f","$3f0b29c9b9b818dd$export$475e1b6ebd5909d3","renderer","addMessageToPlayer","chat","addChat","$107c71edb2e354cd$export$85d64bac6bfa9f17","showServerMessage","INFO","w","$df691a74ed020c82$export$c1d8b1ebee9937a","isBrowserVisible","renderMinimap","renderPlayerList","showPing","showStats","hideServerMessageAfterTimeout","$c2b3a6644f6f2e6b$export$35efb21eaadd6441","size","$c2b3a6644f6f2e6b$var$EXPLOSION_MAX_SIZE","$b305ac19c5b8613b$export$6f5bdb10fc1e8bcf","explosion","$967dee051c5605c1$export$5aeec621b3135ec8","isFirstTick","requestAnimationFrame","renderGame","$cbdec2e48cbf91e1$export$bdcfafbed8199542","$cbdec2e48cbf91e1$var$FART_START_SIZE","$efe7aa38ca456f2f$export$3c77209166e9f341","repel","fartVisual","$e695c6d3a339f041$export$5cf19a33bad8e376","$e695c6d3a339f041$var$KILL_MAX_SIZE","$2b19eb4d00b066ef$export$7844237461c8aa85","killVisual","$b8fd685ca765a2a3$export$53bfe0fb2c2b1f07","spec","cloudTimeoutMs","opacity","cloudGrowMs","opacityGrowStep","max","opacityMax","opacityShrinkStep","sizeStart","sizeGrowStep","sizeMax","sizeShrinkStep","$96b6e4bbf12390cd$var$specs","$96b6e4bbf12390cd$export$c77fe7292020956a","getFor","scale","spawnFreq","distribBandwidth","$49a8accf75f9ad17$export$80b0c53878a17868","cloudVisualSpec","jumpX","jumpY","$b24ad1d080064890$export$c339d1be4f8ccc8c","ALERT","ACCOUNT_BANNED","AFK_DISCONNECT","ALREADY_LOGGED_IN","CHAT_SPAMMING","FLAG_CHANGE_TOO_FAST","FORBIDDEN_TO_CHANGE_PLANE_IN_BTR","GLOBAL_BAN","INCORRECT_PROTOCOL","INVALID_LOGIN_DATA","NOT_ENOUGH_UPGRADES","PACKET_FLOODING_BAN","PACKET_FLOODING_DISCONNECT","PLAYER_KICKED","REQUIRED_INACTIVITY_AND_HEALTH_TO_RESPAWN","REQUIRED_INACTIVITY_AND_HEALTH_TO_SPECTATE","UNKNOWN_COMMAND","UNKNOWN_ERROR","div","innerHTML","innerText","$1d69ee043a1b2d46$export$a6a698d3755b38ea","renderKill","$eb9d75dfdd8bcf6d$export$debf6dbafc38d822","renderHit","$bf23c47bbc5287c8$export$2d4fc1947ee0ef49","detectVisibilityChange","hidden","visibilityChange","msHidden","webkitHidden","isVisible","setBrowserVisibility","throttleZoom","zoomThrottleStopwatch","getElementById","ctrlKey","preventDefault","$45c0f08d71a09fb6$export$f7a7c196f3347cb6","fatal","$388004d7e0733cf6$export$1fc7b7aa89fe6430","WebSocket","$a0ff52c2bc39c2e1$var$SHAKE_MARGIN_CSS","$a0ff52c2bc39c2e1$export$c0979c0656c7edae","setClip","canvas","innerWidth","$a0ff52c2bc39c2e1$var$SHAKE_MARGIN","innerHeight","style","left","top","lastWidth","lastHeight","screenSizeX","screenSizeY","myPos","halfWidth","halfHeight","clipRectangle","translate","getClipRectangle","getClipSize","$85dbc8b8658f9f46$export$93fe6a6199f696cb","clip","backgroundImage","renderBackground","clipRect","clipSize","drawImage","fillStyle","constants","BACKGROUND_GRID_COLOR","gridDistance","fillRect","$ccaa89f0ff8dda92$export$874de3a4c08b1e3c","debugPanel","render","lagText","toLocaleString","maximumFractionDigits","minimumFractionDigits","skippedFramesText","$f1e7e6e56a469954$export$18323953f4cd5fe9","renderExplosions","EFFECTS_EXPLOSION_COLOR","clipPos","beginPath","arc","fill","EFFECTS_KILL_COLOR","EFFECTS_FART_COLOR","EFFECTS_MISSILE_BASE_COLOR","cloudSize","$6c828cc0e99890b6$export$94c011cc3650170c","blue","red","$6a2e7908822773d5$export$7c38ebd1f7ca6a5a","blueFlag","redFlag","ctx","redTeam","blueTeam","renderFlag","renderBase","CTF_BLUE_TEAM_COLOR","CTF_RED_TEAM_COLOR","color","leftUpper","$6a2e7908822773d5$var$CTF_BASE_SIZE","rightBottom","scaledBasePos","scaledBaseSize","halfBaseSize","strokeStyle","lineWidth","lineJoin","strokeRect","isFlagVisible","isFlagBeingCarried","DYNAMIC","carrier","clippedFlagPos","scaledWidth","scaledHeight","$088ca4e4a37a500d$var$HALF_MAP_WIDTH","$088ca4e4a37a500d$var$HALF_MAP_HEIGHT","$088ca4e4a37a500d$export$25dfd1a564ba016f","canvasContext","getContext","highlight","playerToHighlight","clearRect","scaleX","scaleY","myId","MINIMAP_HIGHLIGHT_COLOR","$088ca4e4a37a500d$var$MY_RECT_WIDTH","$088ca4e4a37a500d$var$MY_RECT_HEIGHT","MINIMAP_FFA_PLAYER_COLOR","MINIMAP_PLAYER_1_COLOR","MINIMAP_PLAYER_2_COLOR","MINIMAP_PLAYER_3_COLOR","stroke","basePos","scaledPos","ctfFlagHeight","$088ca4e4a37a500d$var$CTF_FLAG_SIZE","$088ca4e4a37a500d$var$CTF_BASE_SIZE","$a778820b52fc3fb6$export$c7649bc6c14cc54c","missileImage","renderMissiles","MISSILE_COLOR","missileScale","rotate","shouldRestoreAlphs","globalAlpha","targetWidth","targetHeight","$f34d2923ac0d5280$export$96efaeec00b6a653","renderPath","count","moveTo","lineTo","font","fillText","distanceToTarget","$7657f5cb72609293$export$e1a40e859738b26d","listElement","sort","ar","MAX_SAFE_INTEGER","rowCount","cellPos","cellFlag","cellName","cellScore","flagImage","row","rows","cells","firstElementChild","insertRow","insertCell","className","appendChild","src","dataset","encodeURI","$07b7249a5d8e4993$export$b9132fa03224950b","flagImages","saysToSay","images","mohawk","prowler","raptor","spirit","tornado","addSay","sw","renderPlayers","scaledFontSize","scaledFlagWidth","scaledFlagPaddingTop","scaledFlagMarginLeft","initFlagImages","isInViewPort","isInvisiblyInViewPort","isStealthyInViewPort","isFriendlyPlayer","isInvisibleProwler","isProwler","renderAircraft","renderBars","renderName","renderTextBubble","say","PLAYER_SAY_BACKGROUND_COLOR","textWidth","measureText","sayLeft","sayTop","sayMargin","sayHeight","PLAYER_SAY_FOREGROUND_COLOR","nameColor","PLAYER_NAME_COLOR","PLAYER_NAME_NOBITMAP_COLOR","PLAYER_NAME_BLUE_TEAM_COLOR","PLAYER_NAME_RED_TEAM_COLOR","levelPostfix","flagSpace","nameWidth","PLAYER_HEALTH_OK_COLOR","PLAYER_HEALTH_DANGER_COLOR","PLAYER_HEALTH_WARN_COLOR","r","PLAYER_ENERGY_COLOR","PLAYER_SHIELD_COLOR","PLAYER_INFERNO_COLOR","shieldR","$07b7249a5d8e4993$var$HEALTH_ENERGY_BARS_RADIUS","PLAYER_NOBITMAP_BLUE_TEAM_PROWLER_COLOR","PLAYER_NOBITMAP_RED_TEAM_PROWLER_COLOR","PLAYER_NOBITMAP_PROWLER_COLOR","image","actionX","actionY","hitCircle","PLAYER_NOBITMAP_BLUE_TEAM_COLOR","PLAYER_NOBITMAP_RED_TEAM_COLOR","PLAYER_NOBITMAP_COLOR","hitCirclePos","$0476f79811a227d4$export$1a91dc5172ef13d1","scoreElement","upgradesElement","killsElement","deathsElement","upgrSpeedElement","upgrDefenseElement","upgrEnergyElement","upgrMissileElement","ctfInfo","blueScore","redScore","blueFlagLocation","redFlagLocation","n","display","blueInfo","redInfo","carrierName","$aefae086674f5c56$var$CRATE_ROTATION","$aefae086674f5c56$export$8ea12f09ca9c4b43","renderUpcrates","crate","fillColor","UPCRATES_UPGRADE_CRATE_COLOR","UPCRATES_RAMPAGE_CRATE_COLOR","UPCRATES_SHIELD_CRATE_COLOR","halfSize","$aefae086674f5c56$var$CRATE_HALF_SIZE","rect","UPCRATES_BORDER_COLOR","$7982582df104c162$export$538e3d9fdc6b7eea","$6fbb097bbff99c32$export$ad1bda8f994200fe","medium","large","regular","small","smaller","mini","wallNum","wall","wallImages","img","renderWalls","topLeft","bottRight","scaledRadius","scaledradius","WALLS_NOBITMAP_COLOR","$243a668d12848bf5$export$88530751e3977073","ignoredPlayers","getUiElements","periodicLogger","backgroundRenderer","wallsRenderer","flagRenderer","upcratesRenderer","playersRenderer","missilesRenderer","explosionsRenderer","minimapRenderer","playerListRenderer","statsRenderer","debugInfoRenderer","pathRenderer","chatBox","scrollTop","scrollHeight","typeLabel","safePlayerName","durationMs","serverMessageStopwatch","pingElement","highlightPlayerOnMinimap","ignorePlayer","unignorePlayer","stopShaking","canvasCtx","shakeTimeout","$0994f77e21259343$export$407d81fed3aadf8c","onclick","selectAircraft","selection","$01916f20cc6acfae$export$42b438d73b8c4813","applyUpgrade","drop","dropUpgrade","$91c0951a886107eb$export$19b903fd083c557c","commandRegex","input","hide","instructionSpan","showAndFocus","focus","startChat","suggestedText","isChatInputFocused","submit","commandMatch","allPlayers","targetPlayer","startsWith","whisperText","$281b583cc7804df9$export$24fb9f64148439b8","chatInput","applyUpgrades","dropFlag","spectate","aircraftSelection","playerDropdownMenu","onKey","onMouseFire","playerList","onMouseUpInChatOrPlayerList","isContextMenu","isActive","element","button","show","stopPropagation","isButtonDown","isKeyDown","keyToSend","keyCode","toggleAutoFire","repeat","$99755b491367fbff$export$45eb9afb13d4eaf2","item","menu","menuTitle","menuStats","getElementsByClassName","onMenuItemClicked","currentId","currentName","decodeURI","$4585058afdd09f47$export$258822cc09b57006","$eb2423c71c5b5cec$export$fd6c1e481edfbf49","$94e5356c1e2e427f$export$109633a66cd35549","autofireButton","$1d96c29ebf0e6ca7$export$14da6c45a3a92149","timer","wasAutoFiring","$1f3a6d8bc825c746$export$bda121a3d6c3df26","$eafbdc7589b7c78c$export$8ed2720d4b202729","switchSides","switch","showMessage","myAircraft","$93b2dfe17d3998ce$export$9bdec6016cc824e2","getAngleDiff","current","getTargetRotation","pos1","pos2","theta","$dc39bf6d2a3cff8d$var$MS_PER_FRAME","$dc39bf6d2a3cff8d$var$MS_PER_SEC","$dc39bf6d2a3cff8d$export$d40142cf9c563f29","locationToFace","execute","otherKey","targetRotation","rotDiff","absDiff","abs","framesNeededToTurn","$3bdf395871f08f45$export$1f333647865369bf","getDelta","first","second","diffX","diffY","sqrt","$367927effb37cee8$var$MS_PER_FRAME","$367927effb37cee8$var$MS_PER_SEC","$367927effb37cee8$export$e7a0742013817f1a","predictPosition","lookaheadMs","framesAhead","$bb452d04388de75d$var$MS_PER_FRAME","$bb452d04388de75d$var$MS_PER_SEC","$bb452d04388de75d$export$b68a86b8e4024f3b","posToGoTo","closeness","backupIfTooClose","finish","isClose","tickDuration","allowBoostRange","$bb452d04388de75d$var$DISTANCE_CLOSE","round","avoid","aircraftType","pointsToAvoid","nextStep","faceLocation","tickDurationMs","firstStep","numFramesInPrevTick","distancePrevTick","pow","$bea75fb613efa0dd$export$32f32f5cf98c6d99","autoPilot","followPlayer","doSteering","goto","killPlayer","keyInstructions","$ab36003b7ef5a21c$export$73376787cff0536","$463d127a4f96db4b$export$d3c56bb08f4622c8","wasAutoBoosting","enemyTeam","$b302555736d21bd7$exports","$63cb6858cb4f8cdd$export$3705b54de0e001da","$d523b41cd20d3b4b$export$532f6546a3761db5","$8907ee98afb1028f$export$84364f9bc5016998","$450e6aededd4f07e$var$LOCAL_SERVER_URL","$450e6aededd4f07e$export$853f5eec935cba76","addLocalServerUrl","serverInfo","localUrl","URL","games","nameShort","getServerInfo","$450e6aededd4f07e$var$GAMES_URL","getFallbackData","lines","$450e6aededd4f07e$var$FALLBACK_URL","country","fields","region","$8b37cc73752ebf78$export$e7bb156bab272e0b","loadStyle","querySelectorAll","lastUrl","link","$9b0c53c9efd7c1a8$var$LOGIN_URL","$9b0c53c9efd7c1a8$var$AUTH_DATA_KEY","$9b0c53c9efd7c1a8$export$24087d0993113155","btn","loginButton","loginSelector","overlay","loginMessage","orgLoginMessageText","orgLoginButtonText","logout","provider","getAttribute","loginPopup","loadPreviousLoginData","raw","localStorage","getItem","toggleLoginMessage","loginName","getRandomToken","crypto","getRandomValues","Uint32Array","receiveLoginMessage","usedProvider","loginToken","origin","openLoginWindow","windowTitle","screenLeft","screenX","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","nonce","loginSuccess","identityProvider","loginname","setItem","removeItem","Worker","timestamp","$39417c10a2068975$var$landingPage","serverGamesRepository","stylesRepository","nameInput","styleSelect","zoomSelect","doBackground","populateServerList","loadAllFlags","fillInPrevSettings","loadConstantsPromise","prevSettingsString","prevSettings","select","selected","selectElement","option","startGame","body","gameContext","gamesContainer","table","server","append","cellRegion","cellGameName","cellNumPlayers","cellButton","backgroundSize","upgradeSelection","autofire","browserInitialization","browserVisibilityHandler","keyboardInput","processor"],"version":3,"file":"index.614c9a53.js.map"}